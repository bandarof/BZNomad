"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@builder.io";
exports.ids = ["vendor-chunks/@builder.io"];
exports.modules = {

/***/ "(rsc)/./node_modules/@builder.io/sdk/dist/index.esm.js":
/*!********************************************************!*\
  !*** ./node_modules/@builder.io/sdk/dist/index.esm.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BehaviorSubject: () => (/* binding */ BehaviorSubject),\n/* harmony export */   Builder: () => (/* binding */ Builder),\n/* harmony export */   BuilderComponent: () => (/* binding */ BuilderComponent),\n/* harmony export */   Subscription: () => (/* binding */ Subscription),\n/* harmony export */   builder: () => (/* binding */ builder),\n/* harmony export */   isBrowser: () => (/* binding */ isBrowser)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/@builder.io/sdk/node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var hash_sum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hash-sum */ \"(rsc)/./node_modules/hash-sum/hash-sum.js\");\n/* harmony import */ var hash_sum__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(hash_sum__WEBPACK_IMPORTED_MODULE_0__);\n\n\n(function() {\n    if (true) return false;\n    function CustomEvent(event, params) {\n        params = params || {\n            bubbles: false,\n            cancelable: false,\n            detail: null\n        };\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    }\n    window.CustomEvent = CustomEvent;\n})();\nvar isSafari =  false && 0;\nvar isClient = \"undefined\" !== 'undefined';\n// TODO: queue all of these in a debounceNextTick\nfunction nextTick(fn) {\n    // if (typeof process !== 'undefined' && process.nextTick) {\n    //   console.log('process.nextTick?');\n    //   process.nextTick(fn);\n    //   return;\n    // }\n    // FIXME: fix the real safari issue of this randomly not working\n    if (!isClient || isSafari || typeof MutationObserver === 'undefined') {\n        setTimeout(fn);\n        return;\n    }\n    var called = 0;\n    var observer = new MutationObserver(function() {\n        return fn();\n    });\n    var element = document.createTextNode('');\n    observer.observe(element, {\n        characterData: true\n    });\n    // tslint:disable-next-line\n    element.data = String(called = ++called);\n}\nvar PROPERTY_NAME_DENY_LIST = Object.freeze([\n    '__proto__',\n    'prototype',\n    'constructor'\n]);\n// TODO: unit tests\nvar QueryString = /** @class */ function() {\n    function QueryString1() {}\n    QueryString1.parseDeep = function(queryString) {\n        var obj = this.parse(queryString);\n        return this.deepen(obj);\n    };\n    QueryString1.stringifyDeep = function(obj) {\n        var map = this.flatten(obj);\n        return this.stringify(map);\n    };\n    QueryString1.parse = function(queryString) {\n        var query = {};\n        var pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\n        for(var i = 0; i < pairs.length; i++){\n            var pair = pairs[i].split('=');\n            // TODO: node support?\n            try {\n                query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\n            } catch (error) {\n            // Ignore malformed URI components\n            }\n        }\n        return query;\n    };\n    QueryString1.stringify = function(map) {\n        var str = '';\n        for(var key in map){\n            if (map.hasOwnProperty(key)) {\n                var value = map[key];\n                if (str) {\n                    str += '&';\n                }\n                str += encodeURIComponent(key) + '=' + encodeURIComponent(value);\n            }\n        }\n        return str;\n    };\n    QueryString1.deepen = function(map) {\n        // FIXME; Should be type Tree = Record<string, string | Tree>\n        // requires a typescript upgrade.\n        var output = {};\n        for(var k in map){\n            var t = output;\n            var parts = k.split('.');\n            var key = parts.pop();\n            for(var _i = 0, parts_1 = parts; _i < parts_1.length; _i++){\n                var part = parts_1[_i];\n                assertAllowedPropertyName(part);\n                t = t[part] = t[part] || {};\n            }\n            t[key] = map[k];\n        }\n        return output;\n    };\n    QueryString1.flatten = function(obj, _current, _res) {\n        if (_res === void 0) {\n            _res = {};\n        }\n        for(var key in obj){\n            var value = obj[key];\n            var newKey = _current ? _current + '.' + key : key;\n            if (value && typeof value === 'object') {\n                this.flatten(value, newKey, _res);\n            } else {\n                _res[newKey] = value;\n            }\n        }\n        return _res;\n    };\n    return QueryString1;\n}();\nfunction assertAllowedPropertyName(name) {\n    if (PROPERTY_NAME_DENY_LIST.indexOf(name) >= 0) throw new Error(\"Property name \\\"\".concat(name, \"\\\" is not allowed\"));\n}\nvar Subscription = /** @class */ function() {\n    function Subscription1(listeners, listener) {\n        this.listeners = listeners;\n        this.listener = listener;\n        this.unsubscribed = false;\n        this.otherSubscriptions = [];\n    }\n    Object.defineProperty(Subscription1.prototype, \"closed\", {\n        get: function() {\n            return this.unsubscribed;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Subscription1.prototype.add = function(subscription) {\n        this.otherSubscriptions.push(subscription);\n    };\n    Subscription1.prototype.unsubscribe = function() {\n        if (this.unsubscribed) {\n            return;\n        }\n        if (this.listener && this.listeners) {\n            var index = this.listeners.indexOf(this.listener);\n            if (index > -1) {\n                this.listeners.splice(index, 1);\n            }\n        }\n        this.otherSubscriptions.forEach(function(sub) {\n            return sub.unsubscribe();\n        });\n        this.unsubscribed = true;\n    };\n    return Subscription1;\n}();\n// TODO: follow minimal basic spec: https://github.com/tc39/proposal-observable\nvar BehaviorSubject = /** @class */ function() {\n    function BehaviorSubject1(value) {\n        var _this = this;\n        this.value = value;\n        this.listeners = [];\n        this.errorListeners = [];\n        this.then = function() {\n            var _a;\n            var args = [];\n            for(var _i = 0; _i < arguments.length; _i++){\n                args[_i] = arguments[_i];\n            }\n            return (_a = _this.toPromise()).then.apply(_a, args);\n        };\n    }\n    BehaviorSubject1.prototype.next = function(value) {\n        this.value = value;\n        for(var _i = 0, _a = this.listeners; _i < _a.length; _i++){\n            var listener = _a[_i];\n            listener(value);\n        }\n    };\n    // TODO: implement this as PIPE instead\n    BehaviorSubject1.prototype.map = function(fn) {\n        var newSubject = new BehaviorSubject1(fn(this.value));\n        // TODO: on destroy delete these\n        this.subscribe(function(val) {\n            newSubject.next(fn(val));\n        });\n        this.catch(function(err) {\n            newSubject.error(err);\n        });\n        return newSubject;\n    };\n    BehaviorSubject1.prototype.catch = function(errorListener) {\n        this.errorListeners.push(errorListener);\n        return new Subscription(this.errorListeners, errorListener);\n    };\n    BehaviorSubject1.prototype.error = function(error) {\n        for(var _i = 0, _a = this.errorListeners; _i < _a.length; _i++){\n            var listener = _a[_i];\n            listener(error);\n        }\n    };\n    BehaviorSubject1.prototype.subscribe = function(listener, errorListener) {\n        this.listeners.push(listener);\n        if (errorListener) {\n            this.errorListeners.push(errorListener);\n        }\n        return new Subscription(this.listeners, listener);\n    };\n    BehaviorSubject1.prototype.toPromise = function() {\n        var _this = this;\n        return new Promise(function(resolve, reject) {\n            var subscription = _this.subscribe(function(value) {\n                resolve(value);\n                subscription.unsubscribe();\n            }, function(err) {\n                reject(err);\n                subscription.unsubscribe();\n            });\n        });\n    };\n    BehaviorSubject1.prototype.promise = function() {\n        return this.toPromise();\n    };\n    return BehaviorSubject1;\n}();\nvar State = {\n    Pending: 'Pending',\n    Fulfilled: 'Fulfilled',\n    Rejected: 'Rejected'\n};\nfunction isFunction(val) {\n    return val && typeof val === 'function';\n}\nfunction isObject(val) {\n    return val && typeof val === 'object';\n}\nvar TinyPromise = /** @class */ function() {\n    function TinyPromise1(executor) {\n        this._state = State.Pending;\n        this._handlers = [];\n        this._value = null;\n        executor(this._resolve.bind(this), this._reject.bind(this));\n    }\n    TinyPromise1.prototype._resolve = function(x) {\n        var _this = this;\n        if (x instanceof TinyPromise1) {\n            x.then(this._resolve.bind(this), this._reject.bind(this));\n        } else if (isObject(x) || isFunction(x)) {\n            var called_1 = false;\n            try {\n                var thenable = x.then;\n                if (isFunction(thenable)) {\n                    thenable.call(x, function(result) {\n                        if (!called_1) _this._resolve(result);\n                        called_1 = true;\n                        return undefined;\n                    }, function(error) {\n                        if (!called_1) _this._reject(error);\n                        called_1 = true;\n                        return undefined;\n                    });\n                } else {\n                    this._fulfill(x);\n                }\n            } catch (ex) {\n                if (!called_1) {\n                    this._reject(ex);\n                }\n            }\n        } else {\n            this._fulfill(x);\n        }\n    };\n    TinyPromise1.prototype._fulfill = function(result) {\n        var _this = this;\n        this._state = State.Fulfilled;\n        this._value = result;\n        this._handlers.forEach(function(handler) {\n            return _this._callHandler(handler);\n        });\n    };\n    TinyPromise1.prototype._reject = function(error) {\n        var _this = this;\n        this._state = State.Rejected;\n        this._value = error;\n        this._handlers.forEach(function(handler) {\n            return _this._callHandler(handler);\n        });\n    };\n    TinyPromise1.prototype._isPending = function() {\n        return this._state === State.Pending;\n    };\n    TinyPromise1.prototype._isFulfilled = function() {\n        return this._state === State.Fulfilled;\n    };\n    TinyPromise1.prototype._isRejected = function() {\n        return this._state === State.Rejected;\n    };\n    TinyPromise1.prototype._addHandler = function(onFulfilled, onRejected) {\n        this._handlers.push({\n            onFulfilled: onFulfilled,\n            onRejected: onRejected\n        });\n    };\n    TinyPromise1.prototype._callHandler = function(handler) {\n        if (this._isFulfilled() && isFunction(handler.onFulfilled)) {\n            handler.onFulfilled(this._value);\n        } else if (this._isRejected() && isFunction(handler.onRejected)) {\n            handler.onRejected(this._value);\n        }\n    };\n    TinyPromise1.prototype.then = function(onFulfilled, onRejected) {\n        var _this = this;\n        switch(this._state){\n            case State.Pending:\n                {\n                    return new TinyPromise1(function(resolve, reject) {\n                        _this._addHandler(function(value) {\n                            nextTick(function() {\n                                try {\n                                    if (isFunction(onFulfilled)) {\n                                        resolve(onFulfilled(value));\n                                    } else {\n                                        resolve(value);\n                                    }\n                                } catch (ex) {\n                                    reject(ex);\n                                }\n                            });\n                        }, function(error) {\n                            nextTick(function() {\n                                try {\n                                    if (isFunction(onRejected)) {\n                                        resolve(onRejected(error));\n                                    } else {\n                                        reject(error);\n                                    }\n                                } catch (ex) {\n                                    reject(ex);\n                                }\n                            });\n                        });\n                    });\n                }\n            case State.Fulfilled:\n                {\n                    return new TinyPromise1(function(resolve, reject) {\n                        nextTick(function() {\n                            try {\n                                if (isFunction(onFulfilled)) {\n                                    resolve(onFulfilled(_this._value));\n                                } else {\n                                    resolve(_this._value);\n                                }\n                            } catch (ex) {\n                                reject(ex);\n                            }\n                        });\n                    });\n                }\n            case State.Rejected:\n                {\n                    return new TinyPromise1(function(resolve, reject) {\n                        nextTick(function() {\n                            try {\n                                if (isFunction(onRejected)) {\n                                    resolve(onRejected(_this._value));\n                                } else {\n                                    reject(_this._value);\n                                }\n                            } catch (ex) {\n                                reject(ex);\n                            }\n                        });\n                    });\n                }\n        }\n    };\n    return TinyPromise1;\n}();\nvar Promise$1 = typeof Promise !== 'undefined' ? Promise : TinyPromise;\n// Webpack workaround to conditionally require certain external modules\n// only on the server and not bundle them on the client\nvar serverOnlyRequire;\ntry {\n    // tslint:disable-next-line:no-eval\n    serverOnlyRequire = eval('require');\n} catch (err) {\n    // all good\n    serverOnlyRequire = function() {\n        return null;\n    };\n}\nvar serverOnlyRequire$1 = serverOnlyRequire;\nfunction promiseResolve(value) {\n    return new Promise$1(function(resolve) {\n        return resolve(value);\n    });\n}\n// Adapted from https://raw.githubusercontent.com/developit/unfetch/master/src/index.mjs\nfunction tinyFetch(url, options) {\n    if (options === void 0) {\n        options = {};\n    }\n    return new Promise$1(function(resolve, reject) {\n        var request = new XMLHttpRequest();\n        request.open(options.method || 'get', url, true);\n        if (options.headers) {\n            for(var i in options.headers){\n                request.setRequestHeader(i, options.headers[i]);\n            }\n        }\n        request.withCredentials = options.credentials === 'include';\n        request.onload = function() {\n            resolve(response());\n        };\n        request.onerror = reject;\n        request.send(options.body);\n        function response() {\n            var keys = [];\n            var all = [];\n            var headers = {};\n            var header = undefined;\n            request.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, function(_match, _key, value) {\n                var key = _key;\n                keys.push(key = key.toLowerCase());\n                all.push([\n                    key,\n                    value\n                ]);\n                header = headers[key];\n                headers[key] = header ? \"\".concat(header, \",\").concat(value) : value;\n                return '';\n            });\n            return {\n                ok: (request.status / 100 | 0) === 2,\n                status: request.status,\n                statusText: request.statusText,\n                url: request.responseURL,\n                clone: response,\n                text: function() {\n                    return promiseResolve(request.responseText);\n                },\n                json: function() {\n                    return promiseResolve(request.responseText).then(JSON.parse);\n                },\n                blob: function() {\n                    return promiseResolve(new Blob([\n                        request.response\n                    ]));\n                },\n                headers: {\n                    keys: function() {\n                        return keys;\n                    },\n                    entries: function() {\n                        return all;\n                    },\n                    get: function(n) {\n                        return headers[n.toLowerCase()];\n                    },\n                    has: function(n) {\n                        return n.toLowerCase() in headers;\n                    }\n                }\n            };\n        }\n    });\n}\nfunction getFetch() {\n    // If fetch is defined, in the browser, via polyfill, or in a Cloudflare worker, use it.\n    var _fetch = undefined;\n    if (globalThis.fetch) {\n        _fetch !== null && _fetch !== void 0 ? _fetch : _fetch = globalThis.fetch;\n    } else if (true) {\n        // If fetch is not defined, in a Node.js environment, use node-fetch.\n        try {\n            // node-fetch@^3 is ESM only, and will throw error on require.\n            _fetch !== null && _fetch !== void 0 ? _fetch : _fetch = serverOnlyRequire$1('node-fetch');\n        } catch (e) {\n            // If node-fetch is not installed, use tiny-fetch.\n            console.warn('node-fetch is not installed. consider polyfilling fetch or installing node-fetch.');\n            console.warn(e);\n        }\n    }\n    // Otherwise, use tiny-fetch.\n    return _fetch !== null && _fetch !== void 0 ? _fetch : tinyFetch;\n}\nfunction assign(target) {\n    var to = Object(target);\n    for(var index = 1; index < arguments.length; index++){\n        var nextSource = arguments[index];\n        if (nextSource != null) {\n            // Skip over if undefined or null\n            for(var nextKey in nextSource){\n                // Avoid bugs when hasOwnProperty is shadowed\n                if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                    to[nextKey] = nextSource[nextKey];\n                }\n            }\n        }\n    }\n    return to;\n}\nfunction throttle(func, wait, options) {\n    if (options === void 0) {\n        options = {};\n    }\n    var context;\n    var args;\n    var result;\n    var timeout = null;\n    var previous = 0;\n    var later = function() {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n    };\n    return function() {\n        var now = Date.now();\n        if (!previous && options.leading === false) previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        } else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\nvar camelCaseToKebabCase = function(str) {\n    return str ? str.replace(/([A-Z])/g, function(g) {\n        return \"-\".concat(g[0].toLowerCase());\n    }) : '';\n};\nvar Animator = /** @class */ function() {\n    function Animator1() {}\n    Animator1.prototype.bindAnimations = function(animations) {\n        for(var _i = 0, animations_1 = animations; _i < animations_1.length; _i++){\n            var animation = animations_1[_i];\n            switch(animation.trigger){\n                case 'pageLoad':\n                    this.triggerAnimation(animation);\n                    break;\n                case 'hover':\n                    this.bindHoverAnimation(animation);\n                    break;\n                case 'scrollInView':\n                    this.bindScrollInViewAnimation(animation);\n                    break;\n            }\n        }\n    };\n    Animator1.prototype.warnElementNotPresent = function(id) {\n        console.warn(\"Cannot animate element: element with ID \".concat(id, \" not found!\"));\n    };\n    Animator1.prototype.augmentAnimation = function(animation, element) {\n        var stylesUsed = this.getAllStylesUsed(animation);\n        var computedStyle = getComputedStyle(element);\n        // const computedStyle = getComputedStyle(element);\n        // // FIXME: this will break if original load is in one reponsive size then resize to another hmmm\n        // Need to use transform instead of left since left can change on screen sizes\n        var firstStyles = animation.steps[0].styles;\n        var lastStyles = animation.steps[animation.steps.length - 1].styles;\n        var bothStyles = [\n            firstStyles,\n            lastStyles\n        ];\n        // FIXME: this won't work as expected for augmented animations - may need the editor itself to manage this\n        for(var _i = 0, bothStyles_1 = bothStyles; _i < bothStyles_1.length; _i++){\n            var styles = bothStyles_1[_i];\n            for(var _a = 0, stylesUsed_1 = stylesUsed; _a < stylesUsed_1.length; _a++){\n                var style = stylesUsed_1[_a];\n                if (!(style in styles)) {\n                    styles[style] = computedStyle[style];\n                }\n            }\n        }\n    };\n    Animator1.prototype.getAllStylesUsed = function(animation) {\n        var properties = [];\n        for(var _i = 0, _a = animation.steps; _i < _a.length; _i++){\n            var step = _a[_i];\n            for(var key in step.styles){\n                if (properties.indexOf(key) === -1) {\n                    properties.push(key);\n                }\n            }\n        }\n        return properties;\n    };\n    Animator1.prototype.triggerAnimation = function(animation) {\n        var _this = this;\n        // TODO: do for ALL elements\n        var elements = Array.prototype.slice.call(document.getElementsByClassName(animation.elementId || animation.id || ''));\n        if (!elements.length) {\n            this.warnElementNotPresent(animation.elementId || animation.id || '');\n            return;\n        }\n        Array.from(elements).forEach(function(element) {\n            _this.augmentAnimation(animation, element);\n            // TODO: do this properly, may have other animations of different properties\n            // TODO: only override the properties\n            // TODO: if there is an entrance and hover animation, the transition duration will get effed\n            // element.setAttribute('style', '');\n            // const styledUsed = this.getAllStylesUsed(animation);\n            element.style.transition = 'none';\n            element.style.transitionDelay = '0';\n            assign(element.style, animation.steps[0].styles);\n            // TODO: queue/batch these timeouts\n            // TODO: only include properties explicitly set in the animation\n            // using Object.keys(styles)\n            setTimeout(function() {\n                element.style.transition = \"all \".concat(animation.duration, \"s \").concat(camelCaseToKebabCase(animation.easing));\n                if (animation.delay) {\n                    element.style.transitionDelay = animation.delay + 's';\n                }\n                assign(element.style, animation.steps[1].styles);\n                // TODO: maybe remove/reset transitoin property after animation duration\n                // TODO: queue timers\n                setTimeout(function() {\n                    // TODO: what if has other transition (reset back to what it was)\n                    element.style.transition = '';\n                    element.style.transitionDelay = '';\n                }, (animation.delay || 0) * 1000 + animation.duration * 1000 + 100);\n            });\n        });\n    };\n    Animator1.prototype.bindHoverAnimation = function(animation) {\n        var _this = this;\n        // TODO: is it multiple binding when editing...?\n        // TODO: unbind on element remove\n        // TODO: apply to ALL elements\n        var elements = Array.prototype.slice.call(document.getElementsByClassName(animation.elementId || animation.id || ''));\n        if (!elements.length) {\n            this.warnElementNotPresent(animation.elementId || animation.id || '');\n            return;\n        }\n        Array.from(elements).forEach(function(element) {\n            _this.augmentAnimation(animation, element);\n            var defaultState = animation.steps[0].styles;\n            var hoverState = animation.steps[1].styles;\n            function attachDefaultState() {\n                assign(element.style, defaultState);\n            }\n            function attachHoverState() {\n                assign(element.style, hoverState);\n            }\n            attachDefaultState();\n            element.addEventListener('mouseenter', attachHoverState);\n            element.addEventListener('mouseleave', attachDefaultState);\n            // TODO: queue/batch these timeouts\n            setTimeout(function() {\n                element.style.transition = \"all \".concat(animation.duration, \"s \").concat(camelCaseToKebabCase(animation.easing));\n                if (animation.delay) {\n                    element.style.transitionDelay = animation.delay + 's';\n                }\n            });\n        });\n    };\n    // TODO: unbind on element remove\n    Animator1.prototype.bindScrollInViewAnimation = function(animation) {\n        var _this = this;\n        // TODO: apply to ALL matching elements\n        var elements = Array.prototype.slice.call(document.getElementsByClassName(animation.elementId || animation.id || ''));\n        if (!elements.length) {\n            this.warnElementNotPresent(animation.elementId || animation.id || '');\n            return;\n        }\n        // TODO: if server side rendered and scrolled into view don't animate...\n        Array.from(elements).forEach(function(element) {\n            _this.augmentAnimation(animation, element);\n            var triggered = false;\n            var pendingAnimation = false;\n            function immediateOnScroll() {\n                if (!triggered && isScrolledIntoView(element)) {\n                    triggered = true;\n                    pendingAnimation = true;\n                    setTimeout(function() {\n                        assign(element.style, animation.steps[1].styles);\n                        if (!animation.repeat) {\n                            document.removeEventListener('scroll', onScroll);\n                        }\n                        setTimeout(function() {\n                            pendingAnimation = false;\n                            if (!animation.repeat) {\n                                element.style.transition = '';\n                                element.style.transitionDelay = '';\n                            }\n                        }, (animation.duration + (animation.delay || 0)) * 1000 + 100);\n                    });\n                } else if (animation.repeat && triggered && !pendingAnimation && !isScrolledIntoView(element)) {\n                    // we want to repeat the animation every time the the element is out of view and back again\n                    triggered = false;\n                    assign(element.style, animation.steps[0].styles);\n                }\n            }\n            // TODO: roll all of these in one for more efficiency of checking all the rects\n            var onScroll = throttle(immediateOnScroll, 200, {\n                leading: false\n            });\n            // TODO: fully in view or partially\n            function isScrolledIntoView(elem) {\n                var rect = elem.getBoundingClientRect();\n                var windowHeight = window.innerHeight;\n                var thresholdPercent = (animation.thresholdPercent || 0) / 100;\n                var threshold = thresholdPercent * windowHeight;\n                // TODO: partial in view? or what if element is larger than screen itself\n                return rect.bottom > threshold && rect.top < windowHeight - threshold // Element is peeking top or bottom\n                ;\n            }\n            var defaultState = animation.steps[0].styles;\n            function attachDefaultState() {\n                assign(element.style, defaultState);\n            }\n            attachDefaultState();\n            // TODO: queue/batch these timeouts!\n            setTimeout(function() {\n                element.style.transition = \"all \".concat(animation.duration, \"s \").concat(camelCaseToKebabCase(animation.easing));\n                if (animation.delay) {\n                    element.style.transitionDelay = animation.delay + 's';\n                }\n            });\n            // TODO: one listener for everything\n            document.addEventListener('scroll', onScroll, {\n                capture: true,\n                passive: true\n            });\n            // Do an initial check\n            immediateOnScroll();\n        });\n    };\n    return Animator1;\n}();\n/**\r\n * RegExp to match field-content in RFC 7230 sec 3.2\r\n *\r\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\r\n * field-vchar   = VCHAR / obs-text\r\n * obs-text      = %x80-FF\r\n */ var fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\nvar Cookies = /** @class */ function() {\n    function Cookies1(request, response) {\n        this.request = request;\n        this.response = response;\n    }\n    Cookies1.prototype.get = function(name) {\n        var header = this.request.headers['cookie'];\n        if (!header) {\n            return;\n        }\n        var match = header.match(getPattern(name));\n        if (!match) {\n            return;\n        }\n        var value = match[1];\n        return value;\n    };\n    Cookies1.prototype.set = function(name, value, opts) {\n        var res = this.response;\n        var req = this.request;\n        var headers = res.getHeader('Set-Cookie') || [];\n        // TODO: just make this always true\n        var secure = this.secure !== undefined ? !!this.secure : req.protocol === 'https' || req.connection.encrypted;\n        var cookie = new Cookie(name, value, opts);\n        if (typeof headers === 'string') {\n            headers = [\n                headers\n            ];\n        }\n        if (!secure && opts && opts.secure) {\n            throw new Error('Cannot send secure cookie over unencrypted connection');\n        }\n        cookie.secure = secure;\n        if (opts && 'secure' in opts) {\n            cookie.secure = !!opts.secure;\n        }\n        pushCookie(headers, cookie);\n        var setHeader = res.setHeader;\n        setHeader.call(res, 'Set-Cookie', headers);\n        return this;\n    };\n    return Cookies1;\n}();\nvar Cookie = /** @class */ function() {\n    function Cookie1(name, value, attrs) {\n        this.path = '/';\n        this.domain = undefined;\n        this.httpOnly = true;\n        this.sameSite = false;\n        this.secure = false;\n        this.overwrite = false;\n        this.name = '';\n        this.value = '';\n        if (!fieldContentRegExp.test(name)) {\n            throw new TypeError('argument name is invalid');\n        }\n        if (value && !fieldContentRegExp.test(value)) {\n            throw new TypeError('argument value is invalid');\n        }\n        if (!value) {\n            this.expires = new Date(0);\n        }\n        this.name = name;\n        this.value = value || '';\n        if (attrs.expires) {\n            this.expires = attrs.expires;\n        }\n        if (attrs.secure) {\n            this.secure = attrs.secure;\n        }\n    }\n    Cookie1.prototype.toString = function() {\n        return \"\".concat(this.name, \"=\").concat(this.value);\n    };\n    Cookie1.prototype.toHeader = function() {\n        var header = this.toString();\n        if (this.maxAge) {\n            this.expires = new Date(Date.now() + this.maxAge);\n        }\n        if (this.path) {\n            header += \"; path=\".concat(this.path);\n        }\n        if (this.expires) {\n            header += \"; expires=\".concat(this.expires.toUTCString());\n        }\n        if (this.domain) {\n            header += \"; domain=\".concat(this.domain);\n        }\n        // TODO: samesite=none by default (?)\n        header += \"; SameSite=\".concat(this.sameSite === true ? 'strict' : 'None');\n        // TODO: On by default\n        if (this.secure) {\n            header += '; secure';\n        }\n        if (this.httpOnly) {\n            header += '; httponly';\n        }\n        return header;\n    };\n    return Cookie1;\n}();\nfunction getPattern(name) {\n    return new RegExp(\"(?:^|;) *\".concat(name.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&'), \"=([^;]*)\"));\n}\nfunction pushCookie(headers, cookie) {\n    if (cookie.overwrite) {\n        for(var i = headers.length - 1; i >= 0; i--){\n            if (headers[i].indexOf(\"\".concat(cookie.name, \"=\")) === 0) {\n                headers.splice(i, 1);\n            }\n        }\n    }\n    headers.push(cookie.toHeader());\n}\nfunction omit(obj) {\n    var values = [];\n    for(var _i = 1; _i < arguments.length; _i++){\n        values[_i - 1] = arguments[_i];\n    }\n    var newObject = Object.assign({}, obj);\n    for(var _a = 0, values_1 = values; _a < values_1.length; _a++){\n        var key = values_1[_a];\n        delete newObject[key];\n    }\n    return newObject;\n}\n/**\r\n * @credit https://stackoverflow.com/a/2117523\r\n */ function uuidv4() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n    });\n}\n/**\r\n * Slightly cleaner and smaller UUIDs\r\n */ function uuid() {\n    return uuidv4().replace(/-/g, '');\n}\nfunction emptyUrl() {\n    return {\n        query: null,\n        port: null,\n        auth: null,\n        hash: null,\n        host: null,\n        hostname: null,\n        href: null,\n        path: null,\n        pathname: null,\n        protocol: null,\n        search: null,\n        slashes: null\n    };\n}\n// Replacement for `url.parse` using `URL` global object that works with relative paths.\n// Assumptions: this function operates in a NodeJS environment.\nfunction parse$1(url) {\n    var _a;\n    var out = emptyUrl();\n    var u;\n    var pathOnly = url === '' || url[0] === '/';\n    if (pathOnly) {\n        u = new URL(url, 'http://0.0.0.0/');\n        out.href = u.href;\n        out.href = (_a = out.href) === null || _a === void 0 ? void 0 : _a.slice(14); // remove 'http://0.0.0.0/'\n    } else {\n        u = new URL(url);\n        out.href = u.href;\n        out.port = u.port === '' ? null : u.port;\n        out.hash = u.hash === '' ? null : u.hash;\n        out.host = u.host;\n        out.hostname = u.hostname;\n        out.href = u.href;\n        out.pathname = u.pathname;\n        out.protocol = u.protocol;\n        out.slashes = url[u.protocol.length] === '/'; // check if the mimetype is proceeded by a slash\n    }\n    out.search = u.search;\n    out.query = u.search.slice(1); // remove '?'\n    out.path = \"\".concat(u.pathname).concat(u.search);\n    out.pathname = u.pathname;\n    return out;\n}\n/**\r\n * Safe conversion to error type. Intended to be used in catch blocks where the\r\n *  value is not guaranteed to be an error.\r\n *\r\n *  @example\r\n *  try {\r\n *    throw new Error('Something went wrong')\r\n *  }\r\n *  catch (err: unknown) {\r\n *    const error: Error = toError(err)\r\n *  }\r\n */ function toError(err) {\n    if (err instanceof Error) return err;\n    return new Error(String(err));\n}\nvar DEFAULT_API_VERSION = 'v3';\nvar SDK_VERSION = '6.2.0';\nfunction datePlusMinutes(minutes) {\n    if (minutes === void 0) {\n        minutes = 30;\n    }\n    return new Date(Date.now() + minutes * 60000);\n}\nvar isPositiveNumber = function(thing) {\n    return typeof thing === 'number' && !isNaN(thing) && thing >= 0;\n};\nvar isReactNative = typeof navigator === 'object' && navigator.product === 'ReactNative';\nvar validEnvList = [\n    'production',\n    'qa',\n    'test',\n    'development',\n    'dev',\n    'cdn-qa',\n    'cloud',\n    'fast',\n    'cdn2',\n    'cdn-prod'\n];\nfunction getQueryParam(url, variable) {\n    var query = url.split('?')[1] || '';\n    var vars = query.split('&');\n    for(var i = 0; i < vars.length; i++){\n        var pair = vars[i].split('=');\n        if (decodeURIComponent(pair[0]) === variable) {\n            return decodeURIComponent(pair[1]);\n        }\n    }\n    return null;\n}\nvar urlParser = {\n    parse: function(url) {\n        var el = document.createElement('a');\n        el.href = url;\n        var out = {};\n        var props = [\n            'username',\n            'password',\n            'host',\n            'hostname',\n            'port',\n            'protocol',\n            'origin',\n            'pathname',\n            'search',\n            'hash'\n        ];\n        for(var _i = 0, props_1 = props; _i < props_1.length; _i++){\n            var prop = props_1[_i];\n            out[prop] = el[prop];\n        }\n        // IE 11 pathname handling workaround\n        // (IE omits preceeding '/', unlike other browsers)\n        if ((out.pathname || out.pathname === '') && typeof out.pathname === 'string' && out.pathname.indexOf('/') !== 0) {\n            out.pathname = '/' + out.pathname;\n        }\n        return out;\n    }\n};\nvar parse = isReactNative ? function() {\n    return emptyUrl();\n} :  false ? 0 : parse$1;\nfunction setCookie(name, value, expires) {\n    try {\n        var expiresString = '';\n        // TODO: need to know if secure server side\n        if (expires) {\n            expiresString = '; expires=' + expires.toUTCString();\n        }\n        var secure = isBrowser ? location.protocol === 'https:' : true;\n        document.cookie = name + '=' + (value || '') + expiresString + '; path=/' + (secure ? '; secure; SameSite=None' : '');\n    } catch (err) {\n        console.warn('Could not set cookie', err);\n    }\n}\nfunction getCookie(name) {\n    try {\n        return decodeURIComponent(document.cookie.replace(new RegExp('(?:(?:^|.*;)\\\\s*' + encodeURIComponent(name).replace(/[\\-\\.\\+\\*]/g, '\\\\$&') + '\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$'), '$1')) || null;\n    } catch (err) {\n        console.warn('Could not get cookie', err);\n    }\n}\nfunction size(object) {\n    return Object.keys(object).length;\n}\nfunction find(target, callback) {\n    var list = target;\n    // Makes sures is always has an positive integer as length.\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n    for(var i = 0; i < length; i++){\n        var element = list[i];\n        if (callback.call(thisArg, element, i, list)) {\n            return element;\n        }\n    }\n}\nvar sessionStorageKey = 'builderSessionId';\nvar localStorageKey = 'builderVisitorId';\nvar isBrowser =  false && 0;\nvar isIframe = isBrowser && window.top !== window.self;\nfunction BuilderComponent(info) {\n    if (info === void 0) {\n        info = {};\n    }\n    return Builder.Component(info);\n}\nvar Builder = /** @class */ function() {\n    function Builder1(apiKey, request, response, forceNewInstance, authToken, apiVersion) {\n        if (apiKey === void 0) {\n            apiKey = null;\n        }\n        if (forceNewInstance === void 0) {\n            forceNewInstance = false;\n        }\n        if (authToken === void 0) {\n            authToken = null;\n        }\n        var _this = this;\n        this.request = request;\n        this.response = response;\n        this.eventsQueue = [];\n        this.throttledClearEventsQueue = throttle(function() {\n            _this.processEventsQueue();\n            // Extend the session cookie\n            _this.setCookie(sessionStorageKey, _this.sessionId, datePlusMinutes(30));\n        }, 5);\n        this.env = 'production';\n        this.sessionId = this.getSessionId();\n        this.targetContent = true;\n        this.contentPerRequest = 1;\n        // TODO: make array or function\n        this.allowCustomFonts = true;\n        this.cookies = null;\n        // TODO: api options object\n        this.cachebust = false;\n        this.overrideParams = '';\n        this.noCache = false;\n        this.preview = false;\n        /**\r\n         * Dictates which API endpoint is used when fetching content. Allows `'content'` and `'query'`.\r\n         * Defaults to `'query'`.\r\n         */ this.apiEndpoint$ = new BehaviorSubject('query');\n        this.apiVersion$ = new BehaviorSubject(undefined);\n        this.canTrack$ = new BehaviorSubject(!this.browserTrackingDisabled);\n        this.hasOverriddenCanTrack = false;\n        this.apiKey$ = new BehaviorSubject(null);\n        this.authToken$ = new BehaviorSubject(null);\n        this.contentId$ = new BehaviorSubject(null);\n        this.userAttributesChanged = new BehaviorSubject(null);\n        this.editingMode$ = new BehaviorSubject(isIframe);\n        // TODO: decorator to do this stuff with the get/set (how do with typing too? compiler?)\n        this.editingModel$ = new BehaviorSubject(null);\n        this.userAgent = typeof navigator === 'object' && navigator.userAgent || '';\n        this.trackingHooks = [];\n        // Set this to control the userId\n        // TODO: allow changing it mid session and updating existing data to be associated\n        // e.g. for when a user navigates and then logs in\n        this.visitorId = this.getVisitorId();\n        this.autoTrack = !Builder1.isBrowser ? false : !this.isDevelopmentEnv && !(Builder1.isBrowser && location.search.indexOf('builder.preview=') !== -1);\n        this.trackingUserAttributes = {};\n        this.blockContentLoading = '';\n        this.observersByKey = {};\n        this.noEditorUpdates = {};\n        this.overrides = {};\n        this.queryOptions = {};\n        this.getContentQueue = null;\n        this.priorContentQueue = null;\n        this.testCookiePrefix = 'builder.tests';\n        this.cookieQueue = [];\n        // TODO: use a window variable for this perhaps, e.g. bc webcomponents may be loading builder twice\n        // with it's and react (use rollup build to fix)\n        if (Builder1.isBrowser && !forceNewInstance && Builder1.singletonInstance) {\n            return Builder1.singletonInstance;\n        }\n        if (this.request && this.response) {\n            this.setUserAgent(this.request.headers['user-agent'] || '');\n            this.cookies = new Cookies(this.request, this.response);\n        }\n        if (apiKey) {\n            this.apiKey = apiKey;\n        }\n        if (apiVersion) {\n            this.apiVersion = apiVersion;\n        }\n        if (authToken) {\n            this.authToken = authToken;\n        }\n        if (isBrowser) {\n            if (Builder1.isEditing) {\n                this.bindMessageListeners();\n                parent.postMessage({\n                    type: 'builder.animatorOptions',\n                    data: {\n                        options: {\n                            version: 2\n                        }\n                    }\n                }, '*');\n            }\n        // TODO: postmessage to parent the builder info for every package\n        // type: 'builder.sdk', data: { name: '@builder.io/react', version: '0.1.23' }\n        // (window as any).BUILDER_VERSION = Builder.VERSION;\n        // Ensure always one Builder global singleton\n        // TODO: some people won't want this, e.g. rakuten\n        // Maybe hide this behind symbol or on document, etc\n        // if ((window as any).Builder) {\n        //   Builder.components = (window as any).Builder.components;\n        // } else {\n        //   (window as any).Builder = Builder;\n        // }\n        }\n        if (isIframe) {\n            this.messageFrameLoaded();\n        }\n        // TODO: on destroy clear subscription\n        this.canTrack$.subscribe(function(value) {\n            if (value) {\n                if (typeof sessionStorage !== 'undefined') {\n                    try {\n                        if (!sessionStorage.getItem(sessionStorageKey)) {\n                            sessionStorage.setItem(sessionStorageKey, _this.sessionId);\n                        }\n                    } catch (err) {\n                        console.debug('Session storage error', err);\n                    }\n                }\n                if (_this.eventsQueue.length) {\n                    _this.throttledClearEventsQueue();\n                }\n                if (_this.cookieQueue.length) {\n                    _this.cookieQueue.forEach(function(item) {\n                        _this.setCookie(item[0], item[1]);\n                    });\n                    _this.cookieQueue.length = 0;\n                }\n            }\n        });\n        if (isBrowser) {\n            // TODO: defer so subclass constructor runs and injects location service\n            this.setTestsFromUrl();\n            // TODO: do this on every request send?\n            this.getOverridesFromQueryString();\n            // cookies used in personalization container script, so need to set before hydration to match script result\n            var userAttrCookie = this.getCookie(Builder1.attributesCookieName);\n            if (userAttrCookie) {\n                try {\n                    var attributes = JSON.parse(userAttrCookie);\n                    this.setUserAttributes(attributes);\n                } catch (err) {\n                    console.debug('Error parsing user attributes cookie', err);\n                }\n            }\n        }\n    }\n    Builder1.register = function(type, info) {\n        if (type === 'plugin') {\n            info = this.serializeIncludingFunctions(info, true);\n        }\n        // TODO: all must have name and can't conflict?\n        var typeList = this.registry[type];\n        if (!typeList) {\n            typeList = this.registry[type] = [];\n        }\n        typeList.push(info);\n        if (Builder1.isBrowser) {\n            var message = {\n                type: 'builder.register',\n                data: {\n                    type: type,\n                    info: info\n                }\n            };\n            try {\n                parent.postMessage(message, '*');\n                if (parent !== window) {\n                    window.postMessage(message, '*');\n                }\n            } catch (err) {\n                console.debug('Could not postmessage', err);\n            }\n        }\n        this.registryChange.next(this.registry);\n    };\n    Builder1.registerEditor = function(info) {\n        if (Builder1.isBrowser) {\n            window.postMessage({\n                type: 'builder.registerEditor',\n                data: omit(info, 'component')\n            }, '*');\n            var hostname = location.hostname;\n            if (!Builder1.isTrustedHost(hostname)) {\n                console.error('Builder.registerEditor() called in the wrong environment! You cannot load custom editors from your app, they must be loaded through the Builder.io app itself. Follow the readme here for more details: https://github.com/builderio/builder/tree/master/plugins/cloudinary or contact chat us in our Spectrum community for help: https://spectrum.chat/builder');\n            }\n        }\n        this.editors.push(info);\n    };\n    Builder1.registerPlugin = function(info) {\n        this.plugins.push(info);\n    };\n    Builder1.registerAction = function(action) {\n        var _a;\n        this.actions.push(action);\n        if (Builder1.isBrowser) {\n            var actionClone = JSON.parse(JSON.stringify(action));\n            if (action.action) {\n                actionClone.action = action.action.toString();\n            }\n            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                type: 'builder.registerAction',\n                data: actionClone\n            }, '*');\n        }\n    };\n    Builder1.registerTrustedHost = function(host) {\n        this.trustedHosts.push(host);\n    };\n    /**\r\n     * @param context @type {import('isolated-vm').Context}\r\n     * Use this function to control the execution context of custom code on the server.\r\n     * const ivm = require('isolated-vm');\r\n     * const isolate = new ivm.Isolate({ memoryLimit: 128 });\r\n     * const context = isolate.createContextSync();\r\n     * Builder.setServerContext(context);\r\n     */ Builder1.setServerContext = function(context) {\n        this.serverContext = context;\n    };\n    Builder1.isTrustedHost = function(hostname) {\n        var isTrusted = this.trustedHosts.findIndex(function(trustedHost) {\n            return trustedHost.startsWith('*.') ? hostname.endsWith(trustedHost.slice(1)) : trustedHost === hostname;\n        }) > -1;\n        return isTrusted;\n    };\n    Builder1.isTrustedHostForEvent = function(event) {\n        if (event.origin === 'null') {\n            return false;\n        }\n        var url = parse(event.origin);\n        return url.hostname && Builder1.isTrustedHost(url.hostname);\n    };\n    Builder1.runAction = function(action) {\n        // TODO\n        var actionObject = typeof action === 'string' ? find(this.actions, function(item) {\n            return item.name === action;\n        }) : action;\n        if (!actionObject) {\n            throw new Error(\"Action not found: \".concat(action));\n        }\n    };\n    Builder1.fields = function(name, fields) {\n        var _a;\n        (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n            type: 'builder.fields',\n            data: {\n                name: name,\n                fields: fields\n            }\n        }, '*');\n    };\n    /**\r\n     * @deprecated\r\n     * @hidden\r\n     *\r\n     * Use Builder.register('editor.settings', {}) instead.\r\n     */ Builder1.set = function(settings) {\n        Builder1.register('editor.settings', settings);\n    };\n    Builder1.import = function(packageName) {\n        if (!Builder1.isBrowser) {\n            // TODO: server side support *maybe*\n            console.warn('Builder.import used on the server - this should only be used in the browser');\n            return;\n        }\n        var System = window.System;\n        if (!System) {\n            console.warn('System.js not available. Please include System.js when using Builder.import');\n            return;\n        }\n        return System.import(\"https://cdn.builder.io/systemjs/\".concat(packageName));\n    };\n    Object.defineProperty(Builder1, \"editingPage\", {\n        // useCdnApi = false;\n        get: function() {\n            return this._editingPage;\n        },\n        set: function(editingPage) {\n            this._editingPage = editingPage;\n            if (isBrowser && isIframe) {\n                if (editingPage) {\n                    document.body.classList.add('builder-editing-page');\n                } else {\n                    document.body.classList.remove('builder-editing-page');\n                }\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.serializeIncludingFunctions = function(info, isForPlugin) {\n        var serializeFn = function(fnValue) {\n            var fnStr = fnValue.toString().trim();\n            // we need to account for a few different fn syntaxes:\n            // 1. `function name(args) => {code}`\n            // 2. `name(args) => {code}`\n            // 3. `(args) => {}`\n            // 4. `args => {}`\n            // 5. `async function(args) {code}`\n            // 6. `async (args) => {}`\n            // 7. `async args => {}`\n            var isArrowWithoutParens = /^[a-zA-Z0-9_]+\\s*=>/i.test(fnStr);\n            var appendFunction = !fnStr.startsWith('function') && !fnStr.startsWith('async') && !fnStr.startsWith('(') && !isArrowWithoutParens;\n            return \"return (\".concat(appendFunction ? 'function ' : '').concat(fnStr, \").apply(this, arguments)\");\n        };\n        var objToReturn = JSON.parse(JSON.stringify(info, function(key, value) {\n            var shouldNotSerializeFn = isForPlugin && key === 'onSave';\n            if (typeof value === 'function' && !shouldNotSerializeFn) {\n                return serializeFn(value);\n            }\n            return value;\n        }));\n        if (isForPlugin) {\n            objToReturn.onSave = info.onSave;\n        }\n        return objToReturn;\n    };\n    Builder1.prepareComponentSpecToSend = function(spec) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, this.serializeIncludingFunctions(spec)), {\n            class: undefined\n        });\n    };\n    Builder1.registerBlock = function(component, options) {\n        this.registerComponent(component, options);\n    };\n    Builder1.registerComponent = function(component, options) {\n        var _a;\n        var spec = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            class: component\n        }, component.builderOptions), options);\n        this.addComponent(spec);\n        var editable = options.models && this.singletonInstance.editingModel ? isBrowser && options.models.includes(this.singletonInstance.editingModel) : isBrowser;\n        if (editable) {\n            var sendSpec = this.prepareComponentSpecToSend(spec);\n            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                type: 'builder.registerComponent',\n                data: sendSpec\n            }, '*');\n        }\n    };\n    Builder1.addComponent = function(component) {\n        var current = find(this.components, function(item) {\n            return item.name === component.name;\n        });\n        if (current) {\n            // FIXME: why does sometimes we get an extra post without class - probably\n            // from postMessage handler wrong in some place\n            if (current.class && !component.class) {\n                return;\n            }\n            this.components.splice(this.components.indexOf(current), 1, component);\n        } else {\n            this.components.push(component);\n        }\n    };\n    // TODO: style guide, etc off this system as well?\n    Builder1.component = function(info) {\n        var _this = this;\n        if (info === void 0) {\n            info = {};\n        }\n        return function(component) {\n            var _a;\n            var spec = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, info), {\n                class: component\n            });\n            if (!spec.name) {\n                spec.name = component.name;\n            }\n            _this.addComponent(spec);\n            var sendSpec = _this.prepareComponentSpecToSend(spec);\n            // TODO: serialize component name and inputs\n            if (isBrowser) {\n                (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                    type: 'builder.registerComponent',\n                    data: sendSpec\n                }, '*');\n            }\n            return component;\n        };\n    };\n    Object.defineProperty(Builder1, \"Component\", {\n        get: function() {\n            return this.component;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.processEventsQueue = function() {\n        if (!this.eventsQueue.length) {\n            return;\n        }\n        var events = this.eventsQueue;\n        this.eventsQueue = [];\n        var fullUserAttributes = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, Builder1.overrideUserAttributes), this.trackingUserAttributes);\n        for(var _i = 0, events_1 = events; _i < events_1.length; _i++){\n            var event_1 = events_1[_i];\n            if (!event_1.data.metadata) {\n                event_1.data.metadata = {};\n            }\n            if (!event_1.data.metadata.user) {\n                event_1.data.metadata.user = {};\n            }\n            Object.assign(event_1.data.metadata.user, fullUserAttributes, event_1.data.metadata.user);\n        }\n        var host = this.host;\n        getFetch()(\"\".concat(host, \"/api/v1/track\"), {\n            method: 'POST',\n            body: JSON.stringify({\n                events: events\n            }),\n            headers: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n                'content-type': 'application/json'\n            }, this.getSdkHeaders()),\n            mode: 'cors'\n        }).catch(function() {\n        // Not the end of the world\n        });\n    };\n    Object.defineProperty(Builder1.prototype, \"browserTrackingDisabled\", {\n        get: function() {\n            return Builder1.isBrowser && Boolean(window.builderNoTrack || !navigator.cookieEnabled);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"canTrack\", {\n        get: function() {\n            return this.canTrack$.value;\n        },\n        set: function(canTrack) {\n            this.hasOverriddenCanTrack = true;\n            if (this.canTrack !== canTrack) {\n                this.canTrack$.next(canTrack);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"apiVersion\", {\n        get: function() {\n            return this.apiVersion$.value;\n        },\n        set: function(apiVersion) {\n            if (this.apiVersion !== apiVersion) {\n                this.apiVersion$.next(apiVersion);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"apiEndpoint\", {\n        get: function() {\n            return this.apiEndpoint$.value;\n        },\n        set: function(apiEndpoint) {\n            if (this.apiEndpoint !== apiEndpoint) {\n                this.apiEndpoint$.next(apiEndpoint);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"editingMode\", {\n        get: function() {\n            return this.editingMode$.value;\n        },\n        set: function(value) {\n            if (value !== this.editingMode) {\n                this.editingMode$.next(value);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"editingModel\", {\n        get: function() {\n            return this.editingModel$.value;\n        },\n        set: function(value) {\n            if (value !== this.editingModel) {\n                this.editingModel$.next(value);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.findParentElement = function(target, callback, checkElement) {\n        if (checkElement === void 0) {\n            checkElement = true;\n        }\n        if (!(target instanceof HTMLElement)) {\n            return null;\n        }\n        var parent1 = checkElement ? target : target.parentElement;\n        do {\n            if (!parent1) {\n                return null;\n            }\n            var matches = callback(parent1);\n            if (matches) {\n                return parent1;\n            }\n        }while (parent1 = parent1.parentElement);\n        return null;\n    };\n    Builder1.prototype.findBuilderParent = function(target) {\n        return this.findParentElement(target, function(el) {\n            var id = el.getAttribute('builder-id') || el.id;\n            return Boolean(id && id.indexOf('builder-') === 0);\n        });\n    };\n    Builder1.prototype.setUserAgent = function(userAgent) {\n        this.userAgent = userAgent || '';\n    };\n    /**\r\n     * Set a hook to modify events being tracked from builder, such as impressions and clicks\r\n     *\r\n     * For example, to track the model ID of each event associated with content for querying\r\n     * by mode, you can do\r\n     *\r\n     *    builder.setTrackingHook((event, context) => {\r\n     *      if (context.content) {\r\n     *        event.data.metadata.modelId = context.content.modelId\r\n     *      }\r\n     *    })\r\n     */ Builder1.prototype.setTrackingHook = function(hook) {\n        this.trackingHooks.push(hook);\n    };\n    Builder1.prototype.track = function(eventName, properties, context) {\n        if (properties === void 0) {\n            properties = {};\n        }\n        // TODO: queue up track requests and fire them off when canTrack set to true - otherwise may get lots of clicks with no impressions\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        var apiKey = this.apiKey;\n        if (!apiKey) {\n            console.error('Builder integration error: Looks like the Builder SDK has not been initialized properly (your API key has not been set). Make sure you are calling `builder.init(\"YOUR-API-KEY\");` as early as possible in your application\\'s code.');\n            return;\n        }\n        var eventData = JSON.parse(JSON.stringify({\n            type: eventName,\n            data: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, omit(properties, 'meta')), {\n                metadata: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n                    sdkVersion: Builder1.VERSION,\n                    url: location.href\n                }, properties.meta), properties.metadata),\n                ownerId: apiKey,\n                userAttributes: this.getUserAttributes(),\n                sessionId: this.sessionId,\n                visitorId: this.visitorId\n            })\n        }));\n        for(var _i = 0, _a = this.trackingHooks; _i < _a.length; _i++){\n            var hook = _a[_i];\n            var returnValue = hook(eventData, context || {});\n            if (returnValue) {\n                eventData = returnValue;\n            }\n        }\n        // batch events\n        this.eventsQueue.push(eventData);\n        if (this.canTrack) {\n            this.throttledClearEventsQueue();\n        }\n    };\n    Builder1.prototype.getSessionId = function() {\n        var _this = this;\n        var sessionId = null;\n        try {\n            if (Builder1.isBrowser && typeof sessionStorage !== 'undefined') {\n                sessionId = this.getCookie(sessionStorageKey);\n            }\n        } catch (err) {\n            console.debug('Session storage error', err);\n        // It's ok\n        }\n        if (!sessionId) {\n            sessionId = uuid();\n        }\n        // Give the app a second to start up and set canTrack to false if needed\n        if (Builder1.isBrowser) {\n            setTimeout(function() {\n                try {\n                    if (_this.canTrack) {\n                        _this.setCookie(sessionStorageKey, sessionId, datePlusMinutes(30));\n                    }\n                } catch (err) {\n                    console.debug('Cookie setting error', err);\n                }\n            });\n        }\n        return sessionId;\n    };\n    Builder1.prototype.getVisitorId = function() {\n        var _this = this;\n        if (this.visitorId) {\n            return this.visitorId;\n        }\n        var visitorId = null;\n        try {\n            if (Builder1.isBrowser && typeof localStorage !== 'undefined') {\n                // TODO: cookie instead?\n                visitorId = localStorage.getItem(localStorageKey);\n            }\n        } catch (err) {\n            console.debug('Local storage error', err);\n        // It's ok\n        }\n        if (!visitorId) {\n            visitorId = uuid();\n        }\n        this.visitorId = visitorId;\n        // Give the app a second to start up and set canTrack to false if needed\n        if (Builder1.isBrowser) {\n            setTimeout(function() {\n                try {\n                    if (_this.canTrack && typeof localStorage !== 'undefined' && visitorId) {\n                        localStorage.setItem(localStorageKey, visitorId);\n                    }\n                } catch (err) {\n                    console.debug('Session storage error', err);\n                }\n            });\n        }\n        return visitorId;\n    };\n    Builder1.prototype.trackImpression = function(contentId, variationId, properties, context) {\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        // TODO: use this.track method\n        this.track('impression', {\n            contentId: contentId,\n            variationId: variationId !== contentId ? variationId : undefined,\n            metadata: properties\n        }, context);\n    };\n    Builder1.prototype.trackConversion = function(amount, contentId, variationId, customProperties, context) {\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        var meta = typeof contentId === 'object' ? contentId : customProperties;\n        var useContentId = typeof contentId === 'string' ? contentId : undefined;\n        if (!useContentId && !contentId && this.contentId) {\n            useContentId = this.contentId;\n        }\n        var useVariationId = variationId;\n        if (!useVariationId && useContentId) {\n            useVariationId = this.getTestCookie(useContentId);\n        }\n        this.track('conversion', {\n            amount: amount,\n            variationId: useVariationId && useContentId && useVariationId !== useContentId ? useVariationId : undefined,\n            meta: meta,\n            contentId: useContentId\n        }, context);\n    };\n    Object.defineProperty(Builder1.prototype, \"isDevelopmentEnv\", {\n        // TODO: set this for QA\n        get: function() {\n            // Automatic determining of development environment\n            return Builder1.isIframe || Builder1.isBrowser && (location.hostname === 'localhost' || location.port !== '') || this.env !== 'production';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.trackInteraction = function(contentId, variationId, alreadyTrackedOne, event, context) {\n        if (alreadyTrackedOne === void 0) {\n            alreadyTrackedOne = false;\n        }\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        var target = event && event.target;\n        var targetBuilderElement = target && this.findBuilderParent(target);\n        function round(num) {\n            return Math.round(num * 1000) / 1000;\n        }\n        var metadata = {};\n        if (event) {\n            var clientX = event.clientX, clientY = event.clientY;\n            if (target) {\n                var targetRect = target.getBoundingClientRect();\n                var xOffset = clientX - targetRect.left;\n                var yOffset = clientY - targetRect.top;\n                var xRatio = round(xOffset / targetRect.width);\n                var yRatio = round(yOffset / targetRect.height);\n                metadata.targetOffset = {\n                    x: xRatio,\n                    y: yRatio\n                };\n            }\n            if (targetBuilderElement) {\n                var targetRect = targetBuilderElement.getBoundingClientRect();\n                var xOffset = clientX - targetRect.left;\n                var yOffset = clientY - targetRect.top;\n                var xRatio = round(xOffset / targetRect.width);\n                var yRatio = round(yOffset / targetRect.height);\n                metadata.builderTargetOffset = {\n                    x: xRatio,\n                    y: yRatio\n                };\n            }\n        }\n        var builderId = targetBuilderElement && (targetBuilderElement.getAttribute('builder-id') || targetBuilderElement.id);\n        if (builderId && targetBuilderElement) {\n            metadata.builderElementIndex = [].slice.call(document.getElementsByClassName(builderId)).indexOf(targetBuilderElement);\n        }\n        this.track('click', {\n            contentId: contentId,\n            metadata: metadata,\n            variationId: variationId !== contentId ? variationId : undefined,\n            unique: !alreadyTrackedOne,\n            targetBuilderElement: builderId || undefined\n        }, context);\n    };\n    Builder1.prototype.component = function(info) {\n        if (info === void 0) {\n            info = {};\n        }\n        return Builder1.component(info);\n    };\n    Object.defineProperty(Builder1.prototype, \"apiKey\", {\n        get: function() {\n            return this.apiKey$.value;\n        },\n        set: function(key) {\n            this.apiKey$.next(key);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"contentId\", {\n        get: function() {\n            return this.contentId$.value;\n        },\n        set: function(id) {\n            this.contentId$.next(id);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"authToken\", {\n        get: function() {\n            return this.authToken$.value;\n        },\n        set: function(token) {\n            this.authToken$.next(token);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.modifySearch = function(search) {\n        return search.replace(/(^|&|\\?)(builder_.*?)=/gi, function(_match, group1, group2) {\n            return group1 + group2.replace(/_/g, '.') + '=';\n        });\n    };\n    Builder1.prototype.setTestsFromUrl = function() {\n        var search = this.getLocation().search;\n        try {\n            var params = QueryString.parseDeep(this.modifySearch(search || '').substr(1));\n            var tests = params.builder && params.builder.tests;\n            if (tests && typeof tests === 'object') {\n                for(var key in tests){\n                    if (tests.hasOwnProperty(key)) {\n                        this.setTestCookie(key, tests[key]);\n                    }\n                }\n            }\n        } catch (e) {\n            console.debug('Error parsing tests from URL', e);\n        }\n    };\n    Builder1.prototype.resetOverrides = function() {\n        // Ugly - pass down instances per request instead using react context\n        // or use builder.get('foo', { req, res }) in react...........\n        Builder1.overrideUserAttributes = {};\n        this.cachebust = false;\n        this.noCache = false;\n        this.preview = false;\n        this.editingModel = null;\n        this.overrides = {};\n        this.env = 'production';\n        this.userAgent = '';\n        this.request = undefined;\n        this.response = undefined;\n    };\n    Builder1.prototype.getOverridesFromQueryString = function() {\n        var location1 = this.getLocation();\n        try {\n            var params = QueryString.parseDeep(this.modifySearch(location1.search || '').substr(1));\n            var builder1 = params.builder;\n            if (builder1) {\n                var userAttributes = builder1.userAttributes, overrides = builder1.overrides, env = builder1.env, host = builder1.host, api = builder1.api, cachebust = builder1.cachebust, noCache = builder1.noCache, preview = builder1.preview, editing = builder1.editing, frameEditing = builder1.frameEditing, options = builder1.options, overrideParams = builder1.params;\n                if (userAttributes) {\n                    this.setUserAttributes(userAttributes);\n                }\n                if (options) {\n                    // picking only locale, includeRefs, and enrich for now\n                    this.queryOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, options.locale && {\n                        locale: options.locale\n                    }), options.includeRefs && {\n                        includeRefs: options.includeRefs\n                    }), options.enrich && {\n                        enrich: options.enrich\n                    });\n                }\n                if (overrides) {\n                    this.overrides = overrides;\n                }\n                if (validEnvList.indexOf(env || api) > -1) {\n                    this.env = env || api;\n                }\n                if (Builder1.isEditing) {\n                    var editingModel = frameEditing || editing || preview;\n                    if (editingModel && editingModel !== 'true') {\n                        this.editingModel = editingModel;\n                    }\n                }\n                if (cachebust) {\n                    this.cachebust = true;\n                }\n                if (noCache) {\n                    this.noCache = true;\n                }\n                if (preview) {\n                    this.preview = true;\n                }\n                if (params) {\n                    this.overrideParams = overrideParams;\n                }\n            }\n        } catch (e) {\n            console.debug('Error parsing overrides from URL', e);\n        }\n    };\n    Builder1.prototype.messageFrameLoaded = function() {\n        var _a;\n        (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n            type: 'builder.loaded',\n            data: {\n                value: true\n            }\n        }, '*');\n    };\n    Builder1.prototype.bindMessageListeners = function() {\n        var _this = this;\n        addEventListener('message', function(event) {\n            var _a, _b, _c, _d;\n            var isTrusted = Builder1.isTrustedHostForEvent(event);\n            if (!isTrusted) return;\n            var data = event.data;\n            if (data) {\n                switch(data.type){\n                    case 'builder.ping':\n                        {\n                            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                                type: 'builder.pong',\n                                data: {}\n                            }, '*');\n                            break;\n                        }\n                    case 'builder.register':\n                        {\n                            // TODO: possibly do this for all...\n                            if (event.source === window) {\n                                break;\n                            }\n                            var options = data.data;\n                            if (!options) {\n                                break;\n                            }\n                            var type = options.type, info = options.info;\n                            // TODO: all must have name and can't conflict?\n                            var typeList = Builder1.registry[type];\n                            if (!typeList) {\n                                typeList = Builder1.registry[type] = [];\n                            }\n                            typeList.push(info);\n                            Builder1.registryChange.next(Builder1.registry);\n                            break;\n                        }\n                    case 'builder.settingsChange':\n                        {\n                            // TODO: possibly do this for all...\n                            if (event.source === window) {\n                                break;\n                            }\n                            var settings = data.data;\n                            if (!settings) {\n                                break;\n                            }\n                            Object.assign(Builder1.settings, settings);\n                            Builder1.settingsChange.next(Builder1.settings);\n                            break;\n                        }\n                    case 'builder.registerEditor':\n                        {\n                            // TODO: possibly do this for all...\n                            if (event.source === window) {\n                                break;\n                            }\n                            var info_1 = data.data;\n                            if (!info_1) {\n                                break;\n                            }\n                            var hasComponent_1 = !!info_1.component;\n                            Builder1.editors.every(function(thisInfo, index) {\n                                if (info_1.name === thisInfo.name) {\n                                    if (thisInfo.component && !hasComponent_1) {\n                                        return false;\n                                    } else {\n                                        Builder1.editors[index] = thisInfo;\n                                    }\n                                    return false;\n                                }\n                                return true;\n                            });\n                            break;\n                        }\n                    case 'builder.triggerAnimation':\n                        {\n                            Builder1.animator.triggerAnimation(data.data);\n                            break;\n                        }\n                    case 'builder.contentUpdate':\n                        var key = data.data.key || data.data.alias || data.data.entry || data.data.modelName;\n                        var contentData = data.data.data; // hmmm...\n                        var observer = _this.observersByKey[key];\n                        if (observer && !_this.noEditorUpdates[key]) {\n                            observer.next([\n                                contentData\n                            ]);\n                        }\n                        break;\n                    case 'builder.getComponents':\n                        (_b = window.parent) === null || _b === void 0 ? void 0 : _b.postMessage({\n                            type: 'builder.components',\n                            data: Builder1.components.map(function(item) {\n                                return Builder1.prepareComponentSpecToSend(item);\n                            })\n                        }, '*');\n                        break;\n                    case 'builder.editingModel':\n                        _this.editingModel = data.data.model;\n                        break;\n                    case 'builder.registerComponent':\n                        var componentData = data.data;\n                        Builder1.addComponent(componentData);\n                        break;\n                    case 'builder.blockContentLoading':\n                        if (typeof data.data.model === 'string') {\n                            _this.blockContentLoading = data.data.model;\n                        }\n                        break;\n                    case 'builder.editingMode':\n                        var editingMode = data.data;\n                        if (editingMode) {\n                            _this.editingMode = true;\n                            document.body.classList.add('builder-editing');\n                        } else {\n                            _this.editingMode = false;\n                            document.body.classList.remove('builder-editing');\n                        }\n                        break;\n                    case 'builder.editingPageMode':\n                        var editingPageMode = data.data;\n                        Builder1.editingPage = editingPageMode;\n                        break;\n                    case 'builder.overrideUserAttributes':\n                        var userAttributes = data.data;\n                        assign(Builder1.overrideUserAttributes, userAttributes);\n                        _this.flushGetContentQueue(true);\n                        break;\n                    case 'builder.overrideTestGroup':\n                        var _e = data.data, variationId = _e.variationId, contentId = _e.contentId;\n                        if (variationId && contentId) {\n                            _this.setTestCookie(contentId, variationId);\n                            _this.flushGetContentQueue(true);\n                        }\n                        break;\n                    case 'builder.evaluate':\n                        {\n                            var text = data.data.text;\n                            var args = data.data.arguments || [];\n                            var id_1 = data.data.id;\n                            // tslint:disable-next-line:no-function-constructor-with-string-args\n                            var fn = new Function(text);\n                            var result = void 0;\n                            var error = null;\n                            try {\n                                result = fn.apply(_this, args);\n                            } catch (err) {\n                                error = toError(err);\n                            }\n                            if (error) {\n                                (_c = window.parent) === null || _c === void 0 ? void 0 : _c.postMessage({\n                                    type: 'builder.evaluateError',\n                                    data: {\n                                        id: id_1,\n                                        error: error.message\n                                    }\n                                }, '*');\n                            } else {\n                                if (result && typeof result.then === 'function') {\n                                    result.then(function(finalResult) {\n                                        var _a;\n                                        (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                                            type: 'builder.evaluateResult',\n                                            data: {\n                                                id: id_1,\n                                                result: finalResult\n                                            }\n                                        }, '*');\n                                    }).catch(console.error);\n                                } else {\n                                    (_d = window.parent) === null || _d === void 0 ? void 0 : _d.postMessage({\n                                        type: 'builder.evaluateResult',\n                                        data: {\n                                            result: result,\n                                            id: id_1\n                                        }\n                                    }, '*');\n                                }\n                            }\n                            break;\n                        }\n                }\n            }\n        });\n    };\n    Object.defineProperty(Builder1.prototype, \"defaultCanTrack\", {\n        get: function() {\n            return Boolean(Builder1.isBrowser && navigator.userAgent.trim() && !navigator.userAgent.match(/bot|crawler|spider|robot|crawling|prerender|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex|phantom|headless|selenium|puppeteer/i) && !this.browserTrackingDisabled);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.init = function(apiKey, canTrack, req, res, authToken, apiVersion) {\n        if (canTrack === void 0) {\n            canTrack = this.defaultCanTrack;\n        }\n        if (req) {\n            this.request = req;\n        }\n        if (res) {\n            this.response = res;\n        }\n        if (!this.hasOverriddenCanTrack) {\n            this.canTrack = canTrack;\n        }\n        this.apiKey = apiKey;\n        if (authToken) {\n            this.authToken = authToken;\n        }\n        if (apiVersion) {\n            this.apiVersion = apiVersion;\n        }\n        return this;\n    };\n    Object.defineProperty(Builder1.prototype, \"previewingModel\", {\n        get: function() {\n            var search = this.getLocation().search;\n            var params = QueryString.parse((search || '').substr(1));\n            return params['builder.preview'];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // TODO: allow adding location object as property and/or in constructor\n    Builder1.prototype.getLocation = function() {\n        var _a;\n        var parsedLocation = {};\n        // in ssr mode\n        if (this.request) {\n            parsedLocation = parse((_a = this.request.url) !== null && _a !== void 0 ? _a : '');\n        } else if (typeof location === 'object') {\n            // in the browser\n            parsedLocation = parse(location.href);\n        }\n        // IE11 bug with parsed path being empty string\n        // causes issues with our user targeting\n        if (parsedLocation.pathname === '') {\n            parsedLocation.pathname = '/';\n        }\n        return parsedLocation;\n    };\n    Builder1.prototype.getUserAttributes = function(userAgent) {\n        if (userAgent === void 0) {\n            userAgent = this.userAgent || '';\n        }\n        var isMobile = {\n            Android: function() {\n                return userAgent.match(/Android/i);\n            },\n            BlackBerry: function() {\n                return userAgent.match(/BlackBerry/i);\n            },\n            iOS: function() {\n                return userAgent.match(/iPhone|iPod/i);\n            },\n            Opera: function() {\n                return userAgent.match(/Opera Mini/i);\n            },\n            Windows: function() {\n                return userAgent.match(/IEMobile/i) || userAgent.match(/WPDesktop/i);\n            },\n            any: function() {\n                return isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows();\n            }\n        };\n        var isTablet = userAgent.match(/Tablet|iPad/i);\n        var url = this.getLocation();\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            urlPath: url.pathname,\n            host: url.host || url.hostname,\n            // TODO: maybe an option to choose to target off of mobile/tablet/desktop or just mobile/desktop\n            device: isTablet ? 'tablet' : isMobile.any() ? 'mobile' : 'desktop'\n        }, Builder1.overrideUserAttributes);\n    };\n    Builder1.prototype.setUserAttributes = function(options) {\n        assign(Builder1.overrideUserAttributes, options);\n        if (this.canTrack) {\n            this.setCookie(Builder1.attributesCookieName, JSON.stringify(this.getUserAttributes()));\n        }\n        this.userAttributesChanged.next(options);\n    };\n    /**\r\n     * Set user attributes just for tracking purposes.\r\n     *\r\n     * Do this so properties exist on event objects for querying insights, but\r\n     * won't affect targeting\r\n     *\r\n     * Use this when you want to track properties but don't need to target off\r\n     * of them to optimize cache efficiency\r\n     */ Builder1.prototype.setTrackingUserAttributes = function(attributes) {\n        assign(this.trackingUserAttributes, attributes);\n    };\n    Builder1.prototype.get = function(modelName, options) {\n        var _a;\n        if (options === void 0) {\n            options = {};\n        }\n        var instance = this;\n        var finalLocale = options.locale || ((_a = options.userAttributes) === null || _a === void 0 ? void 0 : _a.locale) || this.getUserAttributes().locale;\n        if (!('noTraverse' in options)) {\n            options.noTraverse = false;\n        }\n        var finalOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, options), finalLocale && {\n            locale: String(finalLocale),\n            userAttributes: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n                locale: String(finalLocale)\n            }, options.userAttributes)\n        });\n        if (!Builder1.isBrowser) {\n            instance = new Builder1(options.apiKey || this.apiKey, options.req, options.res, undefined, options.authToken || this.authToken, options.apiVersion || this.apiVersion);\n            instance.apiEndpoint = this.apiEndpoint;\n            instance.setUserAttributes(this.getUserAttributes());\n        } else {\n            // NOTE: All these are when .init is not called and the customer\n            // directly calls .get on the singleton instance of Builder\n            if (options.apiKey && !this.apiKey) {\n                this.apiKey = options.apiKey;\n            }\n            if (options.authToken && !this.authToken) {\n                this.authToken = options.authToken;\n            }\n            if (options.apiVersion && !this.apiVersion) {\n                this.apiVersion = options.apiVersion;\n            }\n        }\n        return instance.queueGetContent(modelName, finalOptions).map(/* map( */ function(matches) {\n            var match = matches && matches[0];\n            if (Builder1.isStatic) {\n                return match;\n            }\n            var matchData = match && match.data;\n            if (!matchData) {\n                return null;\n            }\n            if (typeof matchData.blocksString !== 'undefined') {\n                matchData.blocks = JSON.parse(matchData.blocksString);\n                delete matchData.blocksString;\n            }\n            return {\n                // TODO: add ab test info here and other high level stuff\n                data: matchData,\n                id: match.id,\n                variationId: match.testVariationId || match.variationId || null,\n                testVariationId: match.testVariationId || match.variationId || null,\n                testVariationName: match.testVariationName || null,\n                lastUpdated: match.lastUpdated || null\n            };\n        });\n    // );\n    };\n    // TODO: entry id in options\n    Builder1.prototype.queueGetContent = function(modelName, options) {\n        var _this = this;\n        if (options === void 0) {\n            options = {};\n        }\n        // TODO: if query do modelName + query\n        var key = options.key || options.alias || // TODO: SDKs only pass entry key when given to them, and never when editing...\n        // options.entry ||\n        // TODO: this is ugly - instead of multiple of same model with different options are sent\n        // say requires key/alias. Or if not perhaps make a reliable hash of the options and use that.\n        // TODO: store last user state on last request and if user attributes different now\n        // give a warning that need to use keys to request new contente\n        // (options &&\n        //   Object.keys(options).filter(key => key !== 'model').length &&\n        //   JSON.stringify({ model: modelName, ...options, initialContent: undefined })) ||\n        modelName;\n        var isEditingThisModel = this.editingModel === modelName;\n        // TODO: include params in this key........\n        var currentObservable = this.observersByKey[key];\n        // if (options.query && options.query._id) {\n        //   this.flushGetContentQueue([options])\n        // }\n        if (this.apiKey === 'DEMO' && !this.overrides[key] && !options.initialContent) {\n            options.initialContent = [];\n        }\n        var initialContent = options.initialContent;\n        // TODO: refresh option in options\n        if (currentObservable && (!currentObservable.value || options.cache)) {\n            // TODO: test if this ran, otherwise on 404 some observers may never be called...\n            if (currentObservable.value) {\n                nextTick(function() {\n                    // TODO: return a new observable and only that one fires subscribers, don't refire for existing ones\n                    currentObservable.next(currentObservable.value);\n                });\n            }\n            return currentObservable;\n        }\n        if (isEditingThisModel) {\n            if (Builder1.isBrowser) {\n                parent.postMessage({\n                    type: 'builder.updateContent',\n                    data: {\n                        options: options\n                    }\n                }, '*');\n            }\n        }\n        if (!initialContent /* || isEditingThisModel */ ) {\n            if (!this.getContentQueue) {\n                this.getContentQueue = [];\n            }\n            this.getContentQueue.push((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, options), {\n                model: modelName,\n                key: key\n            }));\n            if (this.getContentQueue && this.getContentQueue.length >= this.contentPerRequest) {\n                var queue_1 = this.getContentQueue.slice();\n                this.getContentQueue = [];\n                nextTick(function() {\n                    _this.flushGetContentQueue(false, queue_1);\n                });\n            } else {\n                nextTick(function() {\n                    _this.flushGetContentQueue();\n                });\n            }\n        }\n        var observable = new BehaviorSubject(null);\n        this.observersByKey[key] = observable;\n        if (options.noEditorUpdates) {\n            this.noEditorUpdates[key] = true;\n        }\n        if (initialContent) {\n            nextTick(function() {\n                // TODO: need to testModify this I think...?\n                observable.next(initialContent);\n            });\n        }\n        return observable;\n    };\n    // this is needed to satisfy the Angular SDK, which used to rely on the more complex version of `requestUrl`.\n    // even though we only use `fetch()` now, we prefer to keep the old behavior and use the `fetch` that comes from\n    // the core SDK for consistency\n    Builder1.prototype.requestUrl = function(url, options) {\n        return getFetch()(url, this.addSdkHeaders(options)).then(function(res) {\n            return res.json();\n        });\n    };\n    Object.defineProperty(Builder1.prototype, \"host\", {\n        get: function() {\n            switch(this.env){\n                case 'qa':\n                    return 'https://qa.builder.io';\n                case 'test':\n                    return 'https://builder-io-test.web.app';\n                case 'fast':\n                    return 'https://fast.builder.io';\n                case 'cloud':\n                    return 'https://cloud.builder.io';\n                case 'cdn2':\n                    return 'https://cdn2.builder.io';\n                case 'cdn-qa':\n                    return 'https://cdn-qa.builder.io';\n                case 'development':\n                case 'dev':\n                    return 'http://localhost:5000';\n                case 'cdn-prod':\n                    return 'https://cdn.builder.io';\n                default:\n                    return Builder1.overrideHost || 'https://cdn.builder.io';\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.getSdkHeaders = function() {\n        if (!Builder1.sdkInfo) {\n            return {};\n        }\n        return {\n            'X-Builder-SDK': Builder1.sdkInfo.name,\n            'X-Builder-SDK-GEN': '1',\n            'X-Builder-SDK-Version': Builder1.sdkInfo.version\n        };\n    };\n    Builder1.prototype.addSdkHeaders = function(fetchOptions) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, fetchOptions), {\n            headers: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, fetchOptions.headers), this.getSdkHeaders())\n        });\n    };\n    Builder1.prototype.makeFetchApiCall = function(url, requestOptions) {\n        return getFetch()(url, this.addSdkHeaders(requestOptions));\n    };\n    /**\r\n     * Flatten a nested MongoDB query object into a flat object with dot-separated keys.\r\n     * $ keys are not flattened and are left as is.\r\n     *\r\n     * { foo: { bar: { $gt: 5 }}} -> { 'foo.bar': { '$gt': 5 }}\r\n     * { foo: {'bar.id': { $elemMatch: { 'baz.id': { $in: ['abc', 'bcd'] }}}}} -> { 'foo.bar.id': { '$elemMatch': { 'baz.id': { '$in': ['abc', 'bcd'] }}}}\r\n     */ Builder1.prototype.flattenMongoQuery = function(obj, _current, _res) {\n        if (_res === void 0) {\n            _res = {};\n        }\n        for(var key in obj){\n            var value = obj[key];\n            var newKey = _current ? _current + '.' + key : key;\n            if (value && typeof value === 'object' && !Array.isArray(value) && !Object.keys(value).find(function(item) {\n                return item.startsWith('$');\n            })) {\n                this.flattenMongoQuery(value, newKey, _res);\n            } else {\n                _res[newKey] = value;\n            }\n        }\n        return _res;\n    };\n    Builder1.prototype.flushGetContentQueue = function(usePastQueue, useQueue) {\n        var _this = this;\n        var _a, _b;\n        if (usePastQueue === void 0) {\n            usePastQueue = false;\n        }\n        if (!this.apiKey) {\n            throw new Error(\"Fetching content failed, expected apiKey to be defined instead got: \".concat(this.apiKey));\n        }\n        if (this.apiVersion) {\n            if (![\n                'v1',\n                'v3'\n            ].includes(this.apiVersion)) {\n                throw new Error(\"Invalid apiVersion: expected 'v1' or 'v3', received '\".concat(this.apiVersion, \"'\"));\n            }\n        } else {\n            this.apiVersion = DEFAULT_API_VERSION;\n        }\n        if (!usePastQueue && !this.getContentQueue) {\n            return;\n        }\n        var queue = useQueue || (usePastQueue ? this.priorContentQueue : this.getContentQueue) || [];\n        // TODO: do this on every request send?\n        this.getOverridesFromQueryString();\n        var queryParams = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            // TODO: way to force a request to be in a separate queue. or just lower queue limit to be 1 by default\n            omit: (_a = queue[0].omit) !== null && _a !== void 0 ? _a : 'meta.componentsUsed',\n            apiKey: this.apiKey\n        }, queue[0].options), this.queryOptions);\n        if (queue[0].locale) {\n            queryParams.locale = queue[0].locale;\n        }\n        if (queue[0].fields) {\n            queryParams.fields = queue[0].fields;\n        }\n        if (queue[0].format) {\n            queryParams.format = queue[0].format;\n        }\n        if ('noTraverse' in queue[0]) {\n            queryParams.noTraverse = queue[0].noTraverse;\n        }\n        if ('includeUnpublished' in queue[0]) {\n            queryParams.includeUnpublished = queue[0].includeUnpublished;\n        }\n        if (queue[0].sort) {\n            queryParams.sort = queue[0].sort;\n        }\n        var pageQueryParams = (typeof location !== 'undefined' ? QueryString.parseDeep(location.search.substr(1)) : undefined) || {}; // TODO: WHAT about SSR (this.request) ?\n        var userAttributes = // FIXME: HACK: only checks first in queue for user attributes overrides, should check all\n        // TODO: merge user attributes provided here with defaults and current user attiributes (?)\n        queue && queue[0].userAttributes ? queue[0].userAttributes : this.targetContent ? this.getUserAttributes() : {\n            urlPath: this.getLocation().pathname\n        };\n        var fullUrlQueueItem = queue.find(function(item) {\n            return !!item.includeUrl;\n        });\n        if (fullUrlQueueItem) {\n            var location_1 = this.getLocation();\n            if (location_1.origin) {\n                queryParams.url = \"\".concat(location_1.origin).concat(location_1.pathname).concat(location_1.search);\n            }\n        }\n        var urlQueueItem = useQueue === null || useQueue === void 0 ? void 0 : useQueue.find(function(item) {\n            return item.url;\n        });\n        if (urlQueueItem === null || urlQueueItem === void 0 ? void 0 : urlQueueItem.url) {\n            userAttributes.urlPath = urlQueueItem.url.split('?')[0];\n        }\n        // TODO: merge in the attribute from query string ones\n        // TODO: make this an option per component/request\n        queryParams.userAttributes = JSON.stringify(userAttributes);\n        if (!usePastQueue && !useQueue) {\n            this.priorContentQueue = queue;\n            this.getContentQueue = null;\n        }\n        var cachebust = this.cachebust || isIframe || pageQueryParams.cachebust || pageQueryParams['builder.cachebust'];\n        if (cachebust || this.env !== 'production') {\n            queryParams.cachebust = true;\n        }\n        if (Builder1.isEditing) {\n            queryParams.isEditing = true;\n        }\n        if (this.noCache || this.env !== 'production') {\n            queryParams.noCache = true;\n        }\n        if (size(this.overrides)) {\n            for(var key in this.overrides){\n                if (this.overrides.hasOwnProperty(key)) {\n                    queryParams[\"overrides.\".concat(key)] = this.overrides[key];\n                }\n            }\n        }\n        for(var _i = 0, queue_2 = queue; _i < queue_2.length; _i++){\n            var options = queue_2[_i];\n            var format_1 = options.format;\n            if (format_1) {\n                queryParams.format = format_1;\n            }\n            // TODO: remove me and make permodel\n            if (options.static) {\n                queryParams.static = options.static;\n            }\n            if (options.cachebust) {\n                queryParams.cachebust = options.cachebust;\n            }\n            if (isPositiveNumber(options.cacheSeconds)) {\n                queryParams.cacheSeconds = options.cacheSeconds;\n            }\n            if (isPositiveNumber(options.staleCacheSeconds)) {\n                queryParams.staleCacheSeconds = options.staleCacheSeconds;\n            }\n            if (this.apiEndpoint === 'content') {\n                queryParams.includeRefs = true;\n            }\n            if (this.apiEndpoint === 'query') {\n                if ('enrich' in options && options.enrich !== undefined) {\n                    queryParams.enrich = options.enrich;\n                }\n                if (options.enrichOptions) {\n                    this.flattenEnrichOptions(options.enrichOptions, 'enrichOptions', queryParams);\n                }\n            }\n            var properties = [\n                'prerender',\n                'extractCss',\n                'limit',\n                'offset',\n                'query',\n                'preview',\n                'model',\n                'entry',\n                'rev',\n                'static',\n                'includeRefs'\n            ];\n            for(var _c = 0, properties_1 = properties; _c < properties_1.length; _c++){\n                var key = properties_1[_c];\n                var value = options[key];\n                if (value !== undefined) {\n                    if (this.apiEndpoint === 'query') {\n                        queryParams.options = queryParams.options || {};\n                        queryParams.options[options.key] = queryParams.options[options.key] || {};\n                        queryParams.options[options.key][key] = JSON.stringify(value);\n                    } else {\n                        queryParams[key] = JSON.stringify(value);\n                    }\n                }\n            }\n            // Handle enrich and enrichOptions for content endpoint\n            if (this.apiEndpoint === 'content') {\n                if ('enrich' in options && options.enrich !== undefined) {\n                    queryParams.enrich = options.enrich;\n                }\n                if (options.enrichOptions) {\n                    this.flattenEnrichOptions(options.enrichOptions, 'enrichOptions', queryParams);\n                }\n            }\n        }\n        if (this.preview && this.previewingModel === ((_b = queue === null || queue === void 0 ? void 0 : queue[0]) === null || _b === void 0 ? void 0 : _b.model)) {\n            queryParams.preview = 'true';\n        }\n        var hasParams = Object.keys(queryParams).length > 0;\n        // TODO: option to force dev or qa api here\n        var host = this.host;\n        var keyNames = queue.map(function(item) {\n            return encodeURIComponent(item.key);\n        }).join(',');\n        if (this.overrideParams) {\n            var params = omit(QueryString.parse(this.overrideParams), 'apiKey');\n            assign(queryParams, params);\n        }\n        var format = queryParams.format;\n        var isApiCallForCodegen = format === 'solid' || format === 'react';\n        var isApiCallForCodegenOrQuery = isApiCallForCodegen || this.apiEndpoint === 'query';\n        if (this.apiEndpoint === 'content') {\n            if (queue[0].query) {\n                delete queryParams.query;\n                var objectToFlatten = {\n                    query: queue[0].query\n                };\n                var flattened = this.flattenMongoQuery(objectToFlatten);\n                for(var key in flattened){\n                    queryParams[key] = JSON.stringify(flattened[key]);\n                }\n            }\n        }\n        var queryStr = QueryString.stringifyDeep(queryParams);\n        var fetchOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            headers: {}\n        }, queue[0].fetchOptions);\n        if (this.authToken) {\n            fetchOptions.headers = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, fetchOptions.headers), {\n                Authorization: \"Bearer \".concat(this.authToken)\n            });\n        }\n        var url;\n        if (isApiCallForCodegen) {\n            url = \"\".concat(host, \"/api/v1/codegen/\").concat(this.apiKey, \"/\").concat(keyNames);\n        } else if (this.apiEndpoint === 'query') {\n            url = \"\".concat(host, \"/api/v3/query/\").concat(this.apiKey, \"/\").concat(keyNames);\n        } else {\n            url = \"\".concat(host, \"/api/v3/content/\").concat(queue[0].model);\n        }\n        url = url + (queryParams && hasParams ? \"?\".concat(queryStr) : '');\n        var promise = this.makeFetchApiCall(url, fetchOptions).then(function(res) {\n            return res.json();\n        }).then(function(result) {\n            for(var _i = 0, queue_3 = queue; _i < queue_3.length; _i++){\n                var options = queue_3[_i];\n                var keyName = options.key;\n                if (options.model === _this.blockContentLoading && !options.noEditorUpdates) {\n                    continue;\n                }\n                var isEditingThisModel = _this.editingModel === options.model;\n                if (isEditingThisModel && Builder1.isEditing) {\n                    parent.postMessage({\n                        type: 'builder.updateContent',\n                        data: {\n                            options: options\n                        }\n                    }, '*');\n                // return;\n                }\n                var observer = _this.observersByKey[keyName];\n                if (!observer) {\n                    return;\n                }\n                var data = isApiCallForCodegenOrQuery ? result[keyName] : result.results;\n                var sorted = data; // sortBy(data, item => item.priority);\n                if (data) {\n                    var testModifiedResults = Builder1.isServer ? sorted : _this.processResultsForTests(sorted);\n                    observer.next(testModifiedResults);\n                } else {\n                    var search = _this.getLocation().search;\n                    if ((search || '').includes('builder.preview=' + options.model)) {\n                        var previewData = {\n                            id: 'preview',\n                            name: 'Preview',\n                            data: {}\n                        };\n                        observer.next([\n                            previewData\n                        ]);\n                    }\n                    observer.next([]);\n                }\n            }\n        }, function(err) {\n            for(var _i = 0, queue_4 = queue; _i < queue_4.length; _i++){\n                var options = queue_4[_i];\n                var observer = _this.observersByKey[options.key];\n                if (!observer) {\n                    return;\n                }\n                observer.error(err);\n            }\n        });\n        return promise;\n    };\n    Builder1.prototype.processResultsForTests = function(results) {\n        var _this = this;\n        var _a;\n        var mappedResults = results.map(function(item) {\n            if (!item.variations) {\n                return item;\n            }\n            var cookieValue = _this.getTestCookie(item.id);\n            var cookieVariation = cookieValue === item.id ? item : item.variations[cookieValue];\n            if (cookieVariation) {\n                return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, item), {\n                    data: cookieVariation.data,\n                    variationId: cookieValue,\n                    testVariationId: cookieValue,\n                    testVariationName: cookieVariation.name\n                });\n            }\n            if (_this.canTrack && item.variations && size(item.variations)) {\n                var n = 0;\n                var random = Math.random();\n                for(var id in item.variations){\n                    var variation = item.variations[id];\n                    var testRatio = variation.testRatio;\n                    n += testRatio;\n                    if (random < n) {\n                        _this.setTestCookie(item.id, variation.id);\n                        var variationName = variation.name || (variation.id === item.id ? 'Default variation' : '');\n                        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, item), {\n                            data: variation.data,\n                            variationId: variation.id,\n                            testVariationId: variation.id,\n                            variationName: variationName,\n                            testVariationName: variationName\n                        });\n                    }\n                }\n                _this.setTestCookie(item.id, item.id);\n            }\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, item), {\n                variationId: item.id\n            }), item.variations && size(item.variations) && {\n                testVariationId: item.id,\n                testVariationName: 'Default variation'\n            });\n        });\n        if (isIframe) {\n            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                type: 'builder.contentResults',\n                data: {\n                    results: mappedResults\n                }\n            }, '*');\n        }\n        return mappedResults;\n    };\n    Builder1.prototype.getTestCookie = function(contentId) {\n        return this.getCookie(\"\".concat(this.testCookiePrefix, \".\").concat(contentId));\n    };\n    Builder1.prototype.setTestCookie = function(contentId, variationId) {\n        if (!this.canTrack) {\n            this.cookieQueue.push([\n                contentId,\n                variationId\n            ]);\n            return;\n        }\n        // 30 days from now\n        var future = new Date();\n        future.setDate(future.getDate() + 30);\n        return this.setCookie(\"\".concat(this.testCookiePrefix, \".\").concat(contentId), variationId, future);\n    };\n    Builder1.prototype.getCookie = function(name) {\n        if (this.cookies) {\n            return this.cookies.get(name);\n        }\n        return Builder1.isBrowser && getCookie(name);\n    };\n    Builder1.prototype.setCookie = function(name, value, expires) {\n        if (this.cookies && !(Builder1.isServer && Builder1.isStatic)) {\n            return this.cookies.set(name, value, {\n                expires: expires,\n                secure: this.getLocation().protocol === 'https:'\n            });\n        }\n        return Builder1.isBrowser && setCookie(name, value, expires);\n    };\n    /**\r\n     * Recursively flattens enrichOptions object into dot-notation query parameters\r\n     * @private\r\n     */ Builder1.prototype.flattenEnrichOptions = function(obj, prefix, result) {\n        for(var _i = 0, _a = Object.entries(obj); _i < _a.length; _i++){\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            var newKey = \"\".concat(prefix, \".\").concat(key);\n            if (value && typeof value === 'object' && !Array.isArray(value)) {\n                this.flattenEnrichOptions(value, newKey, result);\n            } else {\n                result[newKey] = value;\n            }\n        }\n    };\n    Builder1.prototype.getContent = function(modelName, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        if (!this.apiKey) {\n            throw new Error(\"Fetching content from model \".concat(modelName, \" failed, expected apiKey to be defined instead got: \").concat(this.apiKey));\n        }\n        return this.queueGetContent(modelName, options);\n    };\n    Builder1.prototype.getAll = function(modelName, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        var instance = this;\n        if (!Builder1.isBrowser) {\n            instance = new Builder1(options.apiKey || this.apiKey, options.req, options.res, false, options.authToken || this.authToken, options.apiVersion || this.apiVersion);\n            instance.setUserAttributes(this.getUserAttributes());\n        } else {\n            // NOTE: All these are when .init is not called and the customer\n            // directly calls .get on the singleton instance of Builder\n            if (options.apiKey && !this.apiKey) {\n                this.apiKey = options.apiKey;\n            }\n            if (options.authToken && !this.authToken) {\n                this.authToken = options.authToken;\n            }\n            if (options.apiVersion && !this.apiVersion) {\n                this.apiVersion = options.apiVersion;\n            }\n        }\n        // Set noTraverse=true if NOT already passed by user, for query performance\n        if (!('noTraverse' in options)) {\n            options.noTraverse = true;\n        }\n        return instance.getContent(modelName, (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            limit: 30\n        }, options), {\n            key: options.key || // Make the key include all options, so we don't reuse cache for the same content fetched\n            // with different options\n            Builder1.isBrowser ? \"\".concat(modelName, \":\").concat(hash_sum__WEBPACK_IMPORTED_MODULE_0___default()(omit(options, 'initialContent', 'req', 'res'))) : undefined\n        })).promise();\n    };\n    Builder1.VERSION = SDK_VERSION;\n    Builder1.components = [];\n    /**\r\n     * Makes it so that a/b tests generate code like {@link\r\n     * https://www.builder.io/blog/high-performance-no-code#__next:~:text=Static%20generated%20A%2FB%20testing}\r\n     * instead of the old way where we render only one test group at a time on the\r\n     * server. This is the preferred/better way not and we should ultimately make it\r\n     * the default\r\n     */ Builder1.isStatic = true;\n    Builder1.animator = new Animator();\n    Builder1.nextTick = nextTick;\n    Builder1.throttle = throttle;\n    Builder1.editors = [];\n    Builder1.trustedHosts = [\n        '*.beta.builder.io',\n        'beta.builder.io',\n        'builder.io',\n        'localhost',\n        'qa.builder.io'\n    ];\n    Builder1.plugins = [];\n    Builder1.actions = [];\n    Builder1.registry = {};\n    Builder1.attributesCookieName = 'builder.userAttributes';\n    Builder1.registryChange = new BehaviorSubject({});\n    Builder1._editingPage = false;\n    Builder1.isIframe = isIframe;\n    Builder1.isBrowser = isBrowser;\n    Builder1.isReactNative = isReactNative;\n    Builder1.isServer = !isBrowser && !isReactNative;\n    Builder1.previewingModel = Builder1.isBrowser && getQueryParam(location.href, 'builder.preview');\n    Builder1.settings = {};\n    Builder1.settingsChange = new BehaviorSubject({});\n    // TODO: this is quick and dirty, do better implementation later. Also can be unreliable\n    // if page 301s etc. Use a query param instead? also could have issues with redirects. Injecting var could\n    // work but is async...\n    Builder1.isEditing = Boolean(isIframe && (document.referrer && document.referrer.match(/builder\\.io|localhost:1234/) || location.search.indexOf('builder.frameEditing=') !== -1));\n    Builder1.isPreviewing = Boolean(isBrowser && (location.search.indexOf('builder.preview=') !== -1 || location.search.indexOf('builder.frameEditing=') !== -1));\n    Builder1.isReact = false;\n    Builder1.sdkInfo = undefined;\n    Builder1.overrideUserAttributes = {};\n    return Builder1;\n}();\nvar builder = new Builder(null, undefined, undefined, true);\nBuilder.singletonInstance = builder;\n //# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGJ1aWxkZXIuaW8vc2RrL2Rpc3QvaW5kZXguZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUMsWUFBWTtJQUNYLElBQUksSUFBeUUsRUFBRSxPQUFPLEtBQUssQ0FBQztJQUU1RixTQUFTLFdBQVcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFO1FBQ2xDLE1BQU0sR0FBRyxNQUFNLElBQUk7WUFBRSxPQUFPLEVBQUUsS0FBSztZQUFFLFVBQVUsRUFBRSxLQUFLO1lBQUUsTUFBTSxFQUFFLElBQUk7UUFBQSxDQUFFLENBQUM7UUFDdkUsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM5QyxHQUFHLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdFLE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBRztJQUVELE1BQU0sQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO0NBQ25DLENBQUMsR0FBRztBQ1hKLElBQU0sUUFBUSxHQUNaLE1BQTZCLElBQzdCLENBQWlFLENBQUM7QUFFcEUsSUFBTSxRQUFRLEdBQUcsT0FBTyxNQUFNLEdBQUssV0FBVyxDQUFDO0FBRS9DO0FBQ00sU0FBVSxRQUFRLENBQUMsRUFBYzs7Ozs7OztJQU9yQyxJQUFJLENBQUMsUUFBUSxJQUFJLFFBQVEsSUFBSSxPQUFPLGdCQUFnQixLQUFLLFdBQVcsRUFBRTtRQUNwRSxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDZixPQUFPO0lBQ1I7SUFDRCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDZixJQUFNLFFBQVEsR0FBRyxJQUFJLGdCQUFnQixDQUFDO1FBQU0sU0FBRSxFQUFFO0lBQUEsRUFBQyxDQUFDO0lBQ2xELElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENB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QUFDLENBQUM7UUFDakIsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ2xCLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksS0FBSyxFQUFFLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDekMsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxLQUFLLEVBQUUsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUN6QyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDbEIsR0FBRyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNsQixHQUFHLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFDMUIsR0FBRyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDO0lBQzlDO0lBRUQsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3RCLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUIsR0FBRyxDQUFDLElBQUksR0FBRyxVQUFHLENBQUMsQ0FBQyxRQUFRLFNBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBRSxDQUFDO0lBQ3RDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQztJQUUxQixPQUFPLEdBQUcsQ0FBQztBQUNiO0FDdkRBOzs7Ozs7Ozs7OztDQVdHLEdBQ0csU0FBVSxPQUFPLENBQUMsR0FBWTtJQUNsQyxJQUFJLEdBQUcsWUFBWSxLQUFLLEVBQUUsT0FBTyxHQUFHLENBQUM7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QVEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLDRCQUE0QixDQUFDLElBQzFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLHVCQUF1QixDQUFDLEtBQUssRUFBQyxDQUFDLENBQUMsQ0FDN0Q7SUFFTSxPQUFZLGlCQUFHLE9BQU8sQ0FDM0IsU0FBUyxLQUNOLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDLElBQ2pELFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLHVCQUF1QixDQUFDLEtBQUssRUFBQyxDQUFDLENBQUMsQ0FDN0Q7SUFrSU0sT0FBTyxZQUFHLEtBQUssQ0FBQztJQUNoQixPQUFPLFlBQUcsU0FLSixDQUFDO0lBdWNQLE9BQXNCLDJCQUE0QixFQUFFLENBQUM7SUEreEM5RCxPQUFDO0FBQUEsQ0F6a0VELEVBeWtFQztBQzcvRk0sSUFBTSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFO0FBQ3JFLE9BQU8sQ0FBQyxpQkFBaUIsR0FBRyxPQUFPIiwic291cmNlcyI6WyIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL3BvbHlmaWxscy9jdXN0b20tZXZlbnQtcG9seWZpbGwuanMiLCIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL2Z1bmN0aW9ucy9uZXh0LXRpY2suZnVuY3Rpb24udHMiLCIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL2NsYXNzZXMvcXVlcnktc3RyaW5nLmNsYXNzLnRzIiwiL2hvbWUvYmFuZGFyb2YvR2l0aHViL3NyYy9jbGFzc2VzL29ic2VydmFibGUuY2xhc3MudHMiLCIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL2NsYXNzZXMvcHJvbWlzZS5jbGFzcy50cyIsIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9zcmMvZnVuY3Rpb25zL3NlcnZlci1vbmx5LXJlcXVpcmUuZnVuY3Rpb24udHMiLCIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL2Z1bmN0aW9ucy9mZXRjaC5mdW5jdGlvbi50cyIsIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9zcmMvZnVuY3Rpb25zL2Fzc2lnbi5mdW5jdGlvbi50cyIsIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9zcmMvZnVuY3Rpb25zL3Rocm90dGxlLmZ1bmN0aW9uLnRzIiwiL2hvbWUvYmFuZGFyb2YvR2l0aHViL3NyYy9jbGFzc2VzL2FuaW1hdG9yLmNsYXNzLnRzIiwiL2hvbWUvYmFuZGFyb2YvR2l0aHViL3NyYy9jbGFzc2VzL2Nvb2tpZXMuY2xhc3MudHMiLCIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL2Z1bmN0aW9ucy9vbWl0LmZ1bmN0aW9uLnRzIiwiL2hvbWUvYmFuZGFyb2YvR2l0aHViL3NyYy9mdW5jdGlvbnMvdXVpZC50cyIsIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9zcmMvdXJsLnRzIiwiL2hvbWUvYmFuZGFyb2YvR2l0aHViL3NyYy9mdW5jdGlvbnMvdG8tZXJyb3IudHMiLCIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL3R5cGVzL2FwaS12ZXJzaW9uLnRzIiwiL2hvbWUvYmFuZGFyb2YvR2l0aHViL3NyYy9zZGstdmVyc2lvbi50cyIsIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9zcmMvYnVpbGRlci5jbGFzcy50cyIsIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9zcmMvY29uc3RhbnRzL2J1aWxkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblxuICBmdW5jdGlvbiBDdXN0b21FdmVudChldmVudCwgcGFyYW1zKSB7XG4gICAgcGFyYW1zID0gcGFyYW1zIHx8IHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWw6IG51bGwgfTtcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgZXZ0LmluaXRDdXN0b21FdmVudChldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsKTtcbiAgICByZXR1cm4gZXZ0O1xuICB9XG5cbiAgd2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XG59KSgpO1xuIiwiY29uc3QgaXNTYWZhcmkgPVxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcblxuY29uc3QgaXNDbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcblxuLy8gVE9ETzogcXVldWUgYWxsIG9mIHRoZXNlIGluIGEgZGVib3VuY2VOZXh0VGlja1xuZXhwb3J0IGZ1bmN0aW9uIG5leHRUaWNrKGZuOiAoKSA9PiB2b2lkKSB7XG4gIC8vIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5uZXh0VGljaykge1xuICAvLyAgIGNvbnNvbGUubG9nKCdwcm9jZXNzLm5leHRUaWNrPycpO1xuICAvLyAgIHByb2Nlc3MubmV4dFRpY2soZm4pO1xuICAvLyAgIHJldHVybjtcbiAgLy8gfVxuICAvLyBGSVhNRTogZml4IHRoZSByZWFsIHNhZmFyaSBpc3N1ZSBvZiB0aGlzIHJhbmRvbWx5IG5vdCB3b3JraW5nXG4gIGlmICghaXNDbGllbnQgfHwgaXNTYWZhcmkgfHwgdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc2V0VGltZW91dChmbik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBjYWxsZWQgPSAwO1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IGZuKCkpO1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICB9KTtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gIGVsZW1lbnQuZGF0YSA9IFN0cmluZygoY2FsbGVkID0gKytjYWxsZWQpKTtcbn1cbiIsImV4cG9ydCB0eXBlIFN0cmluZ01hcCA9IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cbmNvbnN0IFBST1BFUlRZX05BTUVfREVOWV9MSVNUID0gT2JqZWN0LmZyZWV6ZShbJ19fcHJvdG9fXycsICdwcm90b3R5cGUnLCAnY29uc3RydWN0b3InXSk7XG5cbi8vIFRPRE86IHVuaXQgdGVzdHNcbmV4cG9ydCBjbGFzcyBRdWVyeVN0cmluZyB7XG4gIHN0YXRpYyBwYXJzZURlZXAocXVlcnlTdHJpbmc6IHN0cmluZykge1xuICAgIGNvbnN0IG9iaiA9IHRoaXMucGFyc2UocXVlcnlTdHJpbmcpO1xuICAgIHJldHVybiB0aGlzLmRlZXBlbihvYmopO1xuICB9XG5cbiAgc3RhdGljIHN0cmluZ2lmeURlZXAob2JqOiBhbnkpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLmZsYXR0ZW4ob2JqKTtcbiAgICByZXR1cm4gdGhpcy5zdHJpbmdpZnkobWFwKTtcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZShxdWVyeVN0cmluZzogc3RyaW5nKTogU3RyaW5nTWFwIHtcbiAgICBjb25zdCBxdWVyeTogU3RyaW5nTWFwID0ge307XG4gICAgY29uc3QgcGFpcnMgPSAocXVlcnlTdHJpbmdbMF0gPT09ICc/JyA/IHF1ZXJ5U3RyaW5nLnN1YnN0cigxKSA6IHF1ZXJ5U3RyaW5nKS5zcGxpdCgnJicpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhaXIgPSBwYWlyc1tpXS5zcGxpdCgnPScpO1xuICAgICAgLy8gVE9ETzogbm9kZSBzdXBwb3J0P1xuICAgICAgdHJ5IHtcbiAgICAgICAgcXVlcnlbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdIHx8ICcnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElnbm9yZSBtYWxmb3JtZWQgVVJJIGNvbXBvbmVudHNcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9XG5cbiAgc3RhdGljIHN0cmluZ2lmeShtYXA6IFN0cmluZ01hcCkge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXApIHtcbiAgICAgIGlmIChtYXAuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG1hcFtrZXldO1xuICAgICAgICBpZiAoc3RyKSB7XG4gICAgICAgICAgc3RyICs9ICcmJztcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgc3RhdGljIGRlZXBlbihtYXA6IFN0cmluZ01hcCkge1xuICAgIC8vIEZJWE1FOyBTaG91bGQgYmUgdHlwZSBUcmVlID0gUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgVHJlZT5cbiAgICAvLyByZXF1aXJlcyBhIHR5cGVzY3JpcHQgdXBncmFkZS5cbiAgICBjb25zdCBvdXRwdXQ6IGFueSA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBtYXApIHtcbiAgICAgIGxldCB0ID0gb3V0cHV0O1xuICAgICAgY29uc3QgcGFydHMgPSBrLnNwbGl0KCcuJyk7XG4gICAgICBjb25zdCBrZXkgPSBwYXJ0cy5wb3AoKSE7XG4gICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgYXNzZXJ0QWxsb3dlZFByb3BlcnR5TmFtZShwYXJ0KTtcbiAgICAgICAgdCA9IHRbcGFydF0gPSB0W3BhcnRdIHx8IHt9O1xuICAgICAgfVxuICAgICAgdFtrZXldID0gbWFwW2tdO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9XG5cbiAgc3RhdGljIGZsYXR0ZW4ob2JqOiBhbnksIF9jdXJyZW50PzogYW55LCBfcmVzOiBhbnkgPSB7fSk6IFN0cmluZ01hcCB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgY29uc3QgbmV3S2V5ID0gX2N1cnJlbnQgPyBfY3VycmVudCArICcuJyArIGtleSA6IGtleTtcbiAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRoaXMuZmxhdHRlbih2YWx1ZSwgbmV3S2V5LCBfcmVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9yZXNbbmV3S2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfcmVzO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydEFsbG93ZWRQcm9wZXJ0eU5hbWUobmFtZTogc3RyaW5nKTogYXNzZXJ0cyBuYW1lIHtcbiAgaWYgKFBST1BFUlRZX05BTUVfREVOWV9MSVNULmluZGV4T2YobmFtZSkgPj0gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5IG5hbWUgXCIke25hbWV9XCIgaXMgbm90IGFsbG93ZWRgKTtcbn1cbiIsImV4cG9ydCB0eXBlIExpc3RlbmVyPFQ+ID0gKHZhbHVlOiBUKSA9PiB2b2lkO1xuXG5leHBvcnQgY2xhc3MgU3Vic2NyaXB0aW9uPEZ1bmN0aW9uVHlwZSA9IEZ1bmN0aW9uPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgbGlzdGVuZXJzPzogRnVuY3Rpb25UeXBlW10sXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcj86IEZ1bmN0aW9uVHlwZVxuICApIHt9XG5cbiAgdW5zdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgZ2V0IGNsb3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy51bnN1YnNjcmliZWQ7XG4gIH1cblxuICBwcml2YXRlIHJlYWRvbmx5IG90aGVyU3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICBhZGQoc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24pIHtcbiAgICB0aGlzLm90aGVyU3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICBpZiAodGhpcy51bnN1YnNjcmliZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMubGlzdGVuZXIgJiYgdGhpcy5saXN0ZW5lcnMpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZih0aGlzLmxpc3RlbmVyKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMub3RoZXJTdWJzY3JpcHRpb25zLmZvckVhY2goc3ViID0+IHN1Yi51bnN1YnNjcmliZSgpKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlZCA9IHRydWU7XG4gIH1cbn1cblxuLy8gVE9ETzogZm9sbG93IG1pbmltYWwgYmFzaWMgc3BlYzogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JzZXJ2YWJsZVxuZXhwb3J0IGNsYXNzIEJlaGF2aW9yU3ViamVjdDxUID0gYW55LCBFcnJvclR5cGUgPSBhbnk+IHtcbiAgY29uc3RydWN0b3IocHVibGljIHZhbHVlOiBUKSB7fVxuXG4gIHByaXZhdGUgbGlzdGVuZXJzOiBMaXN0ZW5lcjxUPltdID0gW107XG4gIHByaXZhdGUgZXJyb3JMaXN0ZW5lcnM6IExpc3RlbmVyPEVycm9yVHlwZT5bXSA9IFtdO1xuXG4gIG5leHQodmFsdWU6IFQpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXIodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IGltcGxlbWVudCB0aGlzIGFzIFBJUEUgaW5zdGVhZFxuICBtYXA8TmV3VHlwZSA9IGFueT4oZm46IChpdGVtOiBUKSA9PiBOZXdUeXBlKSB7XG4gICAgY29uc3QgbmV3U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8TmV3VHlwZT4oZm4odGhpcy52YWx1ZSkpO1xuICAgIC8vIFRPRE86IG9uIGRlc3Ryb3kgZGVsZXRlIHRoZXNlXG4gICAgdGhpcy5zdWJzY3JpYmUodmFsID0+IHtcbiAgICAgIG5ld1N1YmplY3QubmV4dChmbih2YWwpKTtcbiAgICB9KTtcbiAgICB0aGlzLmNhdGNoKGVyciA9PiB7XG4gICAgICBuZXdTdWJqZWN0LmVycm9yKGVycik7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld1N1YmplY3Q7XG4gIH1cblxuICBjYXRjaChlcnJvckxpc3RlbmVyOiBMaXN0ZW5lcjxFcnJvclR5cGU+KSB7XG4gICAgdGhpcy5lcnJvckxpc3RlbmVycy5wdXNoKGVycm9yTGlzdGVuZXIpO1xuICAgIHJldHVybiBuZXcgU3Vic2NyaXB0aW9uKHRoaXMuZXJyb3JMaXN0ZW5lcnMsIGVycm9yTGlzdGVuZXIpO1xuICB9XG5cbiAgZXJyb3IoZXJyb3I6IEVycm9yVHlwZSkge1xuICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5lcnJvckxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXIoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHN1YnNjcmliZShsaXN0ZW5lcjogTGlzdGVuZXI8VD4sIGVycm9yTGlzdGVuZXI/OiBMaXN0ZW5lcjxFcnJvclR5cGU+KSB7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgaWYgKGVycm9yTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZXJyb3JMaXN0ZW5lcnMucHVzaChlcnJvckxpc3RlbmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpcHRpb24odGhpcy5saXN0ZW5lcnMsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHRvUHJvbWlzZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8VD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5zdWJzY3JpYmUoXG4gICAgICAgIHZhbHVlID0+IHtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByb21pc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9Qcm9taXNlKCk7XG4gIH1cblxuICB0aGVuOiBQcm9taXNlPFQ+Wyd0aGVuJ10gPSAoLi4uYXJncykgPT4ge1xuICAgIHJldHVybiB0aGlzLnRvUHJvbWlzZSgpLnRoZW4oLi4uYXJncyk7XG4gIH07XG59XG5cbi8vIFRPRE86IG1ha2UgZGlmZmVyZW50IGNsYXNzZXNcbmV4cG9ydCBjb25zdCBPYnNlcnZlciA9IEJlaGF2aW9yU3ViamVjdDtcbmV4cG9ydCBjb25zdCBPYnNlcnZhYmxlID0gQmVoYXZpb3JTdWJqZWN0O1xuIiwiaW1wb3J0IHsgbmV4dFRpY2sgfSBmcm9tICcuLi9mdW5jdGlvbnMvbmV4dC10aWNrLmZ1bmN0aW9uJztcblxuY29uc3QgU3RhdGUgPSB7XG4gIFBlbmRpbmc6ICdQZW5kaW5nJyxcbiAgRnVsZmlsbGVkOiAnRnVsZmlsbGVkJyxcbiAgUmVqZWN0ZWQ6ICdSZWplY3RlZCcsXG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbDogYW55KSB7XG4gIHJldHVybiB2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsOiBhbnkpIHtcbiAgcmV0dXJuIHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuaW50ZXJmYWNlIEhhbmRsZXI8VD4ge1xuICBvbkZ1bGZpbGxlZDogKHZhbDogVCkgPT4gYW55O1xuICBvblJlamVjdGVkOiAoZXJyOiBhbnkpID0+IGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIFRpbnlQcm9taXNlPFQgPSBhbnk+IHtcbiAgcHJpdmF0ZSBfc3RhdGUgPSBTdGF0ZS5QZW5kaW5nO1xuICBwcml2YXRlIF9oYW5kbGVyczogSGFuZGxlcjxUPltdID0gW107XG4gIHByaXZhdGUgX3ZhbHVlOiBUIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoZXhlY3V0b3I6IChyZXNvbHZlOiAodmFsOiBUKSA9PiBhbnksIHJlamVjdDogKGVycjogVCkgPT4gYW55KSA9PiB2b2lkKSB7XG4gICAgZXhlY3V0b3IodGhpcy5fcmVzb2x2ZS5iaW5kKHRoaXMpLCB0aGlzLl9yZWplY3QuYmluZCh0aGlzKSk7XG4gIH1cblxuICBwcml2YXRlIF9yZXNvbHZlKHg6IGFueSkge1xuICAgIGlmICh4IGluc3RhbmNlb2YgVGlueVByb21pc2UpIHtcbiAgICAgIHgudGhlbih0aGlzLl9yZXNvbHZlLmJpbmQodGhpcyksIHRoaXMuX3JlamVjdC5iaW5kKHRoaXMpKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHgpIHx8IGlzRnVuY3Rpb24oeCkpIHtcbiAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRoZW5hYmxlID0gKHggYXMgUHJvbWlzZTxhbnk+KS50aGVuO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuYWJsZSkpIHtcbiAgICAgICAgICB0aGVuYWJsZS5jYWxsKFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIChyZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkgdGhpcy5fcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkIGFzIGFueTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkgdGhpcy5fcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZCBhcyBhbnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9mdWxmaWxsKHgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgIHRoaXMuX3JlamVjdChleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZnVsZmlsbCh4KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9mdWxmaWxsKHJlc3VsdDogVCkge1xuICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuRnVsZmlsbGVkO1xuICAgIHRoaXMuX3ZhbHVlID0gcmVzdWx0O1xuICAgIHRoaXMuX2hhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiB0aGlzLl9jYWxsSGFuZGxlcihoYW5kbGVyKSk7XG4gIH1cblxuICBwcml2YXRlIF9yZWplY3QoZXJyb3I6IGFueSkge1xuICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuUmVqZWN0ZWQ7XG4gICAgdGhpcy5fdmFsdWUgPSBlcnJvcjtcbiAgICB0aGlzLl9oYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4gdGhpcy5fY2FsbEhhbmRsZXIoaGFuZGxlcikpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaXNQZW5kaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gU3RhdGUuUGVuZGluZztcbiAgfVxuXG4gIHByaXZhdGUgX2lzRnVsZmlsbGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gU3RhdGUuRnVsZmlsbGVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfaXNSZWplY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGUgPT09IFN0YXRlLlJlamVjdGVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfYWRkSGFuZGxlcihvbkZ1bGZpbGxlZDogKHZhbDogVCkgPT4gYW55LCBvblJlamVjdGVkOiAoZXJyOiBhbnkpID0+IGFueSkge1xuICAgIHRoaXMuX2hhbmRsZXJzLnB1c2goe1xuICAgICAgb25GdWxmaWxsZWQsXG4gICAgICBvblJlamVjdGVkLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfY2FsbEhhbmRsZXIoaGFuZGxlcjogSGFuZGxlcjxUPikge1xuICAgIGlmICh0aGlzLl9pc0Z1bGZpbGxlZCgpICYmIGlzRnVuY3Rpb24oaGFuZGxlci5vbkZ1bGZpbGxlZCkpIHtcbiAgICAgIGhhbmRsZXIub25GdWxmaWxsZWQodGhpcy5fdmFsdWUgYXMgVCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc1JlamVjdGVkKCkgJiYgaXNGdW5jdGlvbihoYW5kbGVyLm9uUmVqZWN0ZWQpKSB7XG4gICAgICBoYW5kbGVyLm9uUmVqZWN0ZWQodGhpcy5fdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHRoZW4ob25GdWxmaWxsZWQ6ICh2YWw6IFQpID0+IGFueSwgb25SZWplY3RlZDogKGVycjogYW55KSA9PiBhbnkpIHtcbiAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICBjYXNlIFN0YXRlLlBlbmRpbmc6IHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55UHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgdGhpcy5fYWRkSGFuZGxlcihcbiAgICAgICAgICAgIHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvbkZ1bGZpbGxlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvbkZ1bGZpbGxlZCh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgIHJlamVjdChleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25SZWplY3RlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvblJlamVjdGVkKGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICByZWplY3QoZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgU3RhdGUuRnVsZmlsbGVkOiB7XG4gICAgICAgIHJldHVybiBuZXcgVGlueVByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uRnVsZmlsbGVkKSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUob25GdWxmaWxsZWQodGhpcy5fdmFsdWUgYXMgVCkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5fdmFsdWUgYXMgVCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgIHJlamVjdChleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFN0YXRlLlJlamVjdGVkOiB7XG4gICAgICAgIHJldHVybiBuZXcgVGlueVByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uUmVqZWN0ZWQpKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShvblJlamVjdGVkKHRoaXMuX3ZhbHVlKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0ICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgPyBQcm9taXNlIDogVGlueVByb21pc2UpIGFzIFByb21pc2VDb25zdHJ1Y3RvcjtcbiIsIi8vIFdlYnBhY2sgd29ya2Fyb3VuZCB0byBjb25kaXRpb25hbGx5IHJlcXVpcmUgY2VydGFpbiBleHRlcm5hbCBtb2R1bGVzXG4vLyBvbmx5IG9uIHRoZSBzZXJ2ZXIgYW5kIG5vdCBidW5kbGUgdGhlbSBvbiB0aGUgY2xpZW50XG5sZXQgc2VydmVyT25seVJlcXVpcmU6IE5vZGVSZXF1aXJlO1xudHJ5IHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWV2YWxcbiAgc2VydmVyT25seVJlcXVpcmUgPSBldmFsKCdyZXF1aXJlJyk7XG59IGNhdGNoIChlcnIpIHtcbiAgLy8gYWxsIGdvb2RcbiAgc2VydmVyT25seVJlcXVpcmUgPSAoKCkgPT4gbnVsbCkgYXMgYW55O1xufVxuXG5leHBvcnQgZGVmYXVsdCBzZXJ2ZXJPbmx5UmVxdWlyZTtcbiIsImltcG9ydCBQcm9taXNlIGZyb20gJy4uL2NsYXNzZXMvcHJvbWlzZS5jbGFzcyc7XG5pbXBvcnQgc2VydmVyT25seVJlcXVpcmUgZnJvbSAnLi9zZXJ2ZXItb25seS1yZXF1aXJlLmZ1bmN0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBTaW1wbGlmaWVkRmV0Y2hPcHRpb25zIHtcbiAgYm9keT86IHN0cmluZztcbiAgaGVhZGVycz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIG1ldGhvZD86ICdHRVQnIHwgJ1BPU1QnIHwgJ1BVVCcgfCAnREVMRVRFJyB8ICdQQVRDSCc7XG4gIGNyZWRlbnRpYWxzPzogJ2luY2x1ZGUnO1xuICBtb2RlPzogUmVxdWVzdE1vZGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2ltcGxlRmV0Y2hSZXNwb25zZSB7XG4gIG9rOiBib29sZWFuO1xuICBzdGF0dXM6IG51bWJlcjtcbiAgc3RhdHVzVGV4dDogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbiAgY2xvbmU6ICgpID0+IGFueTtcbiAgdGV4dDogKCkgPT4gUHJvbWlzZTxzdHJpbmc+O1xuICBqc29uOiAoKSA9PiBQcm9taXNlPGFueT47XG4gIGJsb2I6ICgpID0+IFByb21pc2U8QmxvYj47XG4gIGhlYWRlcnM6IHtcbiAgICBrZXlzOiAoKSA9PiBzdHJpbmdbXTtcbiAgICBlbnRyaWVzOiAoKSA9PiBbc3RyaW5nLCBzdHJpbmddW107XG4gICAgZ2V0OiAobjogc3RyaW5nKSA9PiBzdHJpbmc7XG4gICAgaGFzOiAobjogc3RyaW5nKSA9PiBib29sZWFuO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9taXNlUmVzb2x2ZTxUPih2YWx1ZTogVCkge1xuICByZXR1cm4gbmV3IFByb21pc2U8VD4ocmVzb2x2ZSA9PiByZXNvbHZlKHZhbHVlKSk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGV2ZWxvcGl0L3VuZmV0Y2gvbWFzdGVyL3NyYy9pbmRleC5tanNcbmZ1bmN0aW9uIHRpbnlGZXRjaCh1cmw6IHN0cmluZywgb3B0aW9uczogU2ltcGxpZmllZEZldGNoT3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxTaW1wbGVGZXRjaFJlc3BvbnNlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgcmVxdWVzdC5vcGVuKG9wdGlvbnMubWV0aG9kIHx8ICdnZXQnLCB1cmwsIHRydWUpO1xuXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgZm9yIChjb25zdCBpIGluIG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoaSwgb3B0aW9ucy5oZWFkZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJztcblxuICAgIHJlcXVlc3Qub25sb2FkID0gKCkgPT4ge1xuICAgICAgcmVzb2x2ZShyZXNwb25zZSgpKTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbmVycm9yID0gcmVqZWN0O1xuXG4gICAgcmVxdWVzdC5zZW5kKG9wdGlvbnMuYm9keSk7XG5cbiAgICBmdW5jdGlvbiByZXNwb25zZSgpIHtcbiAgICAgIGNvbnN0IGtleXM6IHN0cmluZ1tdID0gW107XG4gICAgICBjb25zdCBhbGw6IFtzdHJpbmcsIHN0cmluZ11bXSA9IFtdO1xuICAgICAgY29uc3QgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICAgICAgbGV0IGhlYWRlcjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICByZXF1ZXN0XG4gICAgICAgIC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAucmVwbGFjZSgvXiguKj8pOlteXFxTXFxuXSooW1xcc1xcU10qPykkL2dtLCAoX21hdGNoLCBfa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgIGxldCBrZXkgPSBfa2V5O1xuICAgICAgICAgIGtleXMucHVzaCgoa2V5ID0ga2V5LnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgICBhbGwucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIGhlYWRlciA9IGhlYWRlcnNba2V5XTtcbiAgICAgICAgICBoZWFkZXJzW2tleV0gPSBoZWFkZXIgPyBgJHtoZWFkZXJ9LCR7dmFsdWV9YCA6IHZhbHVlO1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9rOiAoKHJlcXVlc3Quc3RhdHVzIC8gMTAwKSB8IDApID09PSAyLCAvLyAyMDAtMjk5XG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgdXJsOiByZXF1ZXN0LnJlc3BvbnNlVVJMLFxuICAgICAgICBjbG9uZTogcmVzcG9uc2UsXG4gICAgICAgIHRleHQ6ICgpID0+IHByb21pc2VSZXNvbHZlKHJlcXVlc3QucmVzcG9uc2VUZXh0KSxcbiAgICAgICAganNvbjogKCkgPT4gcHJvbWlzZVJlc29sdmUocmVxdWVzdC5yZXNwb25zZVRleHQpLnRoZW4oSlNPTi5wYXJzZSksXG4gICAgICAgIGJsb2I6ICgpID0+IHByb21pc2VSZXNvbHZlKG5ldyBCbG9iKFtyZXF1ZXN0LnJlc3BvbnNlXSkpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAga2V5czogKCkgPT4ga2V5cyxcbiAgICAgICAgICBlbnRyaWVzOiAoKSA9PiBhbGwsXG4gICAgICAgICAgZ2V0OiAobjogc3RyaW5nKSA9PiBoZWFkZXJzW24udG9Mb3dlckNhc2UoKV0sXG4gICAgICAgICAgaGFzOiAobjogc3RyaW5nKSA9PiBuLnRvTG93ZXJDYXNlKCkgaW4gaGVhZGVycyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZldGNoKCkge1xuICAvLyBJZiBmZXRjaCBpcyBkZWZpbmVkLCBpbiB0aGUgYnJvd3NlciwgdmlhIHBvbHlmaWxsLCBvciBpbiBhIENsb3VkZmxhcmUgd29ya2VyLCB1c2UgaXQuXG4gIGxldCBfZmV0Y2g6IHR5cGVvZiBmZXRjaCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgaWYgKGdsb2JhbFRoaXMuZmV0Y2gpIHtcbiAgICBfZmV0Y2ggPz89IGdsb2JhbFRoaXMuZmV0Y2ggYXMgYW55O1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gSWYgZmV0Y2ggaXMgbm90IGRlZmluZWQsIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCwgdXNlIG5vZGUtZmV0Y2guXG4gICAgdHJ5IHtcbiAgICAgIC8vIG5vZGUtZmV0Y2hAXjMgaXMgRVNNIG9ubHksIGFuZCB3aWxsIHRocm93IGVycm9yIG9uIHJlcXVpcmUuXG4gICAgICBfZmV0Y2ggPz89IHNlcnZlck9ubHlSZXF1aXJlKCdub2RlLWZldGNoJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWYgbm9kZS1mZXRjaCBpcyBub3QgaW5zdGFsbGVkLCB1c2UgdGlueS1mZXRjaC5cbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ25vZGUtZmV0Y2ggaXMgbm90IGluc3RhbGxlZC4gY29uc2lkZXIgcG9seWZpbGxpbmcgZmV0Y2ggb3IgaW5zdGFsbGluZyBub2RlLWZldGNoLidcbiAgICAgICk7XG4gICAgICBjb25zb2xlLndhcm4oZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gT3RoZXJ3aXNlLCB1c2UgdGlueS1mZXRjaC5cbiAgcmV0dXJuIF9mZXRjaCA/PyB0aW55RmV0Y2g7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhcmdldDogb2JqZWN0LCAuLi5hcmdzOiBhbnlbXSkge1xuICBjb25zdCB0byA9IE9iamVjdCh0YXJnZXQpO1xuXG4gIGZvciAobGV0IGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3QgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAvLyBTa2lwIG92ZXIgaWYgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgIGZvciAoY29uc3QgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XG4gICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZShmdW5jOiBGdW5jdGlvbiwgd2FpdDogbnVtYmVyLCBvcHRpb25zOiBhbnkgPSB7fSkge1xuICBsZXQgY29udGV4dDogYW55O1xuICBsZXQgYXJnczogYW55O1xuICBsZXQgcmVzdWx0OiBhbnk7XG4gIGxldCB0aW1lb3V0ID0gbnVsbCBhcyBhbnk7XG4gIGxldCBwcmV2aW91cyA9IDA7XG4gIGNvbnN0IGxhdGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBEYXRlLm5vdygpO1xuICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbiAodGhpczogYW55KSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgIGNvbnRleHQgPSB0aGlzO1xuICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICB9XG4gICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cbiIsImltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi4vZnVuY3Rpb25zL3Rocm90dGxlLmZ1bmN0aW9uJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL2Z1bmN0aW9ucy9hc3NpZ24uZnVuY3Rpb24nO1xuXG5jb25zdCBjYW1lbENhc2VUb0tlYmFiQ2FzZSA9IChzdHI/OiBzdHJpbmcpID0+XG4gIHN0ciA/IHN0ci5yZXBsYWNlKC8oW0EtWl0pL2csIGcgPT4gYC0ke2dbMF0udG9Mb3dlckNhc2UoKX1gKSA6ICcnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFuaW1hdGlvblN0ZXAge1xuICAvLyBGaXJzdCBvbmUgaXMgYWx3YXlzIHN0YXJ0IHN0YXRlXG4gIC8vIGlzU3RhcnRTdGF0ZT86IGJvb2xlYW47XG4gIHN0eWxlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgZGVsYXk/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5pbWF0aW9uIHtcbiAgZWxlbWVudElkOiBzdHJpbmc7XG4gIHRyaWdnZXI6IHN0cmluZztcbiAgc3RlcHM6IEFuaW1hdGlvblN0ZXBbXTtcbiAgZHVyYXRpb246IG51bWJlcjtcbiAgZGVsYXk/OiBudW1iZXI7XG4gIGVhc2luZz86IHN0cmluZztcbiAgLy8gVE9ETzogZGVwcmVjYXRlIC0gb25seSBoZXJlIGJlY2F1c2Ugb2YgYW4gQVBJIGJ1Z1xuICBpZD86IHN0cmluZztcbiAgLy8gb25seSBhcHBseSBpbiBzY3JvbGxJblZpZXdcbiAgcmVwZWF0PzogYm9vbGVhbjtcbiAgLy8gb25seSBhcHBseSBpbiBzY3JvbGxJblZpZXcsIG51bWJlciBmcm9tIC0xIHRvIDFcbiAgdGhyZXNob2xkUGVyY2VudD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEFuaW1hdG9yIHtcbiAgYmluZEFuaW1hdGlvbnMoYW5pbWF0aW9uczogQW5pbWF0aW9uW10pIHtcbiAgICBmb3IgKGNvbnN0IGFuaW1hdGlvbiBvZiBhbmltYXRpb25zKSB7XG4gICAgICBzd2l0Y2ggKGFuaW1hdGlvbi50cmlnZ2VyKSB7XG4gICAgICAgIGNhc2UgJ3BhZ2VMb2FkJzpcbiAgICAgICAgICB0aGlzLnRyaWdnZXJBbmltYXRpb24oYW5pbWF0aW9uKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaG92ZXInOlxuICAgICAgICAgIHRoaXMuYmluZEhvdmVyQW5pbWF0aW9uKGFuaW1hdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Njcm9sbEluVmlldyc6XG4gICAgICAgICAgdGhpcy5iaW5kU2Nyb2xsSW5WaWV3QW5pbWF0aW9uKGFuaW1hdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB3YXJuRWxlbWVudE5vdFByZXNlbnQoaWQ6IHN0cmluZykge1xuICAgIGNvbnNvbGUud2FybihgQ2Fubm90IGFuaW1hdGUgZWxlbWVudDogZWxlbWVudCB3aXRoIElEICR7aWR9IG5vdCBmb3VuZCFgKTtcbiAgfVxuXG4gIHByaXZhdGUgYXVnbWVudEFuaW1hdGlvbihhbmltYXRpb246IEFuaW1hdGlvbiwgZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBzdHlsZXNVc2VkID0gdGhpcy5nZXRBbGxTdHlsZXNVc2VkKGFuaW1hdGlvbik7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZTogYW55ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAvLyBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAvLyAvLyBGSVhNRTogdGhpcyB3aWxsIGJyZWFrIGlmIG9yaWdpbmFsIGxvYWQgaXMgaW4gb25lIHJlcG9uc2l2ZSBzaXplIHRoZW4gcmVzaXplIHRvIGFub3RoZXIgaG1tbVxuICAgIC8vIE5lZWQgdG8gdXNlIHRyYW5zZm9ybSBpbnN0ZWFkIG9mIGxlZnQgc2luY2UgbGVmdCBjYW4gY2hhbmdlIG9uIHNjcmVlbiBzaXplc1xuICAgIGNvbnN0IGZpcnN0U3R5bGVzID0gYW5pbWF0aW9uLnN0ZXBzWzBdLnN0eWxlcztcbiAgICBjb25zdCBsYXN0U3R5bGVzID0gYW5pbWF0aW9uLnN0ZXBzW2FuaW1hdGlvbi5zdGVwcy5sZW5ndGggLSAxXSEuc3R5bGVzO1xuICAgIGNvbnN0IGJvdGhTdHlsZXMgPSBbZmlyc3RTdHlsZXMsIGxhc3RTdHlsZXNdO1xuXG4gICAgLy8gRklYTUU6IHRoaXMgd29uJ3Qgd29yayBhcyBleHBlY3RlZCBmb3IgYXVnbWVudGVkIGFuaW1hdGlvbnMgLSBtYXkgbmVlZCB0aGUgZWRpdG9yIGl0c2VsZiB0byBtYW5hZ2UgdGhpc1xuICAgIGZvciAoY29uc3Qgc3R5bGVzIG9mIGJvdGhTdHlsZXMpIHtcbiAgICAgIGZvciAoY29uc3Qgc3R5bGUgb2Ygc3R5bGVzVXNlZCkge1xuICAgICAgICBpZiAoIShzdHlsZSBpbiBzdHlsZXMpKSB7XG4gICAgICAgICAgc3R5bGVzW3N0eWxlXSA9IGNvbXB1dGVkU3R5bGVbc3R5bGVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRBbGxTdHlsZXNVc2VkKGFuaW1hdGlvbjogQW5pbWF0aW9uKSB7XG4gICAgY29uc3QgcHJvcGVydGllczogKGtleW9mIENTU1N0eWxlRGVjbGFyYXRpb24pW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHN0ZXAgb2YgYW5pbWF0aW9uLnN0ZXBzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBzdGVwLnN0eWxlcykge1xuICAgICAgICBpZiAocHJvcGVydGllcy5pbmRleE9mKGtleSBhcyBhbnkpID09PSAtMSkge1xuICAgICAgICAgIHByb3BlcnRpZXMucHVzaChrZXkgYXMgYW55KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcGVydGllcztcbiAgfVxuXG4gIHRyaWdnZXJBbmltYXRpb24oYW5pbWF0aW9uOiBBbmltYXRpb24pIHtcbiAgICAvLyBUT0RPOiBkbyBmb3IgQUxMIGVsZW1lbnRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYW5pbWF0aW9uLmVsZW1lbnRJZCB8fCBhbmltYXRpb24uaWQgfHwgJycpXG4gICAgKSBhcyBIVE1MRWxlbWVudFtdO1xuICAgIGlmICghZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLndhcm5FbGVtZW50Tm90UHJlc2VudChhbmltYXRpb24uZWxlbWVudElkIHx8IGFuaW1hdGlvbi5pZCB8fCAnJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQXJyYXkuZnJvbShlbGVtZW50cykuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuYXVnbWVudEFuaW1hdGlvbihhbmltYXRpb24sIGVsZW1lbnQpO1xuICAgICAgLy8gVE9ETzogZG8gdGhpcyBwcm9wZXJseSwgbWF5IGhhdmUgb3RoZXIgYW5pbWF0aW9ucyBvZiBkaWZmZXJlbnQgcHJvcGVydGllc1xuXG4gICAgICAvLyBUT0RPOiBvbmx5IG92ZXJyaWRlIHRoZSBwcm9wZXJ0aWVzXG4gICAgICAvLyBUT0RPOiBpZiB0aGVyZSBpcyBhbiBlbnRyYW5jZSBhbmQgaG92ZXIgYW5pbWF0aW9uLCB0aGUgdHJhbnNpdGlvbiBkdXJhdGlvbiB3aWxsIGdldCBlZmZlZFxuICAgICAgLy8gZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJycpO1xuXG4gICAgICAvLyBjb25zdCBzdHlsZWRVc2VkID0gdGhpcy5nZXRBbGxTdHlsZXNVc2VkKGFuaW1hdGlvbik7XG4gICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XG4gICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9ICcwJztcbiAgICAgIGFzc2lnbihlbGVtZW50LnN0eWxlLCBhbmltYXRpb24uc3RlcHNbMF0uc3R5bGVzKTtcbiAgICAgIC8vIFRPRE86IHF1ZXVlL2JhdGNoIHRoZXNlIHRpbWVvdXRzXG4gICAgICAvLyBUT0RPOiBvbmx5IGluY2x1ZGUgcHJvcGVydGllcyBleHBsaWNpdGx5IHNldCBpbiB0aGUgYW5pbWF0aW9uXG4gICAgICAvLyB1c2luZyBPYmplY3Qua2V5cyhzdHlsZXMpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAke2FuaW1hdGlvbi5kdXJhdGlvbn1zICR7Y2FtZWxDYXNlVG9LZWJhYkNhc2UoXG4gICAgICAgICAgYW5pbWF0aW9uLmVhc2luZ1xuICAgICAgICApfWA7XG4gICAgICAgIGlmIChhbmltYXRpb24uZGVsYXkpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9IGFuaW1hdGlvbi5kZWxheSArICdzJztcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ24oZWxlbWVudC5zdHlsZSwgYW5pbWF0aW9uLnN0ZXBzWzFdLnN0eWxlcyk7XG4gICAgICAgIC8vIFRPRE86IG1heWJlIHJlbW92ZS9yZXNldCB0cmFuc2l0b2luIHByb3BlcnR5IGFmdGVyIGFuaW1hdGlvbiBkdXJhdGlvblxuXG4gICAgICAgIC8vIFRPRE86IHF1ZXVlIHRpbWVyc1xuICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE86IHdoYXQgaWYgaGFzIG90aGVyIHRyYW5zaXRpb24gKHJlc2V0IGJhY2sgdG8gd2hhdCBpdCB3YXMpXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnJztcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gJyc7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoYW5pbWF0aW9uLmRlbGF5IHx8IDApICogMTAwMCArIGFuaW1hdGlvbi5kdXJhdGlvbiAqIDEwMDAgKyAxMDBcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYmluZEhvdmVyQW5pbWF0aW9uKGFuaW1hdGlvbjogQW5pbWF0aW9uKSB7XG4gICAgLy8gVE9ETzogaXMgaXQgbXVsdGlwbGUgYmluZGluZyB3aGVuIGVkaXRpbmcuLi4/XG4gICAgLy8gVE9ETzogdW5iaW5kIG9uIGVsZW1lbnQgcmVtb3ZlXG4gICAgLy8gVE9ETzogYXBwbHkgdG8gQUxMIGVsZW1lbnRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYW5pbWF0aW9uLmVsZW1lbnRJZCB8fCBhbmltYXRpb24uaWQgfHwgJycpXG4gICAgKSBhcyBIVE1MRWxlbWVudFtdO1xuICAgIGlmICghZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLndhcm5FbGVtZW50Tm90UHJlc2VudChhbmltYXRpb24uZWxlbWVudElkIHx8IGFuaW1hdGlvbi5pZCB8fCAnJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQXJyYXkuZnJvbShlbGVtZW50cykuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuYXVnbWVudEFuaW1hdGlvbihhbmltYXRpb24sIGVsZW1lbnQpO1xuXG4gICAgICBjb25zdCBkZWZhdWx0U3RhdGUgPSBhbmltYXRpb24uc3RlcHNbMF0uc3R5bGVzO1xuICAgICAgY29uc3QgaG92ZXJTdGF0ZSA9IGFuaW1hdGlvbi5zdGVwc1sxXS5zdHlsZXM7XG4gICAgICBmdW5jdGlvbiBhdHRhY2hEZWZhdWx0U3RhdGUoKSB7XG4gICAgICAgIGFzc2lnbihlbGVtZW50IS5zdHlsZSwgZGVmYXVsdFN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGF0dGFjaEhvdmVyU3RhdGUoKSB7XG4gICAgICAgIGFzc2lnbihlbGVtZW50IS5zdHlsZSwgaG92ZXJTdGF0ZSk7XG4gICAgICB9XG4gICAgICBhdHRhY2hEZWZhdWx0U3RhdGUoKTtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGF0dGFjaEhvdmVyU3RhdGUpO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgYXR0YWNoRGVmYXVsdFN0YXRlKTtcbiAgICAgIC8vIFRPRE86IHF1ZXVlL2JhdGNoIHRoZXNlIHRpbWVvdXRzXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAke2FuaW1hdGlvbi5kdXJhdGlvbn1zICR7Y2FtZWxDYXNlVG9LZWJhYkNhc2UoXG4gICAgICAgICAgYW5pbWF0aW9uLmVhc2luZ1xuICAgICAgICApfWA7XG4gICAgICAgIGlmIChhbmltYXRpb24uZGVsYXkpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9IGFuaW1hdGlvbi5kZWxheSArICdzJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBUT0RPOiB1bmJpbmQgb24gZWxlbWVudCByZW1vdmVcbiAgYmluZFNjcm9sbEluVmlld0FuaW1hdGlvbihhbmltYXRpb246IEFuaW1hdGlvbikge1xuICAgIC8vIFRPRE86IGFwcGx5IHRvIEFMTCBtYXRjaGluZyBlbGVtZW50c1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGFuaW1hdGlvbi5lbGVtZW50SWQgfHwgYW5pbWF0aW9uLmlkIHx8ICcnKVxuICAgICkgYXMgSFRNTEVsZW1lbnRbXTtcbiAgICBpZiAoIWVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgdGhpcy53YXJuRWxlbWVudE5vdFByZXNlbnQoYW5pbWF0aW9uLmVsZW1lbnRJZCB8fCBhbmltYXRpb24uaWQgfHwgJycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRPRE86IGlmIHNlcnZlciBzaWRlIHJlbmRlcmVkIGFuZCBzY3JvbGxlZCBpbnRvIHZpZXcgZG9uJ3QgYW5pbWF0ZS4uLlxuICAgIEFycmF5LmZyb20oZWxlbWVudHMpLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmF1Z21lbnRBbmltYXRpb24oYW5pbWF0aW9uLCBlbGVtZW50KTtcblxuICAgICAgbGV0IHRyaWdnZXJlZCA9IGZhbHNlO1xuICAgICAgbGV0IHBlbmRpbmdBbmltYXRpb24gPSBmYWxzZTtcbiAgICAgIGZ1bmN0aW9uIGltbWVkaWF0ZU9uU2Nyb2xsKCkge1xuICAgICAgICBpZiAoIXRyaWdnZXJlZCAmJiBpc1Njcm9sbGVkSW50b1ZpZXcoZWxlbWVudCkpIHtcbiAgICAgICAgICB0cmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICAgIHBlbmRpbmdBbmltYXRpb24gPSB0cnVlO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgYXNzaWduKGVsZW1lbnQhLnN0eWxlLCBhbmltYXRpb24uc3RlcHNbMV0uc3R5bGVzKTtcbiAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLnJlcGVhdCkge1xuICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0FuaW1hdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLnJlcGVhdCkge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gJyc7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgKGFuaW1hdGlvbi5kdXJhdGlvbiArIChhbmltYXRpb24uZGVsYXkgfHwgMCkpICogMTAwMCArIDEwMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBhbmltYXRpb24ucmVwZWF0ICYmXG4gICAgICAgICAgdHJpZ2dlcmVkICYmXG4gICAgICAgICAgIXBlbmRpbmdBbmltYXRpb24gJiZcbiAgICAgICAgICAhaXNTY3JvbGxlZEludG9WaWV3KGVsZW1lbnQpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIHdlIHdhbnQgdG8gcmVwZWF0IHRoZSBhbmltYXRpb24gZXZlcnkgdGltZSB0aGUgdGhlIGVsZW1lbnQgaXMgb3V0IG9mIHZpZXcgYW5kIGJhY2sgYWdhaW5cbiAgICAgICAgICB0cmlnZ2VyZWQgPSBmYWxzZTtcbiAgICAgICAgICBhc3NpZ24oZWxlbWVudCEuc3R5bGUsIGFuaW1hdGlvbi5zdGVwc1swXS5zdHlsZXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IHJvbGwgYWxsIG9mIHRoZXNlIGluIG9uZSBmb3IgbW9yZSBlZmZpY2llbmN5IG9mIGNoZWNraW5nIGFsbCB0aGUgcmVjdHNcbiAgICAgIGNvbnN0IG9uU2Nyb2xsID0gdGhyb3R0bGUoaW1tZWRpYXRlT25TY3JvbGwsIDIwMCwgeyBsZWFkaW5nOiBmYWxzZSB9KTtcblxuICAgICAgLy8gVE9ETzogZnVsbHkgaW4gdmlldyBvciBwYXJ0aWFsbHlcbiAgICAgIGZ1bmN0aW9uIGlzU2Nyb2xsZWRJbnRvVmlldyhlbGVtOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgdGhyZXNob2xkUGVyY2VudCA9IChhbmltYXRpb24udGhyZXNob2xkUGVyY2VudCB8fCAwKSAvIDEwMDtcbiAgICAgICAgY29uc3QgdGhyZXNob2xkID0gdGhyZXNob2xkUGVyY2VudCAqIHdpbmRvd0hlaWdodDtcblxuICAgICAgICAvLyBUT0RPOiBwYXJ0aWFsIGluIHZpZXc/IG9yIHdoYXQgaWYgZWxlbWVudCBpcyBsYXJnZXIgdGhhbiBzY3JlZW4gaXRzZWxmXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgcmVjdC5ib3R0b20gPiB0aHJlc2hvbGQgJiYgcmVjdC50b3AgPCB3aW5kb3dIZWlnaHQgLSB0aHJlc2hvbGQgLy8gRWxlbWVudCBpcyBwZWVraW5nIHRvcCBvciBib3R0b21cbiAgICAgICAgICAvLyAocmVjdC50b3AgPiAwICYmIHJlY3QuYm90dG9tIDwgd2luZG93LmlubmVySGVpZ2h0KSB8fCAvLyBlbGVtZW50IGZpdHMgd2l0aGluIHRoZSBzY3JlZW4gYW5kIGlzIGZ1bGx5IG9uIHNjcmVlbiAobm90IGhhbmdpbmcgb2ZmIGF0IGFsbClcbiAgICAgICAgICAvLyAocmVjdC50b3AgPCAwICYmIHJlY3QuYm90dG9tID4gd2luZG93LmlubmVySGVpZ2h0KSAvLyBlbGVtZW50IGlzIGxhcmdlciB0aGFuIHRoZSBzY3JlZW4gYW5kIGhhbmdzIG92ZXIgdGhlIHRvcCBhbmQgYm90dG9tXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlZmF1bHRTdGF0ZSA9IGFuaW1hdGlvbi5zdGVwc1swXS5zdHlsZXM7XG4gICAgICBmdW5jdGlvbiBhdHRhY2hEZWZhdWx0U3RhdGUoKSB7XG4gICAgICAgIGFzc2lnbihlbGVtZW50IS5zdHlsZSwgZGVmYXVsdFN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGF0dGFjaERlZmF1bHRTdGF0ZSgpO1xuXG4gICAgICAvLyBUT0RPOiBxdWV1ZS9iYXRjaCB0aGVzZSB0aW1lb3V0cyFcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSBgYWxsICR7YW5pbWF0aW9uLmR1cmF0aW9ufXMgJHtjYW1lbENhc2VUb0tlYmFiQ2FzZShcbiAgICAgICAgICBhbmltYXRpb24uZWFzaW5nXG4gICAgICAgICl9YDtcbiAgICAgICAgaWYgKGFuaW1hdGlvbi5kZWxheSkge1xuICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gYW5pbWF0aW9uLmRlbGF5ICsgJ3MnO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gVE9ETzogb25lIGxpc3RlbmVyIGZvciBldmVyeXRoaW5nXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0gYXMgYW55KTtcblxuICAgICAgLy8gRG8gYW4gaW5pdGlhbCBjaGVja1xuICAgICAgaW1tZWRpYXRlT25TY3JvbGwoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggZmllbGQtY29udGVudCBpbiBSRkMgNzIzMCBzZWMgMy4yXG4gKlxuICogZmllbGQtY29udGVudCA9IGZpZWxkLXZjaGFyIFsgMSooIFNQIC8gSFRBQiApIGZpZWxkLXZjaGFyIF1cbiAqIGZpZWxkLXZjaGFyICAgPSBWQ0hBUiAvIG9icy10ZXh0XG4gKiBvYnMtdGV4dCAgICAgID0gJXg4MC1GRlxuICovXG5jb25zdCBmaWVsZENvbnRlbnRSZWdFeHAgPSAvXltcXHUwMDA5XFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHUwMGZmXSskLztcblxuaW1wb3J0IHsgSW5jb21pbmdNZXNzYWdlLCBTZXJ2ZXJSZXNwb25zZSB9IGZyb20gJ2h0dHAnO1xuaW50ZXJmYWNlIE9wdGlvbnMge1xuICBzZWN1cmU/OiBib29sZWFuO1xuICBleHBpcmVzPzogRGF0ZTtcbn1cblxuY2xhc3MgQ29va2llcyB7XG4gIHNlY3VyZT86IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZXF1ZXN0OiBJbmNvbWluZ01lc3NhZ2UsXG4gICAgcHJpdmF0ZSByZXNwb25zZTogU2VydmVyUmVzcG9uc2VcbiAgKSB7fVxuXG4gIGdldChuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBoZWFkZXIgPSB0aGlzLnJlcXVlc3QuaGVhZGVyc1snY29va2llJ10gYXMgc3RyaW5nO1xuICAgIGlmICghaGVhZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWF0Y2ggPSBoZWFkZXIubWF0Y2goZ2V0UGF0dGVybihuYW1lKSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlID0gbWF0Y2hbMV07XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgc2V0KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgb3B0czogT3B0aW9ucykge1xuICAgIGNvbnN0IHJlcyA9IHRoaXMucmVzcG9uc2U7XG4gICAgY29uc3QgcmVxID0gdGhpcy5yZXF1ZXN0O1xuICAgIGxldCBoZWFkZXJzID0gcmVzLmdldEhlYWRlcignU2V0LUNvb2tpZScpIHx8IFtdO1xuICAgIC8vIFRPRE86IGp1c3QgbWFrZSB0aGlzIGFsd2F5cyB0cnVlXG4gICAgY29uc3Qgc2VjdXJlID1cbiAgICAgIHRoaXMuc2VjdXJlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyAhIXRoaXMuc2VjdXJlXG4gICAgICAgIDogKHJlcSBhcyBhbnkpLnByb3RvY29sID09PSAnaHR0cHMnIHx8IChyZXEuY29ubmVjdGlvbiBhcyBhbnkpLmVuY3J5cHRlZDtcbiAgICBjb25zdCBjb29raWUgPSBuZXcgQ29va2llKG5hbWUsIHZhbHVlLCBvcHRzKTtcblxuICAgIGlmICh0eXBlb2YgaGVhZGVycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGhlYWRlcnMgPSBbaGVhZGVyc107XG4gICAgfVxuXG4gICAgaWYgKCFzZWN1cmUgJiYgb3B0cyAmJiBvcHRzLnNlY3VyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2VuZCBzZWN1cmUgY29va2llIG92ZXIgdW5lbmNyeXB0ZWQgY29ubmVjdGlvbicpO1xuICAgIH1cblxuICAgIGNvb2tpZS5zZWN1cmUgPSBzZWN1cmU7XG4gICAgaWYgKG9wdHMgJiYgJ3NlY3VyZScgaW4gb3B0cykge1xuICAgICAgY29va2llLnNlY3VyZSA9ICEhb3B0cy5zZWN1cmU7XG4gICAgfVxuXG4gICAgcHVzaENvb2tpZShoZWFkZXJzLCBjb29raWUpO1xuXG4gICAgY29uc3Qgc2V0SGVhZGVyID0gcmVzLnNldEhlYWRlcjtcbiAgICBzZXRIZWFkZXIuY2FsbChyZXMsICdTZXQtQ29va2llJywgaGVhZGVycyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuY2xhc3MgQ29va2llIHtcbiAgcGF0aCA9ICcvJztcbiAgZXhwaXJlcz86IERhdGU7XG4gIGRvbWFpbjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBodHRwT25seSA9IHRydWU7XG4gIHNhbWVTaXRlPzogYm9vbGVhbiB8IHN0cmluZyA9IGZhbHNlO1xuICBzZWN1cmUgPSBmYWxzZTtcbiAgb3ZlcndyaXRlID0gZmFsc2U7XG4gIG5hbWUgPSAnJztcbiAgdmFsdWUgPSAnJztcbiAgbWF4QWdlPzogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgYXR0cnM6IE9wdGlvbnMpIHtcbiAgICBpZiAoIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBuYW1lIGlzIGludmFsaWQnKTtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgJiYgIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgdmFsdWUgaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHRoaXMuZXhwaXJlcyA9IG5ldyBEYXRlKDApO1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlIHx8ICcnO1xuXG4gICAgaWYgKGF0dHJzLmV4cGlyZXMpIHtcbiAgICAgIHRoaXMuZXhwaXJlcyA9IGF0dHJzLmV4cGlyZXM7XG4gICAgfVxuICAgIGlmIChhdHRycy5zZWN1cmUpIHtcbiAgICAgIHRoaXMuc2VjdXJlID0gYXR0cnMuc2VjdXJlO1xuICAgIH1cbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgJHt0aGlzLm5hbWV9PSR7dGhpcy52YWx1ZX1gO1xuICB9XG5cbiAgdG9IZWFkZXIoKSB7XG4gICAgbGV0IGhlYWRlciA9IHRoaXMudG9TdHJpbmcoKTtcblxuICAgIGlmICh0aGlzLm1heEFnZSkge1xuICAgICAgdGhpcy5leHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIHRoaXMubWF4QWdlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucGF0aCkge1xuICAgICAgaGVhZGVyICs9IGA7IHBhdGg9JHt0aGlzLnBhdGh9YDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZXhwaXJlcykge1xuICAgICAgaGVhZGVyICs9IGA7IGV4cGlyZXM9JHt0aGlzLmV4cGlyZXMudG9VVENTdHJpbmcoKX1gO1xuICAgIH1cbiAgICBpZiAodGhpcy5kb21haW4pIHtcbiAgICAgIGhlYWRlciArPSBgOyBkb21haW49JHt0aGlzLmRvbWFpbn1gO1xuICAgIH1cblxuICAgIC8vIFRPRE86IHNhbWVzaXRlPW5vbmUgYnkgZGVmYXVsdCAoPylcbiAgICBoZWFkZXIgKz0gYDsgU2FtZVNpdGU9JHt0aGlzLnNhbWVTaXRlID09PSB0cnVlID8gJ3N0cmljdCcgOiAnTm9uZSd9YDtcblxuICAgIC8vIFRPRE86IE9uIGJ5IGRlZmF1bHRcbiAgICBpZiAodGhpcy5zZWN1cmUpIHtcbiAgICAgIGhlYWRlciArPSAnOyBzZWN1cmUnO1xuICAgIH1cbiAgICBpZiAodGhpcy5odHRwT25seSkge1xuICAgICAgaGVhZGVyICs9ICc7IGh0dHBvbmx5JztcbiAgICB9XG5cbiAgICByZXR1cm4gaGVhZGVyO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdHRlcm4obmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKGAoPzpefDspICoke25hbWUucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKX09KFteO10qKWApO1xufVxuXG5mdW5jdGlvbiBwdXNoQ29va2llKGhlYWRlcnM6IGFueSwgY29va2llOiBDb29raWUpIHtcbiAgaWYgKGNvb2tpZS5vdmVyd3JpdGUpIHtcbiAgICBmb3IgKGxldCBpID0gaGVhZGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKGhlYWRlcnNbaV0uaW5kZXhPZihgJHtjb29raWUubmFtZX09YCkgPT09IDApIHtcbiAgICAgICAgaGVhZGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGVhZGVycy5wdXNoKGNvb2tpZS50b0hlYWRlcigpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29va2llcztcbiIsImV4cG9ydCBmdW5jdGlvbiBvbWl0PFQgZXh0ZW5kcyBvYmplY3Q+KG9iajogVCwgLi4udmFsdWVzOiAoa2V5b2YgVClbXSk6IFBhcnRpYWw8VD4ge1xuICBjb25zdCBuZXdPYmplY3QgPSBPYmplY3QuYXNzaWduKHt9LCBvYmopO1xuICBmb3IgKGNvbnN0IGtleSBvZiB2YWx1ZXMpIHtcbiAgICBkZWxldGUgKG5ld09iamVjdCBhcyBhbnkpW2tleV07XG4gIH1cbiAgcmV0dXJuIG5ld09iamVjdDtcbn1cbiIsIi8qKlxuICogQGNyZWRpdCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXVpZHY0KCkge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHZhciByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuICAgICAgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNsaWdodGx5IGNsZWFuZXIgYW5kIHNtYWxsZXIgVVVJRHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWQoKSB7XG4gIHJldHVybiB1dWlkdjQoKS5yZXBsYWNlKC8tL2csICcnKTtcbn1cbiIsImltcG9ydCB7IFVybFdpdGhTdHJpbmdRdWVyeSB9IGZyb20gJ3VybCc7XG5cbnR5cGUgRml4PFQ+ID0geyBbUCBpbiBrZXlvZiBUXTogVFtQXSB8IG51bGwgfTtcblxuLy8gSXQgc2VlbXMgdGhhdCB0aGUgdHlwZXMgZm9yIFVybFdpdGhTdHJpbmdRdWVyeSBhcmUgbm90IGNvcnJlY3QuXG5leHBvcnQgdHlwZSBVcmxMaWtlID0gRml4PFVybFdpdGhTdHJpbmdRdWVyeT47XG5cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eVVybCgpOiBVcmxMaWtlIHtcbiAgcmV0dXJuIHtcbiAgICBxdWVyeTogbnVsbCxcbiAgICBwb3J0OiBudWxsLFxuICAgIGF1dGg6IG51bGwsXG4gICAgaGFzaDogbnVsbCxcbiAgICBob3N0OiBudWxsLFxuICAgIGhvc3RuYW1lOiBudWxsLFxuICAgIGhyZWY6IG51bGwsXG4gICAgcGF0aDogbnVsbCxcbiAgICBwYXRobmFtZTogbnVsbCxcbiAgICBwcm90b2NvbDogbnVsbCxcbiAgICBzZWFyY2g6IG51bGwsXG4gICAgc2xhc2hlczogbnVsbCxcbiAgfTtcbn1cblxuLy8gUmVwbGFjZW1lbnQgZm9yIGB1cmwucGFyc2VgIHVzaW5nIGBVUkxgIGdsb2JhbCBvYmplY3QgdGhhdCB3b3JrcyB3aXRoIHJlbGF0aXZlIHBhdGhzLlxuLy8gQXNzdW1wdGlvbnM6IHRoaXMgZnVuY3Rpb24gb3BlcmF0ZXMgaW4gYSBOb2RlSlMgZW52aXJvbm1lbnQuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UodXJsOiBzdHJpbmcpOiBVcmxMaWtlIHtcbiAgY29uc3Qgb3V0OiBVcmxMaWtlID0gZW1wdHlVcmwoKTtcblxuICBsZXQgdTtcbiAgY29uc3QgcGF0aE9ubHkgPSB1cmwgPT09ICcnIHx8IHVybFswXSA9PT0gJy8nO1xuXG4gIGlmIChwYXRoT25seSkge1xuICAgIHUgPSBuZXcgVVJMKHVybCwgJ2h0dHA6Ly8wLjAuMC4wLycpO1xuICAgIG91dC5ocmVmID0gdS5ocmVmO1xuICAgIG91dC5ocmVmID0gb3V0LmhyZWY/LnNsaWNlKDE0KTsgLy8gcmVtb3ZlICdodHRwOi8vMC4wLjAuMC8nXG4gIH0gZWxzZSB7XG4gICAgdSA9IG5ldyBVUkwodXJsKTtcbiAgICBvdXQuaHJlZiA9IHUuaHJlZjtcbiAgICBvdXQucG9ydCA9IHUucG9ydCA9PT0gJycgPyBudWxsIDogdS5wb3J0O1xuICAgIG91dC5oYXNoID0gdS5oYXNoID09PSAnJyA/IG51bGwgOiB1Lmhhc2g7XG4gICAgb3V0Lmhvc3QgPSB1Lmhvc3Q7XG4gICAgb3V0Lmhvc3RuYW1lID0gdS5ob3N0bmFtZTtcbiAgICBvdXQuaHJlZiA9IHUuaHJlZjtcbiAgICBvdXQucGF0aG5hbWUgPSB1LnBhdGhuYW1lO1xuICAgIG91dC5wcm90b2NvbCA9IHUucHJvdG9jb2w7XG4gICAgb3V0LnNsYXNoZXMgPSB1cmxbdS5wcm90b2NvbC5sZW5ndGhdID09PSAnLyc7IC8vIGNoZWNrIGlmIHRoZSBtaW1ldHlwZSBpcyBwcm9jZWVkZWQgYnkgYSBzbGFzaFxuICB9XG5cbiAgb3V0LnNlYXJjaCA9IHUuc2VhcmNoO1xuICBvdXQucXVlcnkgPSB1LnNlYXJjaC5zbGljZSgxKTsgLy8gcmVtb3ZlICc/J1xuICBvdXQucGF0aCA9IGAke3UucGF0aG5hbWV9JHt1LnNlYXJjaH1gO1xuICBvdXQucGF0aG5hbWUgPSB1LnBhdGhuYW1lO1xuXG4gIHJldHVybiBvdXQ7XG59XG4iLCIvKipcbiAqIFNhZmUgY29udmVyc2lvbiB0byBlcnJvciB0eXBlLiBJbnRlbmRlZCB0byBiZSB1c2VkIGluIGNhdGNoIGJsb2NrcyB3aGVyZSB0aGVcbiAqICB2YWx1ZSBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBhbiBlcnJvci5cbiAqXG4gKiAgQGV4YW1wbGVcbiAqICB0cnkge1xuICogICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpXG4gKiAgfVxuICogIGNhdGNoIChlcnI6IHVua25vd24pIHtcbiAqICAgIGNvbnN0IGVycm9yOiBFcnJvciA9IHRvRXJyb3IoZXJyKVxuICogIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRXJyb3IoZXJyOiB1bmtub3duKTogRXJyb3Ige1xuICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBlcnI7XG4gIHJldHVybiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xufVxuIiwiZXhwb3J0IHR5cGUgQXBpVmVyc2lvbiA9ICd2MScgfCAndjMnO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVBJX1ZFUlNJT046IEFwaVZlcnNpb24gPSAndjMnO1xuIiwiZXhwb3J0IGNvbnN0IFNES19WRVJTSU9OID0gJzYuMi4wJztcbiIsImltcG9ydCAnLi9wb2x5ZmlsbHMvY3VzdG9tLWV2ZW50LXBvbHlmaWxsJztcbmltcG9ydCB7IEluY29taW5nTWVzc2FnZSwgU2VydmVyUmVzcG9uc2UgfSBmcm9tICdodHRwJztcbmltcG9ydCB7IG5leHRUaWNrIH0gZnJvbSAnLi9mdW5jdGlvbnMvbmV4dC10aWNrLmZ1bmN0aW9uJztcbmltcG9ydCB7IFF1ZXJ5U3RyaW5nIH0gZnJvbSAnLi9jbGFzc2VzL3F1ZXJ5LXN0cmluZy5jbGFzcyc7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICcuL2NsYXNzZXMvb2JzZXJ2YWJsZS5jbGFzcyc7XG5pbXBvcnQgeyBnZXRGZXRjaCB9IGZyb20gJy4vZnVuY3Rpb25zL2ZldGNoLmZ1bmN0aW9uJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vZnVuY3Rpb25zL2Fzc2lnbi5mdW5jdGlvbic7XG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4vZnVuY3Rpb25zL3Rocm90dGxlLmZ1bmN0aW9uJztcbmltcG9ydCB7IEFuaW1hdG9yIH0gZnJvbSAnLi9jbGFzc2VzL2FuaW1hdG9yLmNsYXNzJztcbmltcG9ydCB7IEJ1aWxkZXJFbGVtZW50IH0gZnJvbSAnLi90eXBlcy9lbGVtZW50JztcbmltcG9ydCBDb29raWVzIGZyb20gJy4vY2xhc3Nlcy9jb29raWVzLmNsYXNzJztcbmltcG9ydCB7IG9taXQgfSBmcm9tICcuL2Z1bmN0aW9ucy9vbWl0LmZ1bmN0aW9uJztcbmltcG9ydCB7IEJ1aWxkZXJDb250ZW50IH0gZnJvbSAnLi90eXBlcy9jb250ZW50JztcbmltcG9ydCB7IHV1aWQgfSBmcm9tICcuL2Z1bmN0aW9ucy91dWlkJztcbmltcG9ydCB7IHBhcnNlIGFzIHVybFBhcnNlIH0gZnJvbSAnLi91cmwnO1xuXG4vLyBEbyBub3QgY2hhbmdlIHRoaXMgdG8gYSByZXF1aXJlISBJdCB0aHJvd3MgcnVudGltZSBlcnJvcnMgLSByb2xsdXBcbi8vIHdpbGwgcHJlc2VydmUgdGhlIGByZXF1aXJlYCBhbmQgdGhyb3cgcnVudGltZSBlcnJvcnNcbmltcG9ydCBoYXNoIGZyb20gJ2hhc2gtc3VtJztcbmltcG9ydCB7IHRvRXJyb3IgfSBmcm9tICcuL2Z1bmN0aW9ucy90by1lcnJvcic7XG5pbXBvcnQgeyBlbXB0eVVybCwgVXJsTGlrZSB9IGZyb20gJy4vdXJsJztcbmltcG9ydCB7IERFRkFVTFRfQVBJX1ZFUlNJT04sIEFwaVZlcnNpb24gfSBmcm9tICcuL3R5cGVzL2FwaS12ZXJzaW9uJztcbmltcG9ydCB7IFNES19WRVJTSU9OIH0gZnJvbSAnLi9zZGstdmVyc2lvbic7XG5cbmV4cG9ydCB0eXBlIFVybCA9IGFueTtcblxuZnVuY3Rpb24gZGF0ZVBsdXNNaW51dGVzKG1pbnV0ZXMgPSAzMCkge1xuICByZXR1cm4gbmV3IERhdGUoRGF0ZS5ub3coKSArIG1pbnV0ZXMgKiA2MDAwMCk7XG59XG5cbmNvbnN0IGlzUG9zaXRpdmVOdW1iZXIgPSAodGhpbmc6IHVua25vd24pID0+XG4gIHR5cGVvZiB0aGluZyA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHRoaW5nKSAmJiB0aGluZyA+PSAwO1xuXG5leHBvcnQgY29uc3QgaXNSZWFjdE5hdGl2ZSA9IHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnO1xuXG5leHBvcnQgY29uc3QgdmFsaWRFbnZMaXN0ID0gW1xuICAncHJvZHVjdGlvbicsXG4gICdxYScsXG4gICd0ZXN0JyxcbiAgJ2RldmVsb3BtZW50JyxcbiAgJ2RldicsXG4gICdjZG4tcWEnLFxuICAnY2xvdWQnLFxuICAnZmFzdCcsXG4gICdjZG4yJyxcbiAgJ2Nkbi1wcm9kJyxcbl07XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW0odXJsOiBzdHJpbmcsIHZhcmlhYmxlOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgY29uc3QgcXVlcnkgPSB1cmwuc3BsaXQoJz8nKVsxXSB8fCAnJztcbiAgY29uc3QgdmFycyA9IHF1ZXJ5LnNwbGl0KCcmJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHBhaXIgPSB2YXJzW2ldLnNwbGl0KCc9Jyk7XG4gICAgaWYgKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKSA9PT0gdmFyaWFibGUpIHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5jb25zdCB1cmxQYXJzZXIgPSB7XG4gIHBhcnNlKHVybDogc3RyaW5nKTogVXJsTGlrZSB7XG4gICAgY29uc3QgZWw6IEhUTUxBbmNob3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpIGFzIGFueTtcbiAgICBlbC5ocmVmID0gdXJsO1xuICAgIGNvbnN0IG91dDogYW55ID0ge307XG5cbiAgICBjb25zdCBwcm9wcyA9IFtcbiAgICAgICd1c2VybmFtZScsXG4gICAgICAncGFzc3dvcmQnLFxuICAgICAgJ2hvc3QnLFxuICAgICAgJ2hvc3RuYW1lJyxcbiAgICAgICdwb3J0JyxcbiAgICAgICdwcm90b2NvbCcsXG4gICAgICAnb3JpZ2luJyxcbiAgICAgICdwYXRobmFtZScsXG4gICAgICAnc2VhcmNoJyxcbiAgICAgICdoYXNoJyxcbiAgICBdIGFzIGNvbnN0O1xuXG4gICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BzKSB7XG4gICAgICBvdXRbcHJvcF0gPSBlbFtwcm9wXTtcbiAgICB9XG5cbiAgICAvLyBJRSAxMSBwYXRobmFtZSBoYW5kbGluZyB3b3JrYXJvdW5kXG4gICAgLy8gKElFIG9taXRzIHByZWNlZWRpbmcgJy8nLCB1bmxpa2Ugb3RoZXIgYnJvd3NlcnMpXG4gICAgaWYgKFxuICAgICAgKG91dC5wYXRobmFtZSB8fCBvdXQucGF0aG5hbWUgPT09ICcnKSAmJlxuICAgICAgdHlwZW9mIG91dC5wYXRobmFtZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgIG91dC5wYXRobmFtZS5pbmRleE9mKCcvJykgIT09IDBcbiAgICApIHtcbiAgICAgIG91dC5wYXRobmFtZSA9ICcvJyArIG91dC5wYXRobmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xuICB9LFxufTtcblxuY29uc3QgcGFyc2U6ICh1cmw6IHN0cmluZykgPT4gVXJsTGlrZSA9IGlzUmVhY3ROYXRpdmVcbiAgPyAoKSA9PiBlbXB0eVVybCgpXG4gIDogdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCdcbiAgICA/IHVybFBhcnNlci5wYXJzZVxuICAgIDogdXJsUGFyc2U7XG5cbmZ1bmN0aW9uIHNldENvb2tpZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXM/OiBEYXRlKSB7XG4gIHRyeSB7XG4gICAgbGV0IGV4cGlyZXNTdHJpbmcgPSAnJztcblxuICAgIC8vIFRPRE86IG5lZWQgdG8ga25vdyBpZiBzZWN1cmUgc2VydmVyIHNpZGVcbiAgICBpZiAoZXhwaXJlcykge1xuICAgICAgZXhwaXJlc1N0cmluZyA9ICc7IGV4cGlyZXM9JyArIGV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWN1cmUgPSBpc0Jyb3dzZXIgPyBsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgOiB0cnVlO1xuICAgIGRvY3VtZW50LmNvb2tpZSA9XG4gICAgICBuYW1lICtcbiAgICAgICc9JyArXG4gICAgICAodmFsdWUgfHwgJycpICtcbiAgICAgIGV4cGlyZXNTdHJpbmcgK1xuICAgICAgJzsgcGF0aD0vJyArXG4gICAgICAoc2VjdXJlID8gJzsgc2VjdXJlOyBTYW1lU2l0ZT1Ob25lJyA6ICcnKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKCdDb3VsZCBub3Qgc2V0IGNvb2tpZScsIGVycik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29va2llKG5hbWU6IHN0cmluZykge1xuICB0cnkge1xuICAgIHJldHVybiAoXG4gICAgICBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlKFxuICAgICAgICAgIG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnKD86KD86XnwuKjspXFxcXHMqJyArXG4gICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChuYW1lKS5yZXBsYWNlKC9bXFwtXFwuXFwrXFwqXS9nLCAnXFxcXCQmJykgK1xuICAgICAgICAgICAgICAnXFxcXHMqXFxcXD1cXFxccyooW147XSopLiokKXxeLiokJ1xuICAgICAgICAgICksXG4gICAgICAgICAgJyQxJ1xuICAgICAgICApXG4gICAgICApIHx8IG51bGxcbiAgICApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBnZXQgY29va2llJywgZXJyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaXplKG9iamVjdDogb2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gZmluZDxUID0gYW55Pih0YXJnZXQ6IFRbXSwgY2FsbGJhY2s6IChpdGVtOiBULCBpbmRleDogbnVtYmVyLCBsaXN0OiBUW10pID0+IGJvb2xlYW4pIHtcbiAgY29uc3QgbGlzdCA9IHRhcmdldDtcbiAgLy8gTWFrZXMgc3VyZXMgaXMgYWx3YXlzIGhhcyBhbiBwb3NpdGl2ZSBpbnRlZ2VyIGFzIGxlbmd0aC5cbiAgY29uc3QgbGVuZ3RoID0gbGlzdC5sZW5ndGggPj4+IDA7XG4gIGNvbnN0IHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbGVtZW50ID0gbGlzdFtpXTtcbiAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBlbGVtZW50LCBpLCBsaXN0KSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IHNlc3Npb25TdG9yYWdlS2V5ID0gJ2J1aWxkZXJTZXNzaW9uSWQnO1xuY29uc3QgbG9jYWxTdG9yYWdlS2V5ID0gJ2J1aWxkZXJWaXNpdG9ySWQnO1xuXG5leHBvcnQgY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgIWlzUmVhY3ROYXRpdmU7XG5leHBvcnQgY29uc3QgaXNJZnJhbWUgPSBpc0Jyb3dzZXIgJiYgd2luZG93LnRvcCAhPT0gd2luZG93LnNlbGY7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyYW1zTWFwIHtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG50eXBlIFRyYWNraW5nSG9vayA9IChcbiAgZXZlbnREYXRhOiBFdmVudCxcbiAgY29udGV4dDogeyBjb250ZW50PzogQnVpbGRlckNvbnRlbnQ7IFtrZXk6IHN0cmluZ106IGFueSB9XG4pID0+IEV2ZW50IHwgdW5kZWZpbmVkO1xuXG5pbnRlcmZhY2UgRXZlbnREYXRhIHtcbiAgY29udGVudElkPzogc3RyaW5nO1xuICBvd25lcklkOiBzdHJpbmc7XG4gIHZhcmlhdGlvbklkPzogc3RyaW5nO1xuICB1c2VyQXR0cmlidXRlcz86IGFueTtcbiAgdGFyZ2V0U2VsZWN0b3I/OiBzdHJpbmc7XG4gIHRhcmdldEJ1aWxkZXJFbGVtZW50Pzogc3RyaW5nO1xuICB1bmlxdWU/OiBib29sZWFuO1xuICBtZXRhZGF0YT86IGFueSB8IHN0cmluZztcbiAgbWV0YT86IGFueSB8IHN0cmluZztcbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xuICB2aXNpdG9ySWQ/OiBzdHJpbmc7XG4gIGFtb3VudD86IG51bWJlcjtcbn1cbi8vIFRPRE86IHNoYXJlIGludGVyZmFjZXMgd2l0aCBBUElcbmludGVyZmFjZSBFdmVudCB7XG4gIHR5cGU6IHN0cmluZztcbiAgZGF0YTogRXZlbnREYXRhO1xufVxuXG4vKipcbiAqIEF0dHJpYnV0ZXMgdGhhdCBjYW4gYmUgdXNlZCBmb3IgY3VzdG9tIHRhcmdldGluZy4ge0BsaW5rXG4gKiBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9ndWlkZXMvdGFyZ2V0aW5nLWFuZC1zY2hlZHVsaW5nfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJBdHRyaWJ1dGVzIHtcbiAgW2tleTogc3RyaW5nXTpcbiAgICB8IHVuZGVmaW5lZFxuICAgIHwgc3RyaW5nXG4gICAgfCBzdHJpbmdbXVxuICAgIHwgYm9vbGVhblxuICAgIHwgYm9vbGVhbltdXG4gICAgfCBudW1iZXJcbiAgICB8IG51bWJlcltdXG4gICAgfCBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAvKipcbiAgICogVVJMIHBhdGggb2YgdGhlIGN1cnJlbnQgdXNlci5cbiAgICovXG4gIHVybFBhdGg/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBxdWVyeVN0cmluZz86IHN0cmluZyB8IFBhcmFtc01hcDtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIGRldmljZT86ICdtb2JpbGUnIHwgJ3RhYmxldCcgfCAnZGVza3RvcCc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBsb2NhdGlvbj86IGFueTtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIHVzZXJBZ2VudD86IHN0cmluZztcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIHJlZmVycmVyPzogc3RyaW5nO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQGhpZGRlblxuICAgKi9cbiAgZW50cnlNZWRpdW0/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBsYW5ndWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIGJyb3dzZXI/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBjb29raWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBuZXdWaXNpdG9yPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIG9wZXJhdGluZ1N5c3RlbT86IHN0cmluZztcbn1cblxudHlwZSBBbGxvd0VucmljaCA9XG4gIHwgeyBhcGlWZXJzaW9uPzogRXh0cmFjdDxBcGlWZXJzaW9uLCAndjEnPiB9XG4gIHwgeyBhcGlWZXJzaW9uPzogRXh0cmFjdDxBcGlWZXJzaW9uLCAndjMnPjsgZW5yaWNoPzogYm9vbGVhbiB9XG4gIHwgeyBhcGlWZXJzaW9uPzogbmV2ZXI7IGVucmljaD86IGJvb2xlYW4gfTtcblxuZXhwb3J0IHR5cGUgR2V0Q29udGVudE9wdGlvbnMgPSBBbGxvd0VucmljaCAmIHtcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGZldGNoIG9wdGlvbnMgdG8gYmUgcGFzc2VkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gdGhlIGBmZXRjaGAgZnVuY3Rpb24uXG4gICAqL1xuICBmZXRjaE9wdGlvbnM/OiBvYmplY3Q7XG5cbiAgLyoqXG4gICAqIFVzZXIgYXR0cmlidXRlIGtleSB2YWx1ZSBwYWlycyB0byBiZSB1c2VkIGZvciB0YXJnZXRpbmdcbiAgICogaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3MvY3VzdG9tLXRhcmdldGluZy1hdHRyaWJ1dGVzXG4gICAqXG4gICAqIGUuZy5cbiAgICogYGBganNcbiAgICogdXNlckF0dHJpYnV0ZXM6IHtcbiAgICogICB1cmxQYXRoOiAnLycsXG4gICAqICAgcmV0dXJuVmlzaXRvcjogdHJ1ZSxcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIHVzZXJBdHRyaWJ1dGVzPzogVXNlckF0dHJpYnV0ZXM7XG4gIC8qKlxuICAgKiBBbGlhcyBmb3IgdXNlckF0dHJpYnV0ZXMudXJsUGF0aCBleGNlcHQgaXQgY2FuIGhhbmRsZSBhIGZ1bGwgVVJMIChvcHRpb25hbGx5IHdpdGggaG9zdCxcbiAgICogcHJvdG9jb2wsIHF1ZXJ5LCBldGMpIGFuZCB3ZSB3aWxsIHBhcnNlIG91dCB0aGUgcGF0aC5cbiAgICovXG4gIHVybD86IHN0cmluZztcbiAgLyoqXG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBpbmNsdWRlVXJsPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEluY2x1ZGUgY29udGVudCBvZiByZWZlcmVuY2VzIGluIHRoZSByZXNwb25zZS5cbiAgICogSWYgeW91IHVzZSB0aGUgYHJlZmVyZW5jZWAgZmllbGQgdG8gcHVsbCBpbiBvdGhlciBjb250ZW50IHdpdGhvdXQgdGhpc1xuICAgKiBlbmFibGVkIHdlIHdpbGwgbm90IGZldGNoIHRoYXQgY29udGVudCBmb3IgdGhlIGZpbmFsIHJlc3BvbnNlLlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGVucmljaGAgaW5zdGVhZFxuICAgKi9cbiAgaW5jbHVkZVJlZnM/OiBib29sZWFuO1xuICAvKipcbiAgICogU2Vjb25kcyB0byBjYWNoZSBjb250ZW50LiBTZXRzIHRoZSBtYXgtYWdlIG9mIHRoZSBjYWNoZS1jb250cm9sIGhlYWRlclxuICAgKiByZXNwb25zZSBoZWFkZXIuXG4gICAqXG4gICAqIFVzZSBhIGhpZ2hlciB2YWx1ZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLCBsb3dlciBmb3IgY29udGVudCB0aGF0IHdpbGwgY2hhbmdlIG1vcmUgZnJlcXVlbnRseVxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9xdWVyeS1hcGkjX19uZXh0On46dGV4dD0lMjZpbmNsdWRlUmVmcyUzRHRydWUtLGNhY2hlU2Vjb25kcywtTm99XG4gICAqL1xuICBjYWNoZVNlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBCdWlsZGVyLmlvIHVzZXMgc3RhbGUtd2hpbGUtcmV2YWxpZGF0ZSBjYWNoaW5nIGF0IHRoZSBDRE4gbGV2ZWwuIFRoaXMgbWVhbnMgd2UgYWx3YXlzIHNlcnZlXG4gICAqIGZyb20gZWRnZSBjYWNoZSBhbmQgdXBkYXRlIGNhY2hlcyBpbiB0aGUgYmFja2dyb3VuZCBmb3IgbWF4aW11bSBwb3NzaWJsZSBwZXJmb3JtYW5jZS4gVGhpcyBhbHNvXG4gICAqIG1lYW5zIHRoYXQgdGhlIG1vcmUgZnJlcXVlbnRseSBjb250ZW50IGlzIHJlcXVlc3RlZCwgdGhlIG1vcmUgZnJlc2ggaXQgd2lsbCBiZS4gVGhlIGxvbmdlc3Qgd2VcbiAgICogd2lsbCBldmVyIGhvbGQgc29tZXRoaW5nIGluIHN0YWxlIGNhY2hlIGlzIDEgZGF5IGJ5IGRlZmF1bHQsIGFuZCB5b3UgY2FuIHNldCB0aGlzIHRvIGJlIHNob3J0ZXJcbiAgICogeW91cnNlbGYgYXMgd2VsbC4gV2Ugc3VnZ2VzdCBrZWVwaW5nIHRoaXMgaGlnaCB1bmxlc3MgeW91IGhhdmUgY29udGVudCB0aGF0IG11c3QgY2hhbmdlIHJhcGlkbHlcbiAgICogYW5kIGdldHMgdmVyeSBsaXR0bGUgdHJhZmZpYy5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuZmFzdGx5LmNvbS9ibG9nL3ByZXZlbnQtYXBwbGljYXRpb24tbmV0d29yay1pbnN0YWJpbGl0eS1zZXJ2ZS1zdGFsZS1jb250ZW50fVxuICAgKi9cbiAgc3RhbGVDYWNoZVNlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBNYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gRGVmYXVsdHMgdG8gYDFgLlxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBVc2UgdG8gc3BlY2lmeSBhbiBvZmZzZXQgZm9yIHBhZ2luYXRpb24gb2YgcmVzdWx0cy4gVGhlIGRlZmF1bHQgaXMgMC5cbiAgICovXG4gIG9mZnNldD86IG51bWJlcjtcbiAgLyoqXG4gICAqIE1vbmdvZGIgc3R5bGUgcXVlcnkgb2YgeW91ciBkYXRhLiBFLmcuOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBxdWVyeToge1xuICAgKiAgaWQ6ICdhYmMxMjMnLFxuICAgKiAgZGF0YToge1xuICAgKiAgICBteUN1c3RvbUZpZWxkOiB7ICRndDogMjAgfSxcbiAgICogIH1cbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogU2VlIG1vcmUgaW5mbyBvbiBNb25nb0RCJ3MgcXVlcnkgb3BlcmF0b3JzIGFuZCBmb3JtYXQuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZG9jcy5tb25nb2RiLmNvbS9tYW51YWwvcmVmZXJlbmNlL29wZXJhdG9yL3F1ZXJ5L31cbiAgICovXG4gIHF1ZXJ5PzogYW55O1xuICAvKipcbiAgICogQnVzdCB0aHJvdWdoIGFsbCBjYWNoZXMuIE5vdCByZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbiAoZm9yIHBlcmZvcm1hbmNlKSxcbiAgICogYnV0IGNhbiBiZSB1c2VmdWwgZm9yIGRldmVsb3BtZW50IGFuZCBzdGF0aWMgYnVpbGRzIChzbyB0aGUgc3RhdGljIHNpdGUgaGFzXG4gICAqIGZ1bGx5IGZyZXNoIC8gdXAgdG8gZGF0ZSBjb250ZW50KVxuICAgKi9cbiAgY2FjaGVidXN0PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENvbnZlcnQgYW55IHZpc3VhbCBidWlsZGVyIGNvbnRlbnQgdG8gSFRNTC5cbiAgICpcbiAgICogVGhpcyB3aWxsIGJlIG9uIGRhdGEuaHRtbCBvZiB0aGUgcmVzcG9uc2UncyBjb250ZW50IGVudHJ5IG9iamVjdCBqc29uLlxuICAgKi9cbiAgcHJlcmVuZGVyPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEV4dHJhY3QgYW55IHN0eWxlcyB0byBhIHNlcGFyYXRlIGNzcyBwcm9wZXJ0eSB3aGVuIGdlbmVyYXRpbmcgSFRNTC5cbiAgICovXG4gIGV4dHJhY3RDc3M/OiBib29sZWFuO1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogYEJ1aWxkZXJDb250ZW50YCB0byByZW5kZXIgaW5zdGVhZCBvZiBmZXRjaGluZy5cbiAgICovXG4gIGluaXRpYWxDb250ZW50PzogYW55O1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIG1vZGVsIHRvIGZldGNoIGNvbnRlbnQgZm9yLlxuICAgKi9cbiAgbW9kZWw/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBTZXQgdG8gYGZhbHNlYCB0byBub3QgY2FjaGUgcmVzcG9uc2VzIHdoZW4gcnVubmluZyBvbiB0aGUgY2xpZW50LlxuICAgKi9cbiAgY2FjaGU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gdGhlIGN1cnJlbnQgbG9jYWxlIGluIHlvdXIgYXBwbGljYXRpb24gaWYgeW91IHdhbnQgbG9jYWxpemVkIGlucHV0cyB0byBiZSBhdXRvLXJlc29sdmVkLCBzaG91bGQgbWF0Y2ggb25lIG9mIHRoZSBsb2NhbGVzIGtleXMgaW4geW91ciBzcGFjZSBzZXR0aW5nc1xuICAgKiBMZWFybiBtb3JlIGFib3V0IGFkZGluZyBvciByZW1vdmluZyBsb2NhbGVzIFtoZXJlXShodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9hZGQtcmVtb3ZlLWxvY2FsZXMpXG4gICAqL1xuICBsb2NhbGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAcGFja2FnZVxuICAgKlxuICAgKiBJbmRpY2F0ZSB0aGF0IHRoZSBmZXRjaCByZXF1ZXN0IGlzIGZvciBwcmV2aWV3IHB1cnBvc2VzLlxuICAgKi9cbiAgcHJldmlldz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBTcGVjaWZpYyBjb250ZW50IGVudHJ5IElEIHRvIGZldGNoLlxuICAgKi9cbiAgZW50cnk/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAcGFja2FnZVxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBhbGlhcz86IHN0cmluZztcbiAgLyoqXG4gICAqIE9ubHkgaW5jbHVkZSB0aGVzZSBmaWVsZHMuXG4gICAqIE5vdGU6ICdvbWl0JyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgJ2ZpZWxkcydcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIGZpZWxkczogJ2lkLCBuYW1lLCBkYXRhLmN1c3RvbUZpZWxkJ1xuICAgKiBgYGBcbiAgICovXG4gIGZpZWxkcz86IHN0cmluZztcbiAgLyoqXG4gICAqIE9taXQgb25seSB0aGVzZSBmaWVsZHMuXG4gICAqIE5vdGU6ICdvbWl0JyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgJ2ZpZWxkcydcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIG9taXQ6ICdkYXRhLmJpZ0ZpZWxkLGRhdGEuYmxvY2tzJ1xuICAgKiBgYGBcbiAgICovXG4gIG9taXQ/OiBzdHJpbmc7XG4gIGtleT86IHN0cmluZztcbiAgLyoqXG4gICAqIEBwYWNrYWdlXG4gICAqXG4gICAqIEFmZmVjdHMgSFRNTCBnZW5lcmF0aW9uIGZvciBzcGVjaWZpYyB0YXJnZXRzLlxuICAgKi9cbiAgZm9ybWF0PzogJ2FtcCcgfCAnZW1haWwnIHwgJ2h0bWwnIHwgJ3JlYWN0JyB8ICdzb2xpZCc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBub1dyYXA/OiB0cnVlO1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogU3BlY2lmaWMgc3RyaW5nIHRvIHVzZSBmb3IgY2FjaGUgYnVzdGluZy4gZS5nLiBldmVyeSB0aW1lIHdlIGdlbmVyYXRlXG4gICAqIEhUTUwgd2UgZ2VuZXJhdGUgYSByZXYgKGEgcmV2aXNpb24gSUQpIGFuZCB3ZSBzZW5kIHRoYXQgd2l0aCBlYWNoIHJlcXVlc3RcbiAgICogb24gdGhlIGNsaWVudCwgc3VjaCB0aGF0IGlmIHdlIGdlbmVyYXRlIG5ldyBzZXJ2ZXIgSFRNTCB3ZSBnZXQgYSBuZXcgcmV2XG4gICAqIGFuZCB3ZSB1c2UgdGhhdCB0byBidXN0IHRoZSBjYWNoZSBiZWNhdXNlIGV2ZW4gdGhvdWdoIHRoZSBjb250ZW50IElEIG1heVxuICAgKiBiZSB0aGUgc2FtZSwgaXQgY291bGQgYmUgYW4gdXBkYXRlZCB2ZXJzaW9uIG9mIHRoaXMgY29udGVudCB0aGF0IG5lZWRzIHRvXG4gICAqIGJlIGZyZXNoLlxuICAgKi9cbiAgcmV2Pzogc3RyaW5nO1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogVGVsbCB0aGUgQVBJIHRoYXQgd2hlbiBnZW5lcmF0aW5nIEhUTUwgdG8gZ2VuZXJhdGUgaXQgaW4gc3RhdGljIG1vZGUgZm9yXG4gICAqIGEvYiB0ZXN0cyBpbnN0ZWFkIG9mIHRoZSBvbGRlciB3YXkgd2UgZGlkIHRoaXNcbiAgICovXG4gIHN0YXRpYz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIHF1ZXJ5IHBhcmFtcyBvZiB0aGUgQ29udGVudCBBUEkgdG8gc2VuZC5cbiAgICovXG4gIG9wdGlvbnM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogRG9uJ3QgbGlzdGVuIHRvIHVwZGF0ZXMgaW4gdGhlIGVkaXRvciAtIHRoaXMgaXMgdXNlZnVsIGZvciBlbWJlZGRlZFxuICAgKiBzeW1ib2xzIHNvIHRoZXkgZG9uJ3QgYWNjaWRlbnRhbGx5IGxpc3RlbiB0byBtZXNzYWdlcyBhcyB5b3UgYXJlIGVkaXRpbmdcbiAgICogY29udGVudCB0aGlua2luZyB0aGV5IHNob3VsZCB1cGRhdGVzIHdoZW4gdGhleSBhY3R1YWxseSBzaG91bGRuJ3QuXG4gICAqL1xuICBub0VkaXRvclVwZGF0ZXM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBpdCB3aWxsIGxhenkgbG9hZCBzeW1ib2xzL3JlZmVyZW5jZXMuXG4gICAqIElmIHNldCB0byBgZmFsc2VgLCBpdCB3aWxsIHJlbmRlciB0aGUgZW50aXJlIGNvbnRlbnQgdHJlZSBlYWdlcmx5LlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGVucmljaGAgaW5zdGVhZFxuICAgKi9cbiAgbm9UcmF2ZXJzZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFByb3BlcnR5IHRvIG9yZGVyIHJlc3VsdHMgYnkuXG4gICAqIFVzZSAxIGZvciBhc2NlbmRpbmcgYW5kIC0xIGZvciBkZXNjZW5kaW5nLlxuICAgKlxuICAgKiBUaGUga2V5IGlzIHdoYXQgeW91J3JlIHNvcnRpbmcgb24sIHNvIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzb3J0cyBieSBjcmVhdGVkRGF0ZVxuICAgKiBhbmQgYmVjYXVzZSB0aGUgdmFsdWUgaXMgMSwgdGhlIHNvcnQgaXMgYXNjZW5kaW5nLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBcbiAgICogY3JlYXRlZERhdGU6IDFcbiAgICogYGBgXG4gICAqL1xuICBzb3J0PzogeyBba2V5OiBzdHJpbmddOiAxIHwgLTEgfTtcblxuICAvKipcbiAgICogSW5jbHVkZSBjb250ZW50IGVudHJpZXMgaW4gYSByZXNwb25zZSB0aGF0IGFyZSBzdGlsbCBpblxuICAgKiBkcmFmdCBtb2RlIGFuZCB1bi1hcmNoaXZlZC4gRGVmYXVsdCBpcyBmYWxzZS5cbiAgICovXG4gIGluY2x1ZGVVbnB1Ymxpc2hlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgdG8gY29uZmlndXJlIGhvdyBlbnJpY2htZW50IHdvcmtzLlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9jb250ZW50LWFwaSNjb2RlLWVucmljaC1vcHRpb25zLWNvZGV9XG4gICAqL1xuICBlbnJpY2hPcHRpb25zPzoge1xuICAgIC8qKlxuICAgICAqIFRoZSBkZXB0aCBsZXZlbCBmb3IgZW5yaWNoaW5nIHJlZmVyZW5jZXMuIEZvciBleGFtcGxlLCBhbiBlbnJpY2hMZXZlbCBvZiAxXG4gICAgICogd291bGQgcmV0dXJuIG9uZSBhZGRpdGlvbmFsIG5lc3RlZCBtb2RlbCB3aXRoaW4gdGhlIG9yaWdpbmFsIHJlc3BvbnNlLlxuICAgICAqIFRoZSBtYXhpbXVtIGxldmVsIGlzIDQuXG4gICAgICovXG4gICAgZW5yaWNoTGV2ZWw/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBNb2RlbC1zcGVjaWZpYyBlbnJpY2htZW50IG9wdGlvbnMuIEFsbG93cyBzZWxlY3RpdmUgZmllbGQgaW5jbHVzaW9uL2V4Y2x1c2lvblxuICAgICAqIGZvciBlYWNoIHJlZmVyZW5jZWQgbW9kZWwgdHlwZS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGVucmljaE9wdGlvbnM6IHtcbiAgICAgKiAgIG1vZGVsOiB7XG4gICAgICogICAgICdwcm9kdWN0Jzoge1xuICAgICAqICAgICAgIGZpZWxkczogJ2lkLG5hbWUscHJpY2UnLFxuICAgICAqICAgICAgIG9taXQ6ICdkYXRhLmludGVybmFsTm90ZXMnXG4gICAgICogICAgIH0sXG4gICAgICogICAgICdjYXRlZ29yeSc6IHtcbiAgICAgKiAgICAgICBmaWVsZHM6ICdpZCxuYW1lJ1xuICAgICAqICAgICB9XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIG1vZGVsPzoge1xuICAgICAgW21vZGVsTmFtZTogc3RyaW5nXToge1xuICAgICAgICAvKiogQ29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgZmllbGRzIHRvIGluY2x1ZGUgKi9cbiAgICAgICAgZmllbGRzPzogc3RyaW5nO1xuICAgICAgICAvKiogQ29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgZmllbGRzIHRvIG9taXQgKi9cbiAgICAgICAgb21pdD86IHN0cmluZztcbiAgICAgICAgW2tleTogc3RyaW5nXTogYW55O1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgW2tleTogc3RyaW5nXTogYW55O1xuICB9O1xufTtcblxuZXhwb3J0IHR5cGUgQ2xhc3MgPSB7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIG5ldyAoLi4uYXJnczogYW55W10pOiBhbnk7XG59O1xuXG5pbnRlcmZhY2UgTWFwPEssIFY+IHtcbiAgY2xlYXIoKTogdm9pZDtcbiAgZGVsZXRlKGtleTogSyk6IGJvb2xlYW47XG4gIGVudHJpZXMoKTogSXRlcmFibGVJdGVyYXRvcjxbSywgVl0+O1xuICBmb3JFYWNoKGNhbGxiYWNrZm46ICh2YWx1ZTogViwgaW5kZXg6IEssIG1hcDogTWFwPEssIFY+KSA9PiB2b2lkLCB0aGlzQXJnPzogYW55KTogdm9pZDtcbiAgZ2V0KGtleTogSyk6IFY7XG4gIGhhcyhrZXk6IEspOiBib29sZWFuO1xuICBrZXlzKCk6IEl0ZXJhYmxlSXRlcmF0b3I8Sz47XG4gIHNldChrZXk6IEssIHZhbHVlPzogVik6IE1hcDxLLCBWPjtcbiAgc2l6ZTogbnVtYmVyO1xuICB2YWx1ZXMoKTogSXRlcmFibGVJdGVyYXRvcjxWPjtcbiAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmFibGVJdGVyYXRvcjxbSywgVl0+O1xufVxuXG4vKipcbiAqIFRoaXMgaXMgdGhlIGludGVyZmFjZSBmb3IgaW5wdXRzIGluIGBCdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50YFxuICpcbiAqIGBgYGpzXG4gKiBCdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50KE15Q29tcG9uZW50LCB7XG4gKiAgIGlucHV0czogW3sgbmFtZTogJ3RpdGxlJywgdHlwZTogJ3RleHQnIH1dIC8vIDwtIElucHV0W11cbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBMZWFybiBtb3JlIGFib3V0IHJlZ2lzdGVyaW5nIGN1c3RvbSBjb21wb25lbnRzIFtoZXJlXShodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9jdXN0b20tcmVhY3QtY29tcG9uZW50cylcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnB1dCB7XG4gIC8qKiBUaGlzIGlzIHRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQgcHJvcCB0aGlzIGlucHV0IHJlcHJlc2VudHMgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogQSBmcmllbmRsaWVyIG5hbWUgdG8gc2hvdyBpbiB0aGUgVUkgaWYgdGhlIGNvbXBvbmVudCBwcm9wIG5hbWUgaXMgbm90IGlkZWFsIGZvciBlbmQgdXNlcnMgKi9cbiAgZnJpZW5kbHlOYW1lPzogc3RyaW5nO1xuICAvKiogQSBkZXNjcmlwdGlvbiB0byBzaG93IGluIHRoZSBVSSB0byBnaXZlIGd1aWRhbmNlIG9uIGhvdyB0byB1c2UgdGhpcyBpbnB1dCAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgLyoqIEEgZGVmYXVsdCB2YWx1ZSB0byB1c2UgKi9cbiAgZGVmYXVsdFZhbHVlPzogYW55O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgaW5wdXQgdG8gdXNlLCBzdWNoIGFzICd0ZXh0J1xuICAgKlxuICAgKiBTZWUgYWxsIGF2YWlsYWJsZSBpbnB1dHMgW2hlcmVdKGh0dHBzOi8vd3d3LmJ1aWxkZXIuaW8vYy9kb2NzL2N1c3RvbS1jb21wb25lbnRzLWlucHV0LXR5cGVzKVxuICAgKiBhbmQgeW91IGNhbiBjcmVhdGUgeW91ciBvd24gY3VzdG9tIGlucHV0IHR5cGVzIGFuZCBhc3NvY2lhdGVkIGVkaXRvciBVSXMgd2l0aCBbcGx1Z2luc10oaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3MvZXh0ZW5kaW5nL3BsdWdpbnMpXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKiBJcyB0aGlzIGlucHV0IG1hbmRhdG9yeSBvciBub3QgKi9cbiAgcmVxdWlyZWQ/OiBib29sZWFuO1xuICAvKiogQGhpZGRlbiAqL1xuICBhdXRvRm9jdXM/OiBib29sZWFuO1xuICBzdWJGaWVsZHM/OiByZWFkb25seSBJbnB1dFtdO1xuICAvKipcbiAgICogV2hlbiBpbnB1dCBpcyBvZiBgdHlwZWAgYG9iamVjdGAsIHVzZSB0aGlzIGZpZWxkIHRvIGNvbGxhcHNlIG11bHRpcGxlIGlucHV0c1xuICAgKiBpbiB0aGUgVmlzdWFsIEVkaXRvciBieSBkZWZhdWx0IGFuZCBwcmVzZXJ2ZSBzY3JlZW4gc3BhY2UuXG4gICAqL1xuICBmb2xkZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICogV2hlbiBpbnB1dCBpcyBvZiBgdHlwZWAgYG9iamVjdGAsIHByb3ZpZGUgZ3VpZGFuY2UgaW4gdGhlIFZpc3VhbCBFZGl0b3JcbiAgICogb24gaG93IHRvIGVkaXQgdGhpcyBvYmplY3QncyBjb250ZW50cy5cbiAgICovXG4gIGtleXNIZWxwZXJUZXh0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIHRleHQgdG8gcmVuZGVyIGluIHRoZSBVSSB0byBnaXZlIGd1aWRhbmNlIG9uIGhvdyB0byB1c2UgdGhpc1xuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBoZWxwZXJUZXh0OiAnQmUgc3VyZSB0byB1c2UgYSBwcm9wZXIgVVJMLCBzdGFydGluZyB3aXRoIFwiaHR0cHM6Ly9cIidcbiAgICogMTExXG4gICAqL1xuICBoZWxwZXJUZXh0Pzogc3RyaW5nO1xuICAvKiogQGhpZGRlbiAqL1xuICBhbGxvd2VkRmlsZVR5cGVzPzogcmVhZG9ubHkgc3RyaW5nW107XG4gIC8qKiBAaGlkZGVuICovXG4gIGltYWdlSGVpZ2h0PzogbnVtYmVyO1xuICAvKiogQGhpZGRlbiAqL1xuICBiZWhhdmlvcj86IHN0cmluZztcbiAgLyoqIEBoaWRkZW4gKi9cbiAgaW1hZ2VXaWR0aD86IG51bWJlcjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgbWVkaWFIZWlnaHQ/OiBudW1iZXI7XG4gIC8qKiBAaGlkZGVuICovXG4gIG1lZGlhV2lkdGg/OiBudW1iZXI7XG4gIC8qKiBAaGlkZGVuICovXG4gIGhpZGVGcm9tVUk/OiBib29sZWFuO1xuICAvKiogQGhpZGRlbiAqL1xuICBtb2RlbElkPzogc3RyaW5nO1xuICAvKipcbiAgICogTnVtYmVyIGZpZWxkIHR5cGUgdmFsaWRhdGlvbiBtYXhpbXVtIGFjY2VwdGVkIGlucHV0XG4gICAqL1xuICBtYXg/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBOdW1iZXIgZmllbGQgdHlwZSB2YWxpZGF0aW9uIG1pbmltdW0gYWNjZXB0ZWQgaW5wdXRcbiAgICovXG4gIG1pbj86IG51bWJlcjtcbiAgLyoqXG4gICAqIE51bWJlciBmaWVsZCB0eXBlIHN0ZXAgc2l6ZSB3aGVuIHVzaW5nIGFycm93c1xuICAgKi9cbiAgc3RlcD86IG51bWJlcjtcblxuICAvKipcbiAgICogU2V0IHRoaXMgdG8gYHRydWVgIHRvIHNob3cgdGhlIGVkaXRvciBmb3IgdGhpcyBpbnB1dCB3aGVuXG4gICAqIGNoaWxkcmVuIG9mIHRoaXMgY29tcG9uZW50IGFyZSBzZWxlY3RlZC4gVGhpcyBpcyB1c2VmdWwgZm9yIHRoaW5nc1xuICAgKiBsaWtlIFRhYnMsIHN1Y2ggdGhhdCB1c2VycyBtYXkgbm90IGFsd2F5cyBzZWxlY3QgdGhlIFRhYnMgY29tcG9uZW50XG4gICAqIGRpcmVjdGx5IGJ1dCB3aWxsIHN0aWxsIGJlIGxvb2tpbmcgZm9yIGhvdyB0byBhZGQgYWRkaXRpb25hbCB0YWJzXG4gICAqL1xuICBicm9hZGNhc3Q/OiBib29sZWFuO1xuICAvKipcbiAgICogU2V0IHRoaXMgdG8gYHRydWVgIHRvIHNob3cgdGhlIGVkaXRvciBmb3IgdGhpcyBpbnB1dCB3aGVuXG4gICAqIGdyb3VwIGxvY2tlZCBwYXJlbnRzIG9mIHRoaXMgY29tcG9uZW50IGFyZSBzZWxlY3RlZC4gVGhpcyBpcyB1c2VmdWxcbiAgICogdG8gYnViYmxlIHVwIGltcG9ydGFudCBpbnB1dHMgZm9yIGxvY2tlZCBncm91cHMsIGxpa2UgdGV4dCBhbmQgaW1hZ2VzXG4gICAqL1xuICBidWJibGU/OiBib29sZWFuO1xuICAvKipcbiAgICogU2V0IHRoaXMgdG8gYHRydWVgIGlmIHlvdSB3YW50IHRoaXMgY29tcG9uZW50IHRvIGJlIHRyYW5zbGF0YWJsZVxuICAgKi9cbiAgbG9jYWxpemVkPzogYm9vbGVhbjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgb3B0aW9ucz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKiBGb3IgXCJ0ZXh0XCIgaW5wdXQgdHlwZSwgc3BlY2lmeWluZyBhbiBlbnVtIHdpbGwgc2hvdyBhIGRyb3Bkb3duIG9mIG9wdGlvbnMgaW5zdGVhZFxuICAgKi9cbiAgZW51bT86XG4gICAgfCByZWFkb25seSBzdHJpbmdbXVxuICAgIHwgcmVhZG9ubHkgeyBsYWJlbDogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbjsgaGVscGVyVGV4dD86IHN0cmluZyB9W107XG4gIC8qKiBSZWdleCBmaWVsZCB2YWxpZGF0aW9uIGZvciBhbGwgc3RyaW5nIHR5cGVzICh0ZXh0LCBsb25nVGV4dCwgaHRtbCwgdXJsLCBldGMpICovXG4gIHJlZ2V4Pzoge1xuICAgIC8qKiBwYXR0ZXJuIHRvIHRlc3QsIGxpa2UgXCJeXFwvW2Etel0kXCIgKi9cbiAgICBwYXR0ZXJuOiBzdHJpbmc7XG4gICAgLyoqIGZsYWdzIGZvciB0aGUgUmVnRXhwIGNvbnN0cnVjdG9yLCBlLmcuIFwiZ2lcIiAgKi9cbiAgICBvcHRpb25zPzogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEZyaWVuZGx5IG1lc3NhZ2UgdG8gZGlzcGxheSB0byBlbmQtdXNlcnMgaWYgdGhlIHJlZ2V4IGZhaWxzLCBlLmcuXG4gICAgICogXCJZb3UgbXVzdCB1c2UgYSByZWxhdGl2ZSB1cmwgc3RhcnRpbmcgd2l0aCAnLy4uLicgXCJcbiAgICAgKi9cbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gIH07XG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0byBgdHJ1ZWAgdG8gcHV0IHRoaXMgdW5kZXIgdGhlIFwic2hvdyBtb3JlXCIgc2VjdGlvbiBvZlxuICAgKiB0aGUgb3B0aW9ucyBlZGl0b3IuIFVzZWZ1bCBmb3IgdGhpbmdzIHRoYXQgYXJlIG1vcmUgYWR2YW5jZWRcbiAgICogb3IgbW9yZSByYXJlbHkgdXNlZCBhbmQgZG9uJ3QgbmVlZCB0byBiZSB0b28gcHJvbWluZW50XG4gICAqL1xuICBhZHZhbmNlZD86IGJvb2xlYW47XG4gIC8qKiBAaGlkZGVuICovXG4gIG9uQ2hhbmdlPzogKFxuICAgIG9wdGlvbnM6IGFueSxcbiAgICBwcmV2aW91c09wdGlvbnM/OiBhbnlcbiAgKSA9PiBQcm9taXNlPHZvaWQ+IHwgKChvcHRpb25zOiBhbnksIHByZXZpb3VzT3B0aW9ucz86IGFueSkgPT4gdm9pZCkgfCBzdHJpbmcgfCB2b2lkIHwgdW5kZWZpbmVkO1xuICAvKiogQGhpZGRlbiAqL1xuICBjb2RlPzogYm9vbGVhbjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgcmljaFRleHQ/OiBib29sZWFuO1xuICAvKiogQGhpZGRlbiAqL1xuICBzaG93SWY/OiAoKG9wdGlvbnM6IE1hcDxzdHJpbmcsIGFueT4pID0+IGJvb2xlYW4pIHwgc3RyaW5nO1xuICAvKiogQGhpZGRlbiAqL1xuICBjb3B5T25BZGQ/OiBib29sZWFuO1xuICAvKipcbiAgICogVXNlIG9wdGlvbmFsbHkgd2l0aCBpbnB1dHMgb2YgdHlwZSBgcmVmZXJlbmNlYC4gUmVzdHJpY3RzIHRoZSBjb250ZW50IGVudHJ5IHBpY2tlciB0byBhIHNwZWNpZmljIG1vZGVsIGJ5IG5hbWUuXG4gICAqL1xuICBtb2RlbD86IHN0cmluZztcblxuICBtZXRhPzogUmVjb3JkPHN0cmluZywgYW55Pjtcbn1cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBpbnRlcmZhY2UgZm9yIHRoZSBvcHRpb25zIGZvciBgQnVpbGRlci5yZWdpc3RlckNvbXBvbmVudGBcbiAqXG4gKiBgYGBqc1xuICogQnVpbGRlci5yZWdpc3RlckNvbXBvbmVudChZb3VyQ29tcG9uZW50LCB7XG4gKiAgLy8gPC0gQ29tcG9uZW50IG9wdGlvbnNcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBMZWFybiBtb3JlIGFib3V0IHJlZ2lzdGVyaW5nIGN1c3RvbSBjb21wb25lbnRzIFtoZXJlXShodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9jdXN0b20tcmVhY3QtY29tcG9uZW50cylcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnQge1xuICAvKipcbiAgICogTmFtZSB5b3VyIGNvbXBvbmVudCBzb21ldGhpbmcgdW5pcXVlLCBlLmcuICdNeUJ1dHRvbicuIFlvdSBjYW4gb3ZlcnJpZGUgYnVpbHQtaW4gY29tcG9uZW50c1xuICAgKiBieSByZWdpc3RlcmluZyBhIGNvbXBvbmVudCB3aXRoIHRoZSBzYW1lIG5hbWUsIGUuZy4gJ1RleHQnLCB0byByZXBsYWNlIHRoZSBidWlsdC1pbiB0ZXh0IGNvbXBvbmVudFxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogQGhpZGRlbiBAZGVwcmVjYXRlZCAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgLyoqXG4gICAqIExpbmsgdG8gYSBkb2N1bWVudGF0aW9uIHBhZ2UgZm9yIHRoaXMgY29tcG9uZW50XG4gICAqL1xuICBkb2NzTGluaz86IHN0cmluZztcbiAgLyoqXG4gICAqIExpbmsgdG8gYW4gaW1hZ2UgdG8gYmUgdXNlZCBhcyBhbiBpY29uIGZvciB0aGlzIGNvbXBvbmVudCBpbiBCdWlsZGVyJ3MgZWRpdG9yXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIGltYWdlOiAnaHR0cHM6Ly9zb21lLWNkbi5jb20vbXktaWNvbi1mb3ItdGhpcy1jb21wb25lbnQucG5nJ1xuICAgKiBgYGBcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICogTGluayB0byBhIHNjcmVlbnNob3Qgc2hvd24gd2hlbiB1c2VyIGhvdmVycyBvdmVyIHRoZSBjb21wb25lbnQgaW4gQnVpbGRlcidzIGVkaXRvclxuICAgKiB1c2UgaHR0cHM6Ly9idWlsZGVyLmlvL3VwbG9hZCB0byB1cGxvYWQgeW91ciBzY3JlZXNob3QsIGZvciBlYXNpZXIgcmVzaXppbmcgYnkgQnVpbGRlci5cbiAgICovXG4gIHNjcmVlbnNob3Q/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoZW4gb3ZlcnJpZGluZyBidWlsdC1pbiBjb21wb25lbnRzLCBpZiB5b3UgZG9uJ3Qgd2FudCBhbnkgc3BlY2lhbCBiZWhhdmlvciB0aGF0XG4gICAqIHRoZSBvcmlnaW5hbCBoYXMsIHNldCB0aGlzIHRvIGB0cnVlYCB0byBza2lwIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG4gICAqXG4gICAqIERlZmF1bHQgYmVoYXZpb3JzIGluY2x1ZGUgc3BlY2lhbCBcInZpcnR1YWwgb3B0aW9uc1wiLCBzdWNoIGFzIGEgY3VzdG9tXG4gICAqIGFzcGVjdCByYXRpbyBlZGl0b3IgZm9yIEltYWdlcywgb3IgYSBzcGVjaWFsIGNvbHVtbiBlZGl0b3IgZm9yIENvbHVtbnNcbiAgICpcbiAgICogTGVhcm4gbW9yZSBhYm91dCBvdmVycmlkaW5nIGJ1aWx0LWluIGNvbXBvbmVudHMgaGVyZTogaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3MvY3VzdG9tLWNvbXBvbmVudHMtb3ZlcnJpZGluZ1xuICAgKi9cbiAgb3ZlcnJpZGU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJbnB1dCBzY2hlbWEgZm9yIHlvdXIgY29tcG9uZW50IGZvciB1c2VycyB0byBmaWxsIGluIHRoZSBvcHRpb25zIHZpYSBhIFVJXG4gICAqIHRoYXQgdHJhbnNsYXRlIHRvIHRoaXMgY29tcG9uZW50cyBwcm9wc1xuICAgKi9cbiAgaW5wdXRzPzogcmVhZG9ubHkgSW5wdXRbXTtcbiAgLyoqIEBoaWRkZW4gQGRlcHJlY2F0ZWQgKi9cbiAgY2xhc3M/OiBhbnk7XG4gIC8qKiBAaGlkZGVuIEBkZXByZWNhdGVkICovXG4gIHR5cGU/OiAnYW5ndWxhcicgfCAnd2ViY29tcG9uZW50JyB8ICdyZWFjdCcgfCAndnVlJztcbiAgLyoqXG4gICAqIERlZmF1bHQgc3R5bGVzIHRvIGFwcGx5IHdoZW4gZHJvcHBnZWQgaW50byB0aGUgQnVpbGRlci5pbyBlZGl0b3JcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogZGVmYXVsdFN0eWxlczoge1xuICAgKiAgYXBwZWFyYW5jZTogJ25vbmUnLFxuICAgKiAgcGFkZGluZ1RvcDogJzE1cHgnLFxuICAgKiAgcGFkZGluZ0JvdHRvbTogJzE1cHgnLFxuICAgKiAgcGFkZGluZ0xlZnQ6ICcyNXB4JyxcbiAgICogIHBhZGRpbmdSaWdodDogJzI1cHgnLFxuICAgKiAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMCcsXG4gICAqICBjb2xvcjogJ3doaXRlJyxcbiAgICogIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBkZWZhdWx0U3R5bGVzPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqIFR1cm4gb24gaWYgeW91ciBjb21wb25lbnQgY2FuIGFjY2VwdCBjaGlsZHJlbi4gQmUgc3VyZSB0byB1c2UgaW4gY29tYmluYXRpb24gd2l0aFxuICAgKiB3aXRoQ2hpbGRyZW4oWW91ckNvbXBvbmVudCkgbGlrZSBoZXJlXG4gICAqIGdpdGh1Yi5jb20vQnVpbGRlcklPL2J1aWxkZXIvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvcmVhY3QtZGVzaWduLXN5c3RlbS9zcmMvY29tcG9uZW50cy9IZXJvV2l0aENoaWxkcmVuL0hlcm9XaXRoQ2hpbGRyZW4uYnVpbGRlci5qcyNMNVxuICAgKi9cbiAgY2FuSGF2ZUNoaWxkcmVuPzogYm9vbGVhbjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgZnJhZ21lbnQ/OiBib29sZWFuO1xuICAvKipcbiAgICogRG8gbm90IHdyYXAgYSBjb21wb25lbnQgaW4gYSBkb20gZWxlbWVudC4gQmUgc3VyZSB0byB1c2Ugey4uLnByb3BzLmF0dHJpYnV0ZXN9IHdpdGggdGhpcyBvcHRpb25cbiAgICogbGlrZSBoZXJlIGdpdGh1Yi5jb20vQnVpbGRlcklPL2J1aWxkZXIvYmxvYi9tYXN0ZXIvcGFja2FnZXMvcmVhY3Qvc3JjL2Jsb2Nrcy9mb3Jtcy9JbnB1dC50c3gjTDM0XG4gICAqL1xuICBub1dyYXA/OiBib29sZWFuO1xuICAvKipcbiAgICogRGVmYXVsdCBjaGlsZHJlblxuICAgKi9cbiAgZGVmYXVsdENoaWxkcmVuPzogcmVhZG9ubHkgQnVpbGRlckVsZW1lbnRbXTtcbiAgLyoqXG4gICAqIERlZmF1bHQgb3B0aW9ucyB0byBtZXJnZSBpbiB3aGVuIGNyZWF0aW5nIHRoaXMgYmxvY2tcbiAgICovXG4gIGRlZmF1bHRzPzogUGFydGlhbDxCdWlsZGVyRWxlbWVudD47XG4gIC8qKiBAaGlkZGVuIEBkZXByZWNhdGVkICovXG4gIGhvb2tzPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBGdW5jdGlvbiB9O1xuICAvKipcbiAgICogSGlkZSB5b3VyIGNvbXBvbmVudCBpbiBlZGl0b3IsIHVzZWZ1bCBmb3IgZ3JhZHVhbGx5IGRlcHJlY2F0aW5nIGNvbXBvbmVudHNcbiAgICovXG4gIGhpZGVGcm9tSW5zZXJ0TWVudT86IGJvb2xlYW47XG4gIC8qKiBDdXN0b20gdGFnIG5hbWUgKGZvciBjdXN0b20gd2ViY29tcG9uZW50cyBvbmx5KSAqL1xuICB0YWc/OiBzdHJpbmc7XG4gIC8qKiBAaGlkZGVuIEBkZXByZWNhdGVkICovXG4gIHN0YXRpYz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBQYXNzaW5nIGEgbGlzdCBvZiBtb2RlbCBuYW1lcyB3aWxsIHJlc3RyaWN0IHVzaW5nIHRoZSBjb21wb25lbnQgdG8gb25seSB0aGUgbW9kZWxzIGxpc3RlZCBoZXJlLCBvdGhlcndpc2UgaXQnbGwgYmUgYXZhaWxhYmxlIGZvciBhbGwgbW9kZWxzXG4gICAqL1xuICBtb2RlbHM/OiByZWFkb25seSBzdHJpbmdbXTtcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgY29tcG9uZW50IGlzIGEgUmVhY3QgU2VydmVyIENvbXBvbmVudFxuICAgKi9cbiAgaXNSU0M/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZ5IHJlc3RyaWN0aW9ucyBkaXJlY3QgY2hpbGRyZW4gbXVzdCBtYXRjaFxuICAgKi9cbiAgY2hpbGRSZXF1aXJlbWVudHM/OiB7XG4gICAgLyoqIE1lc3NhZ2UgdG8gc2hvdyB3aGVuIHRoaXMgZG9lc24ndCBtYXRjaCwgZS5nLiBcIkNoaWxkcmVuIG9mICdDb2x1bW5zJyBtdXN0IGJlIGEgJ0NvbHVtbidcIiAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICAvKiogU2ltcGxlIHdheSB0byBzYXkgY2hpbGRyZW4gbXVzdCBiZSBhIHNwZWNpZmljIGNvbXBvbmVudCBuYW1lICovXG4gICAgY29tcG9uZW50Pzogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIE1vcmUgYWR2YW5jZWQgLSBzcGVjaWZ5IGEgTW9uZ29EQi1zdHlsZSBxdWVyeSAodXNpbmcgc2lmdC5qcyBnaXRodWIuY29tL2NyY24vc2lmdC5qcylcbiAgICAgKiBvZiB3aGF0IHRoZSBjaGlsZHJlbiBvYmplY3RzIHNob3VsZCBtYXRjaCwgZS5nLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgcXVlcnk6IHtcbiAgICAgKiAgICAvLyBDaGlsZCBvZiB0aGlzIGVsZW1lbnQgbXVzdCBiZSBhICdCdXR0b24nIG9yICdUZXh0JyBjb21wb25lbnRcbiAgICAgKiAgICAnY29tcG9uZW50Lm5hbWUnOiB7ICRpbjogWydCdXR0b24nLCAnVGV4dCddIH1cbiAgICAgKiAgfVxuICAgICAqL1xuICAgIHF1ZXJ5PzogYW55O1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZ5IHJlc3RyaWN0aW9ucyBhbnkgcGFyZW50IG11c3QgbWF0Y2hcbiAgICovXG4gIHJlcXVpcmVzUGFyZW50Pzoge1xuICAgIC8qKiBNZXNzYWdlIHRvIHNob3cgd2hlbiB0aGlzIGRvZXNuJ3QgbWF0Y2gsIGUuZy4gXCInQWRkIHRvIGNhcnQnIGJ1dHRvbnMgbXVzdCBiZSB3aXRoaW4gYSAnUHJvZHVjdCBib3gnXCIgKi9cbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgLyoqIFNpbXBsZSB3YXkgdG8gc2F5IGEgcGFyZW50IG11c3QgYmUgYSBzcGVjaWZpYyBjb21wb25lbnQgbmFtZSwgZS5nLiAnUHJvZHVjdCBib3gnICovXG4gICAgY29tcG9uZW50Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogTW9yZSBhZHZhbmNlZCAtIHNwZWNpZnkgYSBNb25nb0RCLXN0eWxlIHF1ZXJ5ICh1c2luZyBzaWZ0LmpzIGdpdGh1Yi5jb20vY3Jjbi9zaWZ0LmpzKVxuICAgICAqIG9mIHdoYXQgYXQgbGVhc3Qgb25lIHBhcmVudCBpbiB0aGUgcGFyZW50cyBoaWVyYXJjaHkgc2hvdWxkIG1hdGNoLCBlLmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICBxdWVyeToge1xuICAgICAqICAgIC8vIFRoaWxzIGVsZW1lbnQgbXVzdCBiZSBzb21ld2hlcmUgaW5zaWRlIGVpdGhlciBhICdQcm9kdWN0IGJveCcgb3IgJ0NvbGxlY3Rpb24nIGNvbXBvbmVudFxuICAgICAqICAgICdjb21wb25lbnQubmFtZSc6IHsgJGluOiBbJ1Byb2R1Y3QgQm94JywgJ0NvbGxlY3Rpb24nXSB9XG4gICAgICogIH1cbiAgICAgKi9cbiAgICBxdWVyeT86IGFueTtcbiAgfTtcblxuICBmcmllbmRseU5hbWU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFVzZSB0byByZXN0cmljdCBhY2Nlc3MgdG8geW91ciBjb21wb25lbnQgYmFzZWQgb24gYSB0aGUgY3VycmVudCB1c2VyIHBlcm1pc3Npb25zXG4gICAqIEJ5IGRlZmF1bHQgY29tcG9uZW50cyB3aWxsIHNob3cgdG8gYWxsIHVzZXJzXG4gICAqIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHBlcm1pc3Npb25zIGluIGJ1aWxkZXIgY2hlY2sgaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3MvZ3VpZGVzL3JvbGVzLWFuZC1wZXJtaXNzaW9uc1xuICAgKi9cbiAgcmVxdWlyZWRQZXJtaXNzaW9ucz86IEFycmF5PFBlcm1pc3Npb24+O1xuXG4gIG1ldGE/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xufVxuXG50eXBlIFBlcm1pc3Npb24gPSAncmVhZCcgfCAncHVibGlzaCcgfCAnZWRpdENvZGUnIHwgJ2VkaXREZXNpZ25zJyB8ICdhZG1pbicgfCAnY3JlYXRlJztcblxudHlwZSBEZWVwUGFydGlhbDxUPiA9IHtcbiAgW1AgaW4ga2V5b2YgVF0/OiBUW1BdIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT5cbiAgICA/IEFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICAgIDogVFtQXSBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT5cbiAgICAgID8gUmVhZG9ubHlBcnJheTxEZWVwUGFydGlhbDxVPj5cbiAgICAgIDogRGVlcFBhcnRpYWw8VFtQXT47XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEluc2VydE1lbnVJdGVtIHtcbiAgbmFtZTogc3RyaW5nO1xuICBpY29uPzogc3RyaW5nO1xuICBpdGVtOiBEZWVwUGFydGlhbDxCdWlsZGVyRWxlbWVudD47XG59XG5cbi8qKlxuICogVXNlIHRoaXMgdG8gcmVnaXN0ZXIgY3VzdG9tIHNlY3Rpb25zIGluIHRoZSBJbnNlcnQgbWVudSwgZm9yIGluc3RhbmNlXG4gKiB0byBtYWtlIG5ldyBzZWN0aW9ucyB0byBvcmdhbml6ZSB5b3VyIGN1c3RvbSBjb21wb25lbnRzXG4gKlxuICogIVtFeGFtcGxlIG9mIHdoYXQgYSBjdXN0b20gc2VjdGlvbiBsb29rcyBsaWtlXShodHRwczovL2Nkbi5idWlsZGVyLmlvL2FwaS92MS9pbWFnZS9hc3NldHMlMkY3ZjdiYmNmNzJhMWE0ZDcyYmFjNWRhYTM1OWU3YmVmZCUyRmU1ZjI3OTJlOWMwZjQ0ZWQ4OWE5ZGNiNzdiOTQ1ODU4KVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogQnVpbGRlci5yZWdpc3RlcignaW5zZXJ0TWVudScsIHtcbiAqICAgbmFtZTogJ091ciBjb21wb25lbnRzJyxcbiAqICAgaXRlbXM6IFtcbiAqICAgICB7IG5hbWU6ICdIZXJvJyB9LFxuICogICAgIHsgbmFtZTogJ0RvdWJsZSBDb2x1bW5zJyB9LFxuICogICAgIHsgbmFtZTogJ1RyaXBsZSBDb2x1bW5zJyB9LFxuICogICAgIHsgbmFtZTogJ0R5bmFtaWMgQ29sdW1ucycgfSxcbiAqICAgXSxcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIG1ha2UgYXMgbWFueSBjdXN0b20gc2VjdGlvbnMgYXMgeW91IGxpa2VcbiAqXG4gKiBTZWUgYSBjb21wbGV0ZSB1c2FnZSBleGFtcGxlIFtoZXJlXShodHRwczovL2dpdGh1Yi5jb20vYnVpbGRlcmlvL2J1aWxkZXIvYmxvYi9tYWluL2V4YW1wbGVzL3JlYWN0LWRlc2lnbi1zeXN0ZW0vc3JjL2J1aWxkZXItc2V0dGluZ3MuanMpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5zZXJ0TWVudUNvbmZpZyB7XG4gIG5hbWU6IHN0cmluZztcbiAgcHJpb3JpdHk/OiBudW1iZXI7XG4gIHBlcnNpc3Q/OiBib29sZWFuO1xuICBhZHZhbmNlZD86IGJvb2xlYW47XG4gIGl0ZW1zOiByZWFkb25seSBJbnNlcnRNZW51SXRlbVtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQnVpbGRlckNvbXBvbmVudChpbmZvOiBQYXJ0aWFsPENvbXBvbmVudD4gPSB7fSkge1xuICByZXR1cm4gQnVpbGRlci5Db21wb25lbnQoaW5mbyk7XG59XG5cbi8vIFRPRE9cbnR5cGUgU2V0dGluZ3MgPSBhbnk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uIHtcbiAgbmFtZTogc3RyaW5nO1xuICBpbnB1dHM/OiByZWFkb25seSBJbnB1dFtdO1xuICByZXR1cm5UeXBlPzogSW5wdXQ7XG4gIGFjdGlvbjogKG9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHN0cmluZztcbiAgLyoqXG4gICAqIElzIGFuIGFjdGlvbiBmb3IgZXhwcmVzc2lvbiAoZS5nLiBjYWxjdWxhdGluZyBhIGJpbmRpbmcgbGlrZSBhIGZvcm11bGFcbiAgICogdG8gZmlsbCBhIHZhbHVlIGJhc2VkIG9uIGxvY2FsZSkgb3IgYSBmdW5jdGlvbiAoZS5nLiBzb21ldGhpbmcgdG8gdHJpZ2dlclxuICAgKiBvbiBhbiBldmVudCBsaWtlIGFkZCB0byBjYXJ0KSBvciBlaXRoZXIgKGUuZy4gYSBjdXN0b20gY29kZSBibG9jaylcbiAgICovXG4gIGtpbmQ6ICdleHByZXNzaW9uJyB8ICdmdW5jdGlvbicgfCAnYW55JztcbiAgLyoqXG4gICAqIEdsb2JhbGx5IHVuaXF1ZSBJRCBmb3IgYW4gYWN0aW9uLCBlLmcuIFwiQGJ1aWxkZXIuaW86c2V0U3RhdGVcIlxuICAgKi9cbiAgaWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEJ1aWxkZXIge1xuICBzdGF0aWMgVkVSU0lPTiA9IFNES19WRVJTSU9OO1xuXG4gIHN0YXRpYyBjb21wb25lbnRzOiBDb21wb25lbnRbXSA9IFtdO1xuICBzdGF0aWMgc2luZ2xldG9uSW5zdGFuY2U6IEJ1aWxkZXI7XG4gIC8qKlxuICAgKiBNYWtlcyBpdCBzbyB0aGF0IGEvYiB0ZXN0cyBnZW5lcmF0ZSBjb2RlIGxpa2Uge0BsaW5rXG4gICAqIGh0dHBzOi8vd3d3LmJ1aWxkZXIuaW8vYmxvZy9oaWdoLXBlcmZvcm1hbmNlLW5vLWNvZGUjX19uZXh0On46dGV4dD1TdGF0aWMlMjBnZW5lcmF0ZWQlMjBBJTJGQiUyMHRlc3Rpbmd9XG4gICAqIGluc3RlYWQgb2YgdGhlIG9sZCB3YXkgd2hlcmUgd2UgcmVuZGVyIG9ubHkgb25lIHRlc3QgZ3JvdXAgYXQgYSB0aW1lIG9uIHRoZVxuICAgKiBzZXJ2ZXIuIFRoaXMgaXMgdGhlIHByZWZlcnJlZC9iZXR0ZXIgd2F5IG5vdCBhbmQgd2Ugc2hvdWxkIHVsdGltYXRlbHkgbWFrZSBpdFxuICAgKiB0aGUgZGVmYXVsdFxuICAgKi9cbiAgc3RhdGljIGlzU3RhdGljID0gdHJ1ZTtcbiAgc3RhdGljIGFuaW1hdG9yID0gbmV3IEFuaW1hdG9yKCk7XG5cbiAgc3RhdGljIG5leHRUaWNrID0gbmV4dFRpY2s7XG4gIHN0YXRpYyB0aHJvdHRsZSA9IHRocm90dGxlO1xuXG4gIHN0YXRpYyBlZGl0b3JzOiBhbnlbXSA9IFtdO1xuICBzdGF0aWMgdHJ1c3RlZEhvc3RzOiBzdHJpbmdbXSA9IFtcbiAgICAnKi5iZXRhLmJ1aWxkZXIuaW8nLFxuICAgICdiZXRhLmJ1aWxkZXIuaW8nLFxuICAgICdidWlsZGVyLmlvJyxcbiAgICAnbG9jYWxob3N0JyxcbiAgICAncWEuYnVpbGRlci5pbycsXG4gIF07XG4gIHN0YXRpYyBzZXJ2ZXJDb250ZXh0OiBhbnk7XG4gIHN0YXRpYyBwbHVnaW5zOiBhbnlbXSA9IFtdO1xuXG4gIHN0YXRpYyBhY3Rpb25zOiBBY3Rpb25bXSA9IFtdO1xuICBzdGF0aWMgcmVnaXN0cnk6IHsgW2tleTogc3RyaW5nXTogYW55W10gfSA9IHt9O1xuICBzdGF0aWMgb3ZlcnJpZGVIb3N0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHN0YXRpYyBhdHRyaWJ1dGVzQ29va2llTmFtZSA9ICdidWlsZGVyLnVzZXJBdHRyaWJ1dGVzJztcblxuICAvKipcbiAgICogQHRvZG8gYGtleWAgcHJvcGVydHkgb24gYW55IGluZm8gd2hlcmUgaWYgYSBrZXkgbWF0Y2hlcyBhIGN1cnJlbnRcbiAgICoga2V5IGl0IGdldHMgcmVtb3ZlZFxuICAgKi9cbiAgc3RhdGljIHJlZ2lzdGVyKHR5cGU6ICdpbnNlcnRNZW51JywgaW5mbzogSW5zZXJ0TWVudUNvbmZpZyk6IHZvaWQ7XG4gIHN0YXRpYyByZWdpc3Rlcih0eXBlOiBzdHJpbmcsIGluZm86IGFueSk6IHZvaWQ7XG4gIHN0YXRpYyByZWdpc3Rlcih0eXBlOiBzdHJpbmcsIGluZm86IGFueSkge1xuICAgIGlmICh0eXBlID09PSAncGx1Z2luJykge1xuICAgICAgaW5mbyA9IHRoaXMuc2VyaWFsaXplSW5jbHVkaW5nRnVuY3Rpb25zKGluZm8sIHRydWUpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IGFsbCBtdXN0IGhhdmUgbmFtZSBhbmQgY2FuJ3QgY29uZmxpY3Q/XG4gICAgbGV0IHR5cGVMaXN0ID0gdGhpcy5yZWdpc3RyeVt0eXBlXTtcbiAgICBpZiAoIXR5cGVMaXN0KSB7XG4gICAgICB0eXBlTGlzdCA9IHRoaXMucmVnaXN0cnlbdHlwZV0gPSBbXTtcbiAgICB9XG4gICAgdHlwZUxpc3QucHVzaChpbmZvKTtcbiAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgIHR5cGU6ICdidWlsZGVyLnJlZ2lzdGVyJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgaW5mbyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UobWVzc2FnZSwgJyonKTtcbiAgICAgICAgaWYgKHBhcmVudCAhPT0gd2luZG93KSB7XG4gICAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKG1lc3NhZ2UsICcqJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdDb3VsZCBub3QgcG9zdG1lc3NhZ2UnLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlZ2lzdHJ5Q2hhbmdlLm5leHQodGhpcy5yZWdpc3RyeSk7XG4gIH1cblxuICBzdGF0aWMgcmVnaXN0cnlDaGFuZ2UgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHt9IGFzIHR5cGVvZiBCdWlsZGVyLnJlZ2lzdHJ5KTtcblxuICBzdGF0aWMgcmVnaXN0ZXJFZGl0b3IoaW5mbzogYW55KSB7XG4gICAgaWYgKEJ1aWxkZXIuaXNCcm93c2VyKSB7XG4gICAgICB3aW5kb3cucG9zdE1lc3NhZ2UoXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnYnVpbGRlci5yZWdpc3RlckVkaXRvcicsXG4gICAgICAgICAgZGF0YTogb21pdChpbmZvLCAnY29tcG9uZW50JyksXG4gICAgICAgIH0sXG4gICAgICAgICcqJ1xuICAgICAgKTtcbiAgICAgIGNvbnN0IHsgaG9zdG5hbWUgfSA9IGxvY2F0aW9uO1xuXG4gICAgICBpZiAoIUJ1aWxkZXIuaXNUcnVzdGVkSG9zdChob3N0bmFtZSkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnQnVpbGRlci5yZWdpc3RlckVkaXRvcigpIGNhbGxlZCBpbiB0aGUgd3JvbmcgZW52aXJvbm1lbnQhIFlvdSBjYW5ub3QgbG9hZCBjdXN0b20gZWRpdG9ycyBmcm9tIHlvdXIgYXBwLCB0aGV5IG11c3QgYmUgbG9hZGVkIHRocm91Z2ggdGhlIEJ1aWxkZXIuaW8gYXBwIGl0c2VsZi4gRm9sbG93IHRoZSByZWFkbWUgaGVyZSBmb3IgbW9yZSBkZXRhaWxzOiBodHRwczovL2dpdGh1Yi5jb20vYnVpbGRlcmlvL2J1aWxkZXIvdHJlZS9tYXN0ZXIvcGx1Z2lucy9jbG91ZGluYXJ5IG9yIGNvbnRhY3QgY2hhdCB1cyBpbiBvdXIgU3BlY3RydW0gY29tbXVuaXR5IGZvciBoZWxwOiBodHRwczovL3NwZWN0cnVtLmNoYXQvYnVpbGRlcidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5lZGl0b3JzLnB1c2goaW5mbyk7XG4gIH1cblxuICBzdGF0aWMgcmVnaXN0ZXJQbHVnaW4oaW5mbzogYW55KSB7XG4gICAgdGhpcy5wbHVnaW5zLnB1c2goaW5mbyk7XG4gIH1cblxuICBzdGF0aWMgcmVnaXN0ZXJBY3Rpb24oYWN0aW9uOiBBY3Rpb24pIHtcbiAgICB0aGlzLmFjdGlvbnMucHVzaChhY3Rpb24pO1xuXG4gICAgaWYgKEJ1aWxkZXIuaXNCcm93c2VyKSB7XG4gICAgICBjb25zdCBhY3Rpb25DbG9uZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYWN0aW9uKSk7XG4gICAgICBpZiAoYWN0aW9uLmFjdGlvbikge1xuICAgICAgICBhY3Rpb25DbG9uZS5hY3Rpb24gPSBhY3Rpb24uYWN0aW9uLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdidWlsZGVyLnJlZ2lzdGVyQWN0aW9uJyxcbiAgICAgICAgICBkYXRhOiBhY3Rpb25DbG9uZSxcbiAgICAgICAgfSxcbiAgICAgICAgJyonXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RlclRydXN0ZWRIb3N0KGhvc3Q6IHN0cmluZykge1xuICAgIHRoaXMudHJ1c3RlZEhvc3RzLnB1c2goaG9zdCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGNvbnRleHQgQHR5cGUge2ltcG9ydCgnaXNvbGF0ZWQtdm0nKS5Db250ZXh0fVxuICAgKiBVc2UgdGhpcyBmdW5jdGlvbiB0byBjb250cm9sIHRoZSBleGVjdXRpb24gY29udGV4dCBvZiBjdXN0b20gY29kZSBvbiB0aGUgc2VydmVyLlxuICAgKiBjb25zdCBpdm0gPSByZXF1aXJlKCdpc29sYXRlZC12bScpO1xuICAgKiBjb25zdCBpc29sYXRlID0gbmV3IGl2bS5Jc29sYXRlKHsgbWVtb3J5TGltaXQ6IDEyOCB9KTtcbiAgICogY29uc3QgY29udGV4dCA9IGlzb2xhdGUuY3JlYXRlQ29udGV4dFN5bmMoKTtcbiAgICogQnVpbGRlci5zZXRTZXJ2ZXJDb250ZXh0KGNvbnRleHQpO1xuICAgKi9cbiAgc3RhdGljIHNldFNlcnZlckNvbnRleHQoY29udGV4dDogYW55KSB7XG4gICAgdGhpcy5zZXJ2ZXJDb250ZXh0ID0gY29udGV4dDtcbiAgfVxuXG4gIHN0YXRpYyBpc1RydXN0ZWRIb3N0KGhvc3RuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBpc1RydXN0ZWQgPVxuICAgICAgdGhpcy50cnVzdGVkSG9zdHMuZmluZEluZGV4KHRydXN0ZWRIb3N0ID0+XG4gICAgICAgIHRydXN0ZWRIb3N0LnN0YXJ0c1dpdGgoJyouJylcbiAgICAgICAgICA/IGhvc3RuYW1lLmVuZHNXaXRoKHRydXN0ZWRIb3N0LnNsaWNlKDEpKVxuICAgICAgICAgIDogdHJ1c3RlZEhvc3QgPT09IGhvc3RuYW1lXG4gICAgICApID4gLTE7XG5cbiAgICByZXR1cm4gaXNUcnVzdGVkO1xuICB9XG5cbiAgc3RhdGljIGlzVHJ1c3RlZEhvc3RGb3JFdmVudChldmVudDogTWVzc2FnZUV2ZW50KSB7XG4gICAgaWYgKGV2ZW50Lm9yaWdpbiA9PT0gJ251bGwnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IHBhcnNlKGV2ZW50Lm9yaWdpbik7XG4gICAgcmV0dXJuIHVybC5ob3N0bmFtZSAmJiBCdWlsZGVyLmlzVHJ1c3RlZEhvc3QodXJsLmhvc3RuYW1lKTtcbiAgfVxuXG4gIHN0YXRpYyBydW5BY3Rpb24oYWN0aW9uOiBBY3Rpb24gfCBzdHJpbmcpIHtcbiAgICAvLyBUT0RPXG4gICAgY29uc3QgYWN0aW9uT2JqZWN0ID1cbiAgICAgIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnID8gZmluZCh0aGlzLmFjdGlvbnMsIGl0ZW0gPT4gaXRlbS5uYW1lID09PSBhY3Rpb24pIDogYWN0aW9uO1xuXG4gICAgaWYgKCFhY3Rpb25PYmplY3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uIG5vdCBmb3VuZDogJHthY3Rpb259YCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGZpZWxkcyhuYW1lOiBzdHJpbmcsIGZpZWxkczogcmVhZG9ubHkgSW5wdXRbXSkge1xuICAgIHdpbmRvdy5wYXJlbnQ/LnBvc3RNZXNzYWdlKFxuICAgICAge1xuICAgICAgICB0eXBlOiAnYnVpbGRlci5maWVsZHMnLFxuICAgICAgICBkYXRhOiB7IG5hbWUsIGZpZWxkcyB9LFxuICAgICAgfSxcbiAgICAgICcqJ1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfZWRpdGluZ1BhZ2UgPSBmYWxzZTtcblxuICBzdGF0aWMgaXNJZnJhbWUgPSBpc0lmcmFtZTtcbiAgc3RhdGljIGlzQnJvd3NlciA9IGlzQnJvd3NlcjtcbiAgc3RhdGljIGlzUmVhY3ROYXRpdmUgPSBpc1JlYWN0TmF0aXZlO1xuICBzdGF0aWMgaXNTZXJ2ZXIgPSAhaXNCcm93c2VyICYmICFpc1JlYWN0TmF0aXZlO1xuICBzdGF0aWMgcHJldmlld2luZ01vZGVsID0gQnVpbGRlci5pc0Jyb3dzZXIgJiYgZ2V0UXVlcnlQYXJhbShsb2NhdGlvbi5ocmVmLCAnYnVpbGRlci5wcmV2aWV3Jyk7XG5cbiAgc3RhdGljIHNldHRpbmdzOiBTZXR0aW5ncyA9IHt9O1xuICBzdGF0aWMgc2V0dGluZ3NDaGFuZ2UgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFNldHRpbmdzPih7fSk7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICpcbiAgICogVXNlIEJ1aWxkZXIucmVnaXN0ZXIoJ2VkaXRvci5zZXR0aW5ncycsIHt9KSBpbnN0ZWFkLlxuICAgKi9cbiAgc3RhdGljIHNldChzZXR0aW5nczogU2V0dGluZ3MpOiB2b2lkIHtcbiAgICBCdWlsZGVyLnJlZ2lzdGVyKCdlZGl0b3Iuc2V0dGluZ3MnLCBzZXR0aW5ncyk7XG4gIH1cblxuICBzdGF0aWMgaW1wb3J0KHBhY2thZ2VOYW1lOiBzdHJpbmcpIHtcbiAgICBpZiAoIUJ1aWxkZXIuaXNCcm93c2VyKSB7XG4gICAgICAvLyBUT0RPOiBzZXJ2ZXIgc2lkZSBzdXBwb3J0ICptYXliZSpcbiAgICAgIGNvbnNvbGUud2FybignQnVpbGRlci5pbXBvcnQgdXNlZCBvbiB0aGUgc2VydmVyIC0gdGhpcyBzaG91bGQgb25seSBiZSB1c2VkIGluIHRoZSBicm93c2VyJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgU3lzdGVtIH0gPSB3aW5kb3cgYXMgYW55O1xuXG4gICAgaWYgKCFTeXN0ZW0pIHtcbiAgICAgIGNvbnNvbGUud2FybignU3lzdGVtLmpzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBpbmNsdWRlIFN5c3RlbS5qcyB3aGVuIHVzaW5nIEJ1aWxkZXIuaW1wb3J0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBTeXN0ZW0uaW1wb3J0KGBodHRwczovL2Nkbi5idWlsZGVyLmlvL3N5c3RlbWpzLyR7cGFja2FnZU5hbWV9YCk7XG4gIH1cblxuICAvLyBUT0RPOiB0aGlzIGlzIHF1aWNrIGFuZCBkaXJ0eSwgZG8gYmV0dGVyIGltcGxlbWVudGF0aW9uIGxhdGVyLiBBbHNvIGNhbiBiZSB1bnJlbGlhYmxlXG4gIC8vIGlmIHBhZ2UgMzAxcyBldGMuIFVzZSBhIHF1ZXJ5IHBhcmFtIGluc3RlYWQ/IGFsc28gY291bGQgaGF2ZSBpc3N1ZXMgd2l0aCByZWRpcmVjdHMuIEluamVjdGluZyB2YXIgY291bGRcbiAgLy8gd29yayBidXQgaXMgYXN5bmMuLi5cbiAgc3RhdGljIGlzRWRpdGluZyA9IEJvb2xlYW4oXG4gICAgaXNJZnJhbWUgJiZcbiAgICAgICgoZG9jdW1lbnQucmVmZXJyZXIgJiYgZG9jdW1lbnQucmVmZXJyZXIubWF0Y2goL2J1aWxkZXJcXC5pb3xsb2NhbGhvc3Q6MTIzNC8pKSB8fFxuICAgICAgICBsb2NhdGlvbi5zZWFyY2guaW5kZXhPZignYnVpbGRlci5mcmFtZUVkaXRpbmc9JykgIT09IC0xKVxuICApO1xuXG4gIHN0YXRpYyBpc1ByZXZpZXdpbmcgPSBCb29sZWFuKFxuICAgIGlzQnJvd3NlciAmJlxuICAgICAgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdidWlsZGVyLnByZXZpZXc9JykgIT09IC0xIHx8XG4gICAgICAgIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdidWlsZGVyLmZyYW1lRWRpdGluZz0nKSAhPT0gLTEpXG4gICk7XG5cbiAgLy8gdXNlQ2RuQXBpID0gZmFsc2U7XG5cbiAgc3RhdGljIGdldCBlZGl0aW5nUGFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZWRpdGluZ1BhZ2U7XG4gIH1cblxuICBzdGF0aWMgc2V0IGVkaXRpbmdQYWdlKGVkaXRpbmdQYWdlKSB7XG4gICAgdGhpcy5fZWRpdGluZ1BhZ2UgPSBlZGl0aW5nUGFnZTtcbiAgICBpZiAoaXNCcm93c2VyICYmIGlzSWZyYW1lKSB7XG4gICAgICBpZiAoZWRpdGluZ1BhZ2UpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdidWlsZGVyLWVkaXRpbmctcGFnZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdidWlsZGVyLWVkaXRpbmctcGFnZScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHNlcmlhbGl6ZUluY2x1ZGluZ0Z1bmN0aW9ucyhpbmZvOiBhbnksIGlzRm9yUGx1Z2luPzogYm9vbGVhbikge1xuICAgIGNvbnN0IHNlcmlhbGl6ZUZuID0gKGZuVmFsdWU6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICBjb25zdCBmblN0ciA9IGZuVmFsdWUudG9TdHJpbmcoKS50cmltKCk7XG5cbiAgICAgIC8vIHdlIG5lZWQgdG8gYWNjb3VudCBmb3IgYSBmZXcgZGlmZmVyZW50IGZuIHN5bnRheGVzOlxuICAgICAgLy8gMS4gYGZ1bmN0aW9uIG5hbWUoYXJncykgPT4ge2NvZGV9YFxuICAgICAgLy8gMi4gYG5hbWUoYXJncykgPT4ge2NvZGV9YFxuICAgICAgLy8gMy4gYChhcmdzKSA9PiB7fWBcbiAgICAgIC8vIDQuIGBhcmdzID0+IHt9YFxuICAgICAgLy8gNS4gYGFzeW5jIGZ1bmN0aW9uKGFyZ3MpIHtjb2RlfWBcbiAgICAgIC8vIDYuIGBhc3luYyAoYXJncykgPT4ge31gXG4gICAgICAvLyA3LiBgYXN5bmMgYXJncyA9PiB7fWBcbiAgICAgIGNvbnN0IGlzQXJyb3dXaXRob3V0UGFyZW5zID0gL15bYS16QS1aMC05X10rXFxzKj0+L2kudGVzdChmblN0cik7XG4gICAgICBjb25zdCBhcHBlbmRGdW5jdGlvbiA9XG4gICAgICAgICFmblN0ci5zdGFydHNXaXRoKCdmdW5jdGlvbicpICYmXG4gICAgICAgICFmblN0ci5zdGFydHNXaXRoKCdhc3luYycpICYmXG4gICAgICAgICFmblN0ci5zdGFydHNXaXRoKCcoJykgJiZcbiAgICAgICAgIWlzQXJyb3dXaXRob3V0UGFyZW5zO1xuXG4gICAgICByZXR1cm4gYHJldHVybiAoJHthcHBlbmRGdW5jdGlvbiA/ICdmdW5jdGlvbiAnIDogJyd9JHtmblN0cn0pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylgO1xuICAgIH07XG5cbiAgICBjb25zdCBvYmpUb1JldHVybiA9IEpTT04ucGFyc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeShpbmZvLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBzaG91bGROb3RTZXJpYWxpemVGbiA9IGlzRm9yUGx1Z2luICYmIGtleSA9PT0gJ29uU2F2ZSc7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgJiYgIXNob3VsZE5vdFNlcmlhbGl6ZUZuKSB7XG4gICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZUZuKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KVxuICAgICk7XG5cbiAgICBpZiAoaXNGb3JQbHVnaW4pIHtcbiAgICAgIG9ialRvUmV0dXJuLm9uU2F2ZSA9IGluZm8ub25TYXZlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmpUb1JldHVybjtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHByZXBhcmVDb21wb25lbnRTcGVjVG9TZW5kKHNwZWM6IENvbXBvbmVudCk6IENvbXBvbmVudCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnRoaXMuc2VyaWFsaXplSW5jbHVkaW5nRnVuY3Rpb25zKHNwZWMpLFxuICAgICAgY2xhc3M6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIHJlZ2lzdGVyQmxvY2soY29tcG9uZW50OiBhbnksIG9wdGlvbnM6IENvbXBvbmVudCkge1xuICAgIHRoaXMucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RlckNvbXBvbmVudChjb21wb25lbnQ6IGFueSwgb3B0aW9uczogQ29tcG9uZW50KSB7XG4gICAgY29uc3Qgc3BlYyA9IHtcbiAgICAgIGNsYXNzOiBjb21wb25lbnQsXG4gICAgICAuLi5jb21wb25lbnQuYnVpbGRlck9wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH07XG4gICAgdGhpcy5hZGRDb21wb25lbnQoc3BlYyk7XG4gICAgY29uc3QgZWRpdGFibGUgPVxuICAgICAgb3B0aW9ucy5tb2RlbHMgJiYgdGhpcy5zaW5nbGV0b25JbnN0YW5jZS5lZGl0aW5nTW9kZWxcbiAgICAgICAgPyBpc0Jyb3dzZXIgJiYgb3B0aW9ucy5tb2RlbHMuaW5jbHVkZXModGhpcy5zaW5nbGV0b25JbnN0YW5jZS5lZGl0aW5nTW9kZWwpXG4gICAgICAgIDogaXNCcm93c2VyO1xuICAgIGlmIChlZGl0YWJsZSkge1xuICAgICAgY29uc3Qgc2VuZFNwZWMgPSB0aGlzLnByZXBhcmVDb21wb25lbnRTcGVjVG9TZW5kKHNwZWMpO1xuICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnYnVpbGRlci5yZWdpc3RlckNvbXBvbmVudCcsXG4gICAgICAgICAgZGF0YTogc2VuZFNwZWMsXG4gICAgICAgIH0sXG4gICAgICAgICcqJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBhZGRDb21wb25lbnQoY29tcG9uZW50OiBDb21wb25lbnQpIHtcbiAgICBjb25zdCBjdXJyZW50ID0gZmluZCh0aGlzLmNvbXBvbmVudHMsIGl0ZW0gPT4gaXRlbS5uYW1lID09PSBjb21wb25lbnQubmFtZSk7XG4gICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgIC8vIEZJWE1FOiB3aHkgZG9lcyBzb21ldGltZXMgd2UgZ2V0IGFuIGV4dHJhIHBvc3Qgd2l0aG91dCBjbGFzcyAtIHByb2JhYmx5XG4gICAgICAvLyBmcm9tIHBvc3RNZXNzYWdlIGhhbmRsZXIgd3JvbmcgaW4gc29tZSBwbGFjZVxuICAgICAgaWYgKGN1cnJlbnQuY2xhc3MgJiYgIWNvbXBvbmVudC5jbGFzcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmNvbXBvbmVudHMuc3BsaWNlKHRoaXMuY29tcG9uZW50cy5pbmRleE9mKGN1cnJlbnQpLCAxLCBjb21wb25lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IHN0eWxlIGd1aWRlLCBldGMgb2ZmIHRoaXMgc3lzdGVtIGFzIHdlbGw/XG4gIHN0YXRpYyBjb21wb25lbnQoaW5mbzogUGFydGlhbDxDb21wb25lbnQ+ID0ge30pIHtcbiAgICByZXR1cm4gKGNvbXBvbmVudDogQ2xhc3MpID0+IHtcbiAgICAgIGNvbnN0IHNwZWMgPSB7IC4uLmluZm8sIGNsYXNzOiBjb21wb25lbnQgfTtcbiAgICAgIGlmICghc3BlYy5uYW1lKSB7XG4gICAgICAgIHNwZWMubmFtZSA9IGNvbXBvbmVudC5uYW1lO1xuICAgICAgfVxuICAgICAgdGhpcy5hZGRDb21wb25lbnQoc3BlYyBhcyBDb21wb25lbnQpO1xuXG4gICAgICBjb25zdCBzZW5kU3BlYyA9IHRoaXMucHJlcGFyZUNvbXBvbmVudFNwZWNUb1NlbmQoc3BlYyBhcyBDb21wb25lbnQpO1xuICAgICAgLy8gVE9ETzogc2VyaWFsaXplIGNvbXBvbmVudCBuYW1lIGFuZCBpbnB1dHNcbiAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ2J1aWxkZXIucmVnaXN0ZXJDb21wb25lbnQnLFxuICAgICAgICAgICAgZGF0YTogc2VuZFNwZWMsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAnKidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBpc1JlYWN0ID0gZmFsc2U7XG4gIHN0YXRpYyBzZGtJbmZvID0gdW5kZWZpbmVkIGFzXG4gICAgfCB7XG4gICAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgICAgdmVyc2lvbjogc3RyaW5nO1xuICAgICAgfVxuICAgIHwgdW5kZWZpbmVkO1xuXG4gIHN0YXRpYyBnZXQgQ29tcG9uZW50KCkge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudDtcbiAgfVxuXG4gIHByaXZhdGUgZXZlbnRzUXVldWU6IEV2ZW50W10gPSBbXTtcblxuICBwcml2YXRlIHRocm90dGxlZENsZWFyRXZlbnRzUXVldWUgPSB0aHJvdHRsZSgoKSA9PiB7XG4gICAgdGhpcy5wcm9jZXNzRXZlbnRzUXVldWUoKTtcbiAgICAvLyBFeHRlbmQgdGhlIHNlc3Npb24gY29va2llXG4gICAgdGhpcy5zZXRDb29raWUoc2Vzc2lvblN0b3JhZ2VLZXksIHRoaXMuc2Vzc2lvbklkLCBkYXRlUGx1c01pbnV0ZXMoMzApKTtcbiAgfSwgNSk7XG5cbiAgcHJpdmF0ZSBwcm9jZXNzRXZlbnRzUXVldWUoKSB7XG4gICAgaWYgKCF0aGlzLmV2ZW50c1F1ZXVlLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBldmVudHMgPSB0aGlzLmV2ZW50c1F1ZXVlO1xuICAgIHRoaXMuZXZlbnRzUXVldWUgPSBbXTtcblxuICAgIGNvbnN0IGZ1bGxVc2VyQXR0cmlidXRlcyA9IHtcbiAgICAgIC4uLkJ1aWxkZXIub3ZlcnJpZGVVc2VyQXR0cmlidXRlcyxcbiAgICAgIC4uLnRoaXMudHJhY2tpbmdVc2VyQXR0cmlidXRlcyxcbiAgICB9O1xuICAgIGZvciAoY29uc3QgZXZlbnQgb2YgZXZlbnRzKSB7XG4gICAgICBpZiAoIWV2ZW50LmRhdGEubWV0YWRhdGEpIHtcbiAgICAgICAgZXZlbnQuZGF0YS5tZXRhZGF0YSA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKCFldmVudC5kYXRhLm1ldGFkYXRhLnVzZXIpIHtcbiAgICAgICAgZXZlbnQuZGF0YS5tZXRhZGF0YS51c2VyID0ge307XG4gICAgICB9XG4gICAgICBPYmplY3QuYXNzaWduKGV2ZW50LmRhdGEubWV0YWRhdGEudXNlciwgZnVsbFVzZXJBdHRyaWJ1dGVzLCBldmVudC5kYXRhLm1ldGFkYXRhLnVzZXIpO1xuICAgIH1cblxuICAgIGNvbnN0IGhvc3QgPSB0aGlzLmhvc3Q7XG5cbiAgICBnZXRGZXRjaCgpKGAke2hvc3R9L2FwaS92MS90cmFja2AsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBldmVudHMgfSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIC4uLnRoaXMuZ2V0U2RrSGVhZGVycygpLFxuICAgICAgfSxcbiAgICAgIG1vZGU6ICdjb3JzJyxcbiAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAvLyBOb3QgdGhlIGVuZCBvZiB0aGUgd29ybGRcbiAgICB9KTtcbiAgfVxuXG4gIGVudjogc3RyaW5nID0gJ3Byb2R1Y3Rpb24nO1xuXG4gIHNlc3Npb25JZCA9IHRoaXMuZ2V0U2Vzc2lvbklkKCk7XG5cbiAgdGFyZ2V0Q29udGVudCA9IHRydWU7XG5cbiAgY29udGVudFBlclJlcXVlc3QgPSAxO1xuXG4gIC8vIFRPRE86IG1ha2UgYXJyYXkgb3IgZnVuY3Rpb25cbiAgYWxsb3dDdXN0b21Gb250cyA9IHRydWU7XG5cbiAgcHJpdmF0ZSBjb29raWVzOiBDb29raWVzIHwgbnVsbCA9IG51bGw7XG5cbiAgLy8gVE9ETzogYXBpIG9wdGlvbnMgb2JqZWN0XG4gIHByaXZhdGUgY2FjaGVidXN0ID0gZmFsc2U7XG4gIHByaXZhdGUgb3ZlcnJpZGVQYXJhbXMgPSAnJztcbiAgcHJpdmF0ZSBub0NhY2hlID0gZmFsc2U7XG4gIHByaXZhdGUgcHJldmlldyA9IGZhbHNlO1xuXG4gIGdldCBicm93c2VyVHJhY2tpbmdEaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gQnVpbGRlci5pc0Jyb3dzZXIgJiYgQm9vbGVhbigod2luZG93IGFzIGFueSkuYnVpbGRlck5vVHJhY2sgfHwgIW5hdmlnYXRvci5jb29raWVFbmFibGVkKTtcbiAgfVxuXG4gIGdldCBjYW5UcmFjaygpIHtcbiAgICByZXR1cm4gdGhpcy5jYW5UcmFjayQudmFsdWU7XG4gIH1cblxuICBzZXQgY2FuVHJhY2soY2FuVHJhY2spIHtcbiAgICB0aGlzLmhhc092ZXJyaWRkZW5DYW5UcmFjayA9IHRydWU7XG4gICAgaWYgKHRoaXMuY2FuVHJhY2sgIT09IGNhblRyYWNrKSB7XG4gICAgICB0aGlzLmNhblRyYWNrJC5uZXh0KGNhblRyYWNrKTtcbiAgICB9XG4gIH1cblxuICBnZXQgYXBpVmVyc2lvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hcGlWZXJzaW9uJC52YWx1ZTtcbiAgfVxuXG4gIHNldCBhcGlWZXJzaW9uKGFwaVZlcnNpb246IEFwaVZlcnNpb24gfCB1bmRlZmluZWQpIHtcbiAgICBpZiAodGhpcy5hcGlWZXJzaW9uICE9PSBhcGlWZXJzaW9uKSB7XG4gICAgICB0aGlzLmFwaVZlcnNpb24kLm5leHQoYXBpVmVyc2lvbik7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGFwaUVuZHBvaW50KCkge1xuICAgIHJldHVybiB0aGlzLmFwaUVuZHBvaW50JC52YWx1ZTtcbiAgfVxuXG4gIHNldCBhcGlFbmRwb2ludChhcGlFbmRwb2ludDogJ2NvbnRlbnQnIHwgJ3F1ZXJ5Jykge1xuICAgIGlmICh0aGlzLmFwaUVuZHBvaW50ICE9PSBhcGlFbmRwb2ludCkge1xuICAgICAgdGhpcy5hcGlFbmRwb2ludCQubmV4dChhcGlFbmRwb2ludCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpY3RhdGVzIHdoaWNoIEFQSSBlbmRwb2ludCBpcyB1c2VkIHdoZW4gZmV0Y2hpbmcgY29udGVudC4gQWxsb3dzIGAnY29udGVudCdgIGFuZCBgJ3F1ZXJ5J2AuXG4gICAqIERlZmF1bHRzIHRvIGAncXVlcnknYC5cbiAgICovXG4gIHByaXZhdGUgYXBpRW5kcG9pbnQkID0gbmV3IEJlaGF2aW9yU3ViamVjdDwnY29udGVudCcgfCAncXVlcnknPigncXVlcnknKTtcbiAgcHJpdmF0ZSBhcGlWZXJzaW9uJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8QXBpVmVyc2lvbiB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcbiAgcHJpdmF0ZSBjYW5UcmFjayQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KCF0aGlzLmJyb3dzZXJUcmFja2luZ0Rpc2FibGVkKTtcbiAgcHJpdmF0ZSBoYXNPdmVycmlkZGVuQ2FuVHJhY2sgPSBmYWxzZTtcbiAgcHJpdmF0ZSBhcGlLZXkkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgcHJpdmF0ZSBhdXRoVG9rZW4kID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgcHJpdmF0ZSBjb250ZW50SWQkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICB1c2VyQXR0cmlidXRlc0NoYW5nZWQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGFueT4obnVsbCk7XG5cbiAgZ2V0IGVkaXRpbmdNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmVkaXRpbmdNb2RlJC52YWx1ZTtcbiAgfVxuXG4gIHNldCBlZGl0aW5nTW9kZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5lZGl0aW5nTW9kZSkge1xuICAgICAgdGhpcy5lZGl0aW5nTW9kZSQubmV4dCh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgZWRpdGluZ01vZGUkID0gbmV3IEJlaGF2aW9yU3ViamVjdChpc0lmcmFtZSk7XG5cbiAgZ2V0IGVkaXRpbmdNb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5lZGl0aW5nTW9kZWwkLnZhbHVlO1xuICB9XG5cbiAgc2V0IGVkaXRpbmdNb2RlbCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5lZGl0aW5nTW9kZWwpIHtcbiAgICAgIHRoaXMuZWRpdGluZ01vZGVsJC5uZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZpbmRQYXJlbnRFbGVtZW50KFxuICAgIHRhcmdldDogSFRNTEVsZW1lbnQsXG4gICAgY2FsbGJhY2s6IChlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4gYm9vbGVhbixcbiAgICBjaGVja0VsZW1lbnQgPSB0cnVlXG4gICk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IHBhcmVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gY2hlY2tFbGVtZW50ID8gdGFyZ2V0IDogdGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgZG8ge1xuICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBjYWxsYmFjayhwYXJlbnQpO1xuICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgIH1cbiAgICB9IHdoaWxlICgocGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQpKTtcblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kQnVpbGRlclBhcmVudCh0YXJnZXQ6IEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZFBhcmVudEVsZW1lbnQodGFyZ2V0LCBlbCA9PiB7XG4gICAgICBjb25zdCBpZCA9IGVsLmdldEF0dHJpYnV0ZSgnYnVpbGRlci1pZCcpIHx8IGVsLmlkO1xuICAgICAgcmV0dXJuIEJvb2xlYW4oaWQgJiYgaWQuaW5kZXhPZignYnVpbGRlci0nKSA9PT0gMCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBUT0RPOiBkZWNvcmF0b3IgdG8gZG8gdGhpcyBzdHVmZiB3aXRoIHRoZSBnZXQvc2V0IChob3cgZG8gd2l0aCB0eXBpbmcgdG9vPyBjb21waWxlcj8pXG4gIGVkaXRpbmdNb2RlbCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PG51bGwgfCBzdHJpbmc+KG51bGwpO1xuXG4gIHNldFVzZXJBZ2VudCh1c2VyQWdlbnQ6IHN0cmluZykge1xuICAgIHRoaXMudXNlckFnZW50ID0gdXNlckFnZW50IHx8ICcnO1xuICB9XG4gIHVzZXJBZ2VudDogc3RyaW5nID0gKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvci51c2VyQWdlbnQpIHx8ICcnO1xuXG4gIHRyYWNraW5nSG9va3M6IFRyYWNraW5nSG9va1tdID0gW107XG5cbiAgLyoqXG4gICAqIFNldCBhIGhvb2sgdG8gbW9kaWZ5IGV2ZW50cyBiZWluZyB0cmFja2VkIGZyb20gYnVpbGRlciwgc3VjaCBhcyBpbXByZXNzaW9ucyBhbmQgY2xpY2tzXG4gICAqXG4gICAqIEZvciBleGFtcGxlLCB0byB0cmFjayB0aGUgbW9kZWwgSUQgb2YgZWFjaCBldmVudCBhc3NvY2lhdGVkIHdpdGggY29udGVudCBmb3IgcXVlcnlpbmdcbiAgICogYnkgbW9kZSwgeW91IGNhbiBkb1xuICAgKlxuICAgKiAgICBidWlsZGVyLnNldFRyYWNraW5nSG9vaygoZXZlbnQsIGNvbnRleHQpID0+IHtcbiAgICogICAgICBpZiAoY29udGV4dC5jb250ZW50KSB7XG4gICAqICAgICAgICBldmVudC5kYXRhLm1ldGFkYXRhLm1vZGVsSWQgPSBjb250ZXh0LmNvbnRlbnQubW9kZWxJZFxuICAgKiAgICAgIH1cbiAgICogICAgfSlcbiAgICovXG4gIHNldFRyYWNraW5nSG9vayhob29rOiBUcmFja2luZ0hvb2spIHtcbiAgICB0aGlzLnRyYWNraW5nSG9va3MucHVzaChob29rKTtcbiAgfVxuXG4gIHRyYWNrKGV2ZW50TmFtZTogc3RyaW5nLCBwcm9wZXJ0aWVzOiBQYXJ0aWFsPEV2ZW50RGF0YT4gPSB7fSwgY29udGV4dD86IGFueSkge1xuICAgIC8vIFRPRE86IHF1ZXVlIHVwIHRyYWNrIHJlcXVlc3RzIGFuZCBmaXJlIHRoZW0gb2ZmIHdoZW4gY2FuVHJhY2sgc2V0IHRvIHRydWUgLSBvdGhlcndpc2UgbWF5IGdldCBsb3RzIG9mIGNsaWNrcyB3aXRoIG5vIGltcHJlc3Npb25zXG4gICAgaWYgKGlzSWZyYW1lIHx8ICFpc0Jyb3dzZXIgfHwgQnVpbGRlci5pc1ByZXZpZXdpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhcGlLZXkgPSB0aGlzLmFwaUtleTtcbiAgICBpZiAoIWFwaUtleSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ0J1aWxkZXIgaW50ZWdyYXRpb24gZXJyb3I6IExvb2tzIGxpa2UgdGhlIEJ1aWxkZXIgU0RLIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCBwcm9wZXJseSAoeW91ciBBUEkga2V5IGhhcyBub3QgYmVlbiBzZXQpLiBNYWtlIHN1cmUgeW91IGFyZSBjYWxsaW5nIGBidWlsZGVyLmluaXQoXCLCq1lPVVItQVBJLUtFWcK7XCIpO2AgYXMgZWFybHkgYXMgcG9zc2libGUgaW4geW91ciBhcHBsaWNhdGlvblxcJ3MgY29kZS4nXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBldmVudERhdGE6IEV2ZW50ID0gSlNPTi5wYXJzZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdHlwZTogZXZlbnROYW1lLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgLi4ub21pdChwcm9wZXJ0aWVzLCAnbWV0YScpLFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBzZGtWZXJzaW9uOiBCdWlsZGVyLlZFUlNJT04sXG4gICAgICAgICAgICB1cmw6IGxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzLm1ldGEsXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzLm1ldGFkYXRhLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3duZXJJZDogYXBpS2V5LFxuICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzOiB0aGlzLmdldFVzZXJBdHRyaWJ1dGVzKCksXG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgICAgICB2aXNpdG9ySWQ6IHRoaXMudmlzaXRvcklkLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuXG4gICAgZm9yIChjb25zdCBob29rIG9mIHRoaXMudHJhY2tpbmdIb29rcykge1xuICAgICAgY29uc3QgcmV0dXJuVmFsdWUgPSBob29rKGV2ZW50RGF0YSwgY29udGV4dCB8fCB7fSk7XG4gICAgICBpZiAocmV0dXJuVmFsdWUpIHtcbiAgICAgICAgZXZlbnREYXRhID0gcmV0dXJuVmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYmF0Y2ggZXZlbnRzXG4gICAgdGhpcy5ldmVudHNRdWV1ZS5wdXNoKGV2ZW50RGF0YSk7XG5cbiAgICBpZiAodGhpcy5jYW5UcmFjaykge1xuICAgICAgdGhpcy50aHJvdHRsZWRDbGVhckV2ZW50c1F1ZXVlKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Vzc2lvbklkKCkge1xuICAgIGxldCBzZXNzaW9uSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIgJiYgdHlwZW9mIHNlc3Npb25TdG9yYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZXNzaW9uSWQgPSB0aGlzLmdldENvb2tpZShzZXNzaW9uU3RvcmFnZUtleSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdTZXNzaW9uIHN0b3JhZ2UgZXJyb3InLCBlcnIpO1xuICAgICAgLy8gSXQncyBva1xuICAgIH1cblxuICAgIGlmICghc2Vzc2lvbklkKSB7XG4gICAgICBzZXNzaW9uSWQgPSB1dWlkKCk7XG4gICAgfVxuXG4gICAgLy8gR2l2ZSB0aGUgYXBwIGEgc2Vjb25kIHRvIHN0YXJ0IHVwIGFuZCBzZXQgY2FuVHJhY2sgdG8gZmFsc2UgaWYgbmVlZGVkXG4gICAgaWYgKEJ1aWxkZXIuaXNCcm93c2VyKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAodGhpcy5jYW5UcmFjaykge1xuICAgICAgICAgICAgdGhpcy5zZXRDb29raWUoc2Vzc2lvblN0b3JhZ2VLZXksIHNlc3Npb25JZCwgZGF0ZVBsdXNNaW51dGVzKDMwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKCdDb29raWUgc2V0dGluZyBlcnJvcicsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc2Vzc2lvbklkO1xuICB9XG5cbiAgLy8gU2V0IHRoaXMgdG8gY29udHJvbCB0aGUgdXNlcklkXG4gIC8vIFRPRE86IGFsbG93IGNoYW5naW5nIGl0IG1pZCBzZXNzaW9uIGFuZCB1cGRhdGluZyBleGlzdGluZyBkYXRhIHRvIGJlIGFzc29jaWF0ZWRcbiAgLy8gZS5nLiBmb3Igd2hlbiBhIHVzZXIgbmF2aWdhdGVzIGFuZCB0aGVuIGxvZ3MgaW5cbiAgdmlzaXRvcklkOiBzdHJpbmcgPSB0aGlzLmdldFZpc2l0b3JJZCgpO1xuXG4gIGdldFZpc2l0b3JJZCgpIHtcbiAgICBpZiAodGhpcy52aXNpdG9ySWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnZpc2l0b3JJZDtcbiAgICB9XG4gICAgbGV0IHZpc2l0b3JJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChCdWlsZGVyLmlzQnJvd3NlciAmJiB0eXBlb2YgbG9jYWxTdG9yYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBUT0RPOiBjb29raWUgaW5zdGVhZD9cbiAgICAgICAgdmlzaXRvcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0obG9jYWxTdG9yYWdlS2V5KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ0xvY2FsIHN0b3JhZ2UgZXJyb3InLCBlcnIpO1xuICAgICAgLy8gSXQncyBva1xuICAgIH1cblxuICAgIGlmICghdmlzaXRvcklkKSB7XG4gICAgICB2aXNpdG9ySWQgPSB1dWlkKCk7XG4gICAgfVxuXG4gICAgdGhpcy52aXNpdG9ySWQgPSB2aXNpdG9ySWQ7XG5cbiAgICAvLyBHaXZlIHRoZSBhcHAgYSBzZWNvbmQgdG8gc3RhcnQgdXAgYW5kIHNldCBjYW5UcmFjayB0byBmYWxzZSBpZiBuZWVkZWRcbiAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0aGlzLmNhblRyYWNrICYmIHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09ICd1bmRlZmluZWQnICYmIHZpc2l0b3JJZCkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obG9jYWxTdG9yYWdlS2V5LCB2aXNpdG9ySWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5kZWJ1ZygnU2Vzc2lvbiBzdG9yYWdlIGVycm9yJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB2aXNpdG9ySWQ7XG4gIH1cblxuICB0cmFja0ltcHJlc3Npb24oY29udGVudElkOiBzdHJpbmcsIHZhcmlhdGlvbklkPzogc3RyaW5nLCBwcm9wZXJ0aWVzPzogYW55LCBjb250ZXh0PzogYW55KSB7XG4gICAgaWYgKGlzSWZyYW1lIHx8ICFpc0Jyb3dzZXIgfHwgQnVpbGRlci5pc1ByZXZpZXdpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gVE9ETzogdXNlIHRoaXMudHJhY2sgbWV0aG9kXG4gICAgdGhpcy50cmFjayhcbiAgICAgICdpbXByZXNzaW9uJyxcbiAgICAgIHtcbiAgICAgICAgY29udGVudElkLFxuICAgICAgICB2YXJpYXRpb25JZDogdmFyaWF0aW9uSWQgIT09IGNvbnRlbnRJZCA/IHZhcmlhdGlvbklkIDogdW5kZWZpbmVkLFxuICAgICAgICBtZXRhZGF0YTogcHJvcGVydGllcyxcbiAgICAgIH0sXG4gICAgICBjb250ZXh0XG4gICAgKTtcbiAgfVxuXG4gIHRyYWNrQ29udmVyc2lvbihhbW91bnQ/OiBudW1iZXIsIGN1c3RvbVByb3BlcnRpZXM/OiBhbnkpOiB2b2lkO1xuICB0cmFja0NvbnZlcnNpb24oXG4gICAgYW1vdW50PzogbnVtYmVyLFxuICAgIGNvbnRlbnRJZD86IHN0cmluZyB8IGFueSxcbiAgICB2YXJpYXRpb25JZD86IHN0cmluZyxcbiAgICBjdXN0b21Qcm9wZXJ0aWVzPzogYW55LFxuICAgIGNvbnRleHQ/OiBhbnlcbiAgKSB7XG4gICAgaWYgKGlzSWZyYW1lIHx8ICFpc0Jyb3dzZXIgfHwgQnVpbGRlci5pc1ByZXZpZXdpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWV0YSA9IHR5cGVvZiBjb250ZW50SWQgPT09ICdvYmplY3QnID8gY29udGVudElkIDogY3VzdG9tUHJvcGVydGllcztcbiAgICBsZXQgdXNlQ29udGVudElkID0gdHlwZW9mIGNvbnRlbnRJZCA9PT0gJ3N0cmluZycgPyBjb250ZW50SWQgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoIXVzZUNvbnRlbnRJZCAmJiAhY29udGVudElkICYmIHRoaXMuY29udGVudElkKSB7XG4gICAgICB1c2VDb250ZW50SWQgPSB0aGlzLmNvbnRlbnRJZDtcbiAgICB9XG5cbiAgICBsZXQgdXNlVmFyaWF0aW9uSWQgPSB2YXJpYXRpb25JZDtcbiAgICBpZiAoIXVzZVZhcmlhdGlvbklkICYmIHVzZUNvbnRlbnRJZCkge1xuICAgICAgdXNlVmFyaWF0aW9uSWQgPSB0aGlzLmdldFRlc3RDb29raWUodXNlQ29udGVudElkKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYWNrKFxuICAgICAgJ2NvbnZlcnNpb24nLFxuICAgICAge1xuICAgICAgICBhbW91bnQsXG4gICAgICAgIHZhcmlhdGlvbklkOlxuICAgICAgICAgIHVzZVZhcmlhdGlvbklkICYmIHVzZUNvbnRlbnRJZCAmJiB1c2VWYXJpYXRpb25JZCAhPT0gdXNlQ29udGVudElkXG4gICAgICAgICAgICA/IHVzZVZhcmlhdGlvbklkXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgbWV0YSxcbiAgICAgICAgY29udGVudElkOiB1c2VDb250ZW50SWQsXG4gICAgICB9LFxuICAgICAgY29udGV4dFxuICAgICk7XG4gIH1cblxuICBhdXRvVHJhY2sgPSAhQnVpbGRlci5pc0Jyb3dzZXJcbiAgICA/IGZhbHNlXG4gICAgOiAhdGhpcy5pc0RldmVsb3BtZW50RW52ICYmXG4gICAgICAhKEJ1aWxkZXIuaXNCcm93c2VyICYmIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdidWlsZGVyLnByZXZpZXc9JykgIT09IC0xKTtcblxuICAvLyBUT0RPOiBzZXQgdGhpcyBmb3IgUUFcbiAgcHJpdmF0ZSBnZXQgaXNEZXZlbG9wbWVudEVudigpIHtcbiAgICAvLyBBdXRvbWF0aWMgZGV0ZXJtaW5pbmcgb2YgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRcbiAgICByZXR1cm4gKFxuICAgICAgQnVpbGRlci5pc0lmcmFtZSB8fFxuICAgICAgKEJ1aWxkZXIuaXNCcm93c2VyICYmIChsb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHwgbG9jYXRpb24ucG9ydCAhPT0gJycpKSB8fFxuICAgICAgdGhpcy5lbnYgIT09ICdwcm9kdWN0aW9uJ1xuICAgICk7XG4gIH1cblxuICB0cmFja0ludGVyYWN0aW9uKFxuICAgIGNvbnRlbnRJZDogc3RyaW5nLFxuICAgIHZhcmlhdGlvbklkPzogc3RyaW5nLFxuICAgIGFscmVhZHlUcmFja2VkT25lID0gZmFsc2UsXG4gICAgZXZlbnQ/OiBNb3VzZUV2ZW50LFxuICAgIGNvbnRleHQ/OiBhbnlcbiAgKSB7XG4gICAgaWYgKGlzSWZyYW1lIHx8ICFpc0Jyb3dzZXIgfHwgQnVpbGRlci5pc1ByZXZpZXdpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQgJiYgKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCk7XG4gICAgY29uc3QgdGFyZ2V0QnVpbGRlckVsZW1lbnQgPSB0YXJnZXQgJiYgdGhpcy5maW5kQnVpbGRlclBhcmVudCh0YXJnZXQpO1xuXG4gICAgZnVuY3Rpb24gcm91bmQobnVtOiBudW1iZXIpIHtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bSAqIDEwMDApIC8gMTAwMDtcbiAgICB9XG5cbiAgICBjb25zdCBtZXRhZGF0YTogYW55ID0ge307XG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICBjb25zdCB7IGNsaWVudFgsIGNsaWVudFkgfSA9IGV2ZW50O1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBjb25zdCB0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB4T2Zmc2V0ID0gY2xpZW50WCAtIHRhcmdldFJlY3QubGVmdDtcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IGNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcDtcblxuICAgICAgICBjb25zdCB4UmF0aW8gPSByb3VuZCh4T2Zmc2V0IC8gdGFyZ2V0UmVjdC53aWR0aCk7XG4gICAgICAgIGNvbnN0IHlSYXRpbyA9IHJvdW5kKHlPZmZzZXQgLyB0YXJnZXRSZWN0LmhlaWdodCk7XG5cbiAgICAgICAgbWV0YWRhdGEudGFyZ2V0T2Zmc2V0ID0ge1xuICAgICAgICAgIHg6IHhSYXRpbyxcbiAgICAgICAgICB5OiB5UmF0aW8sXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0QnVpbGRlckVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UmVjdCA9IHRhcmdldEJ1aWxkZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB4T2Zmc2V0ID0gY2xpZW50WCAtIHRhcmdldFJlY3QubGVmdDtcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IGNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcDtcblxuICAgICAgICBjb25zdCB4UmF0aW8gPSByb3VuZCh4T2Zmc2V0IC8gdGFyZ2V0UmVjdC53aWR0aCk7XG4gICAgICAgIGNvbnN0IHlSYXRpbyA9IHJvdW5kKHlPZmZzZXQgLyB0YXJnZXRSZWN0LmhlaWdodCk7XG5cbiAgICAgICAgbWV0YWRhdGEuYnVpbGRlclRhcmdldE9mZnNldCA9IHtcbiAgICAgICAgICB4OiB4UmF0aW8sXG4gICAgICAgICAgeTogeVJhdGlvLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGJ1aWxkZXJJZCA9XG4gICAgICB0YXJnZXRCdWlsZGVyRWxlbWVudCAmJlxuICAgICAgKHRhcmdldEJ1aWxkZXJFbGVtZW50LmdldEF0dHJpYnV0ZSgnYnVpbGRlci1pZCcpIHx8IHRhcmdldEJ1aWxkZXJFbGVtZW50LmlkKTtcblxuICAgIGlmIChidWlsZGVySWQgJiYgdGFyZ2V0QnVpbGRlckVsZW1lbnQpIHtcbiAgICAgIG1ldGFkYXRhLmJ1aWxkZXJFbGVtZW50SW5kZXggPSAoW10gYXMgRWxlbWVudFtdKS5zbGljZVxuICAgICAgICAuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJ1aWxkZXJJZCkpXG4gICAgICAgIC5pbmRleE9mKHRhcmdldEJ1aWxkZXJFbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYWNrKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgIHtcbiAgICAgICAgY29udGVudElkLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgdmFyaWF0aW9uSWQ6IHZhcmlhdGlvbklkICE9PSBjb250ZW50SWQgPyB2YXJpYXRpb25JZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgdW5pcXVlOiAhYWxyZWFkeVRyYWNrZWRPbmUsXG4gICAgICAgIHRhcmdldEJ1aWxkZXJFbGVtZW50OiBidWlsZGVySWQgfHwgdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIGNvbnRleHRcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIG92ZXJyaWRlVXNlckF0dHJpYnV0ZXM6IFBhcnRpYWw8VXNlckF0dHJpYnV0ZXM+ID0ge307XG5cbiAgdHJhY2tpbmdVc2VyQXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuXG4gIGNvbXBvbmVudChpbmZvOiBQYXJ0aWFsPENvbXBvbmVudD4gPSB7fSkge1xuICAgIHJldHVybiBCdWlsZGVyLmNvbXBvbmVudChpbmZvKTtcbiAgfVxuXG4gIGdldCBhcGlLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXBpS2V5JC52YWx1ZTtcbiAgfVxuXG4gIHNldCBhcGlLZXkoa2V5OiBzdHJpbmcgfCBudWxsKSB7XG4gICAgdGhpcy5hcGlLZXkkLm5leHQoa2V5KTtcbiAgfVxuXG4gIGdldCBjb250ZW50SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudElkJC52YWx1ZTtcbiAgfVxuXG4gIHNldCBjb250ZW50SWQoaWQ6IHN0cmluZyB8IG51bGwpIHtcbiAgICB0aGlzLmNvbnRlbnRJZCQubmV4dChpZCk7XG4gIH1cblxuICBnZXQgYXV0aFRva2VuKCkge1xuICAgIHJldHVybiB0aGlzLmF1dGhUb2tlbiQudmFsdWU7XG4gIH1cblxuICBzZXQgYXV0aFRva2VuKHRva2VuOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgdGhpcy5hdXRoVG9rZW4kLm5leHQodG9rZW4pO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYXBpS2V5OiBzdHJpbmcgfCBudWxsID0gbnVsbCxcbiAgICBwcm90ZWN0ZWQgcmVxdWVzdD86IEluY29taW5nTWVzc2FnZSxcbiAgICBwcm90ZWN0ZWQgcmVzcG9uc2U/OiBTZXJ2ZXJSZXNwb25zZSxcbiAgICBmb3JjZU5ld0luc3RhbmNlID0gZmFsc2UsXG4gICAgYXV0aFRva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbCxcbiAgICBhcGlWZXJzaW9uPzogQXBpVmVyc2lvblxuICApIHtcbiAgICAvLyBUT0RPOiB1c2UgYSB3aW5kb3cgdmFyaWFibGUgZm9yIHRoaXMgcGVyaGFwcywgZS5nLiBiYyB3ZWJjb21wb25lbnRzIG1heSBiZSBsb2FkaW5nIGJ1aWxkZXIgdHdpY2VcbiAgICAvLyB3aXRoIGl0J3MgYW5kIHJlYWN0ICh1c2Ugcm9sbHVwIGJ1aWxkIHRvIGZpeClcbiAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIgJiYgIWZvcmNlTmV3SW5zdGFuY2UgJiYgQnVpbGRlci5zaW5nbGV0b25JbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIEJ1aWxkZXIuc2luZ2xldG9uSW5zdGFuY2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVxdWVzdCAmJiB0aGlzLnJlc3BvbnNlKSB7XG4gICAgICB0aGlzLnNldFVzZXJBZ2VudCgodGhpcy5yZXF1ZXN0LmhlYWRlcnNbJ3VzZXItYWdlbnQnXSBhcyBzdHJpbmcpIHx8ICcnKTtcbiAgICAgIHRoaXMuY29va2llcyA9IG5ldyBDb29raWVzKHRoaXMucmVxdWVzdCwgdGhpcy5yZXNwb25zZSk7XG4gICAgfVxuXG4gICAgaWYgKGFwaUtleSkge1xuICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgfVxuICAgIGlmIChhcGlWZXJzaW9uKSB7XG4gICAgICB0aGlzLmFwaVZlcnNpb24gPSBhcGlWZXJzaW9uO1xuICAgIH1cbiAgICBpZiAoYXV0aFRva2VuKSB7XG4gICAgICB0aGlzLmF1dGhUb2tlbiA9IGF1dGhUb2tlbjtcbiAgICB9XG4gICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgaWYgKEJ1aWxkZXIuaXNFZGl0aW5nKSB7XG4gICAgICAgIHRoaXMuYmluZE1lc3NhZ2VMaXN0ZW5lcnMoKTtcblxuICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ2J1aWxkZXIuYW5pbWF0b3JPcHRpb25zJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHZlcnNpb246IDIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgJyonXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLyBUT0RPOiBwb3N0bWVzc2FnZSB0byBwYXJlbnQgdGhlIGJ1aWxkZXIgaW5mbyBmb3IgZXZlcnkgcGFja2FnZVxuICAgICAgLy8gdHlwZTogJ2J1aWxkZXIuc2RrJywgZGF0YTogeyBuYW1lOiAnQGJ1aWxkZXIuaW8vcmVhY3QnLCB2ZXJzaW9uOiAnMC4xLjIzJyB9XG4gICAgICAvLyAod2luZG93IGFzIGFueSkuQlVJTERFUl9WRVJTSU9OID0gQnVpbGRlci5WRVJTSU9OO1xuICAgICAgLy8gRW5zdXJlIGFsd2F5cyBvbmUgQnVpbGRlciBnbG9iYWwgc2luZ2xldG9uXG4gICAgICAvLyBUT0RPOiBzb21lIHBlb3BsZSB3b24ndCB3YW50IHRoaXMsIGUuZy4gcmFrdXRlblxuICAgICAgLy8gTWF5YmUgaGlkZSB0aGlzIGJlaGluZCBzeW1ib2wgb3Igb24gZG9jdW1lbnQsIGV0Y1xuICAgICAgLy8gaWYgKCh3aW5kb3cgYXMgYW55KS5CdWlsZGVyKSB7XG4gICAgICAvLyAgIEJ1aWxkZXIuY29tcG9uZW50cyA9ICh3aW5kb3cgYXMgYW55KS5CdWlsZGVyLmNvbXBvbmVudHM7XG4gICAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gICAod2luZG93IGFzIGFueSkuQnVpbGRlciA9IEJ1aWxkZXI7XG4gICAgICAvLyB9XG4gICAgfVxuXG4gICAgaWYgKGlzSWZyYW1lKSB7XG4gICAgICB0aGlzLm1lc3NhZ2VGcmFtZUxvYWRlZCgpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IG9uIGRlc3Ryb3kgY2xlYXIgc3Vic2NyaXB0aW9uXG4gICAgdGhpcy5jYW5UcmFjayQuc3Vic2NyaWJlKCh2YWx1ZTogYW55KSA9PiB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXNzaW9uU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHNlc3Npb25TdG9yYWdlS2V5KSkge1xuICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHNlc3Npb25TdG9yYWdlS2V5LCB0aGlzLnNlc3Npb25JZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTZXNzaW9uIHN0b3JhZ2UgZXJyb3InLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ldmVudHNRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLnRocm90dGxlZENsZWFyRXZlbnRzUXVldWUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb29raWVRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmNvb2tpZVF1ZXVlLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldENvb2tpZShpdGVtWzBdLCBpdGVtWzFdKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLmNvb2tpZVF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgIC8vIFRPRE86IGRlZmVyIHNvIHN1YmNsYXNzIGNvbnN0cnVjdG9yIHJ1bnMgYW5kIGluamVjdHMgbG9jYXRpb24gc2VydmljZVxuICAgICAgdGhpcy5zZXRUZXN0c0Zyb21VcmwoKTtcbiAgICAgIC8vIFRPRE86IGRvIHRoaXMgb24gZXZlcnkgcmVxdWVzdCBzZW5kP1xuICAgICAgdGhpcy5nZXRPdmVycmlkZXNGcm9tUXVlcnlTdHJpbmcoKTtcblxuICAgICAgLy8gY29va2llcyB1c2VkIGluIHBlcnNvbmFsaXphdGlvbiBjb250YWluZXIgc2NyaXB0LCBzbyBuZWVkIHRvIHNldCBiZWZvcmUgaHlkcmF0aW9uIHRvIG1hdGNoIHNjcmlwdCByZXN1bHRcbiAgICAgIGNvbnN0IHVzZXJBdHRyQ29va2llID0gdGhpcy5nZXRDb29raWUoQnVpbGRlci5hdHRyaWJ1dGVzQ29va2llTmFtZSk7XG4gICAgICBpZiAodXNlckF0dHJDb29raWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gSlNPTi5wYXJzZSh1c2VyQXR0ckNvb2tpZSk7XG4gICAgICAgICAgdGhpcy5zZXRVc2VyQXR0cmlidXRlcyhhdHRyaWJ1dGVzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5kZWJ1ZygnRXJyb3IgcGFyc2luZyB1c2VyIGF0dHJpYnV0ZXMgY29va2llJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgbW9kaWZ5U2VhcmNoKHNlYXJjaDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHNlYXJjaC5yZXBsYWNlKFxuICAgICAgLyhefCZ8XFw/KShidWlsZGVyXy4qPyk9L2dpLFxuICAgICAgKF9tYXRjaCwgZ3JvdXAxLCBncm91cDIpID0+IGdyb3VwMSArIGdyb3VwMi5yZXBsYWNlKC9fL2csICcuJykgKyAnPSdcbiAgICApO1xuICB9XG5cbiAgc2V0VGVzdHNGcm9tVXJsKCkge1xuICAgIGNvbnN0IHNlYXJjaCA9IHRoaXMuZ2V0TG9jYXRpb24oKS5zZWFyY2g7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFF1ZXJ5U3RyaW5nLnBhcnNlRGVlcCh0aGlzLm1vZGlmeVNlYXJjaChzZWFyY2ggfHwgJycpLnN1YnN0cigxKSk7XG4gICAgICBjb25zdCB0ZXN0cyA9IHBhcmFtcy5idWlsZGVyICYmIHBhcmFtcy5idWlsZGVyLnRlc3RzO1xuICAgICAgaWYgKHRlc3RzICYmIHR5cGVvZiB0ZXN0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGVzdHMpIHtcbiAgICAgICAgICBpZiAodGVzdHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5zZXRUZXN0Q29va2llKGtleSwgdGVzdHNba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5kZWJ1ZygnRXJyb3IgcGFyc2luZyB0ZXN0cyBmcm9tIFVSTCcsIGUpO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0T3ZlcnJpZGVzKCkge1xuICAgIC8vIFVnbHkgLSBwYXNzIGRvd24gaW5zdGFuY2VzIHBlciByZXF1ZXN0IGluc3RlYWQgdXNpbmcgcmVhY3QgY29udGV4dFxuICAgIC8vIG9yIHVzZSBidWlsZGVyLmdldCgnZm9vJywgeyByZXEsIHJlcyB9KSBpbiByZWFjdC4uLi4uLi4uLi4uXG4gICAgQnVpbGRlci5vdmVycmlkZVVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgdGhpcy5jYWNoZWJ1c3QgPSBmYWxzZTtcbiAgICB0aGlzLm5vQ2FjaGUgPSBmYWxzZTtcbiAgICB0aGlzLnByZXZpZXcgPSBmYWxzZTtcbiAgICB0aGlzLmVkaXRpbmdNb2RlbCA9IG51bGw7XG4gICAgdGhpcy5vdmVycmlkZXMgPSB7fTtcbiAgICB0aGlzLmVudiA9ICdwcm9kdWN0aW9uJztcbiAgICB0aGlzLnVzZXJBZ2VudCA9ICcnO1xuICAgIHRoaXMucmVxdWVzdCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZ2V0T3ZlcnJpZGVzRnJvbVF1ZXJ5U3RyaW5nKCkge1xuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5nZXRMb2NhdGlvbigpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBRdWVyeVN0cmluZy5wYXJzZURlZXAodGhpcy5tb2RpZnlTZWFyY2gobG9jYXRpb24uc2VhcmNoIHx8ICcnKS5zdWJzdHIoMSkpO1xuICAgICAgY29uc3QgeyBidWlsZGVyIH0gPSBwYXJhbXM7XG4gICAgICBpZiAoYnVpbGRlcikge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgdXNlckF0dHJpYnV0ZXMsXG4gICAgICAgICAgb3ZlcnJpZGVzLFxuICAgICAgICAgIGVudixcbiAgICAgICAgICBob3N0LFxuICAgICAgICAgIGFwaSxcbiAgICAgICAgICBjYWNoZWJ1c3QsXG4gICAgICAgICAgbm9DYWNoZSxcbiAgICAgICAgICBwcmV2aWV3LFxuICAgICAgICAgIGVkaXRpbmcsXG4gICAgICAgICAgZnJhbWVFZGl0aW5nLFxuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgcGFyYW1zOiBvdmVycmlkZVBhcmFtcyxcbiAgICAgICAgfSA9IGJ1aWxkZXI7XG5cbiAgICAgICAgaWYgKHVzZXJBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgdGhpcy5zZXRVc2VyQXR0cmlidXRlcyh1c2VyQXR0cmlidXRlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIC8vIHBpY2tpbmcgb25seSBsb2NhbGUsIGluY2x1ZGVSZWZzLCBhbmQgZW5yaWNoIGZvciBub3dcbiAgICAgICAgICB0aGlzLnF1ZXJ5T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIC4uLihvcHRpb25zLmxvY2FsZSAmJiB7IGxvY2FsZTogb3B0aW9ucy5sb2NhbGUgfSksXG4gICAgICAgICAgICAuLi4ob3B0aW9ucy5pbmNsdWRlUmVmcyAmJiB7IGluY2x1ZGVSZWZzOiBvcHRpb25zLmluY2x1ZGVSZWZzIH0pLFxuICAgICAgICAgICAgLi4uKG9wdGlvbnMuZW5yaWNoICYmIHsgZW5yaWNoOiBvcHRpb25zLmVucmljaCB9KSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG92ZXJyaWRlcykge1xuICAgICAgICAgIHRoaXMub3ZlcnJpZGVzID0gb3ZlcnJpZGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbGlkRW52TGlzdC5pbmRleE9mKGVudiB8fCBhcGkpID4gLTEpIHtcbiAgICAgICAgICB0aGlzLmVudiA9IGVudiB8fCBhcGk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQnVpbGRlci5pc0VkaXRpbmcpIHtcbiAgICAgICAgICBjb25zdCBlZGl0aW5nTW9kZWwgPSBmcmFtZUVkaXRpbmcgfHwgZWRpdGluZyB8fCBwcmV2aWV3O1xuICAgICAgICAgIGlmIChlZGl0aW5nTW9kZWwgJiYgZWRpdGluZ01vZGVsICE9PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdGluZ01vZGVsID0gZWRpdGluZ01vZGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYWNoZWJ1c3QpIHtcbiAgICAgICAgICB0aGlzLmNhY2hlYnVzdCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9DYWNoZSkge1xuICAgICAgICAgIHRoaXMubm9DYWNoZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJldmlldykge1xuICAgICAgICAgIHRoaXMucHJldmlldyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgICAgdGhpcy5vdmVycmlkZVBhcmFtcyA9IG92ZXJyaWRlUGFyYW1zO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5kZWJ1ZygnRXJyb3IgcGFyc2luZyBvdmVycmlkZXMgZnJvbSBVUkwnLCBlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG1lc3NhZ2VGcmFtZUxvYWRlZCgpIHtcbiAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2J1aWxkZXIubG9hZGVkJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgICcqJ1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGJsb2NrQ29udGVudExvYWRpbmcgPSAnJztcblxuICBwcml2YXRlIGJpbmRNZXNzYWdlTGlzdGVuZXJzKCkge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBldmVudCA9PiB7XG4gICAgICBjb25zdCBpc1RydXN0ZWQgPSBCdWlsZGVyLmlzVHJ1c3RlZEhvc3RGb3JFdmVudChldmVudCk7XG4gICAgICBpZiAoIWlzVHJ1c3RlZCkgcmV0dXJuO1xuXG4gICAgICBjb25zdCB7IGRhdGEgfSA9IGV2ZW50O1xuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdidWlsZGVyLnBpbmcnOiB7XG4gICAgICAgICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdidWlsZGVyLnBvbmcnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnKidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5yZWdpc3Rlcic6IHtcbiAgICAgICAgICAgIC8vIFRPRE86IHBvc3NpYmx5IGRvIHRoaXMgZm9yIGFsbC4uLlxuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gd2luZG93KSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgdHlwZSwgaW5mbyB9ID0gb3B0aW9ucztcbiAgICAgICAgICAgIC8vIFRPRE86IGFsbCBtdXN0IGhhdmUgbmFtZSBhbmQgY2FuJ3QgY29uZmxpY3Q/XG4gICAgICAgICAgICBsZXQgdHlwZUxpc3QgPSBCdWlsZGVyLnJlZ2lzdHJ5W3R5cGVdO1xuICAgICAgICAgICAgaWYgKCF0eXBlTGlzdCkge1xuICAgICAgICAgICAgICB0eXBlTGlzdCA9IEJ1aWxkZXIucmVnaXN0cnlbdHlwZV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHR5cGVMaXN0LnB1c2goaW5mbyk7XG4gICAgICAgICAgICBCdWlsZGVyLnJlZ2lzdHJ5Q2hhbmdlLm5leHQoQnVpbGRlci5yZWdpc3RyeSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5zZXR0aW5nc0NoYW5nZSc6IHtcbiAgICAgICAgICAgIC8vIFRPRE86IHBvc3NpYmx5IGRvIHRoaXMgZm9yIGFsbC4uLlxuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gd2luZG93KSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICBpZiAoIXNldHRpbmdzKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihCdWlsZGVyLnNldHRpbmdzLCBzZXR0aW5ncyk7XG4gICAgICAgICAgICBCdWlsZGVyLnNldHRpbmdzQ2hhbmdlLm5leHQoQnVpbGRlci5zZXR0aW5ncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5yZWdpc3RlckVkaXRvcic6IHtcbiAgICAgICAgICAgIC8vIFRPRE86IHBvc3NpYmx5IGRvIHRoaXMgZm9yIGFsbC4uLlxuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gd2luZG93KSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5mbyA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIGlmICghaW5mbykge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhc0NvbXBvbmVudCA9ICEhaW5mby5jb21wb25lbnQ7XG4gICAgICAgICAgICBCdWlsZGVyLmVkaXRvcnMuZXZlcnkoKHRoaXNJbmZvLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaW5mby5uYW1lID09PSB0aGlzSW5mby5uYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNJbmZvLmNvbXBvbmVudCAmJiAhaGFzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIEJ1aWxkZXIuZWRpdG9yc1tpbmRleF0gPSB0aGlzSW5mbztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnYnVpbGRlci50cmlnZ2VyQW5pbWF0aW9uJzoge1xuICAgICAgICAgICAgQnVpbGRlci5hbmltYXRvci50cmlnZ2VyQW5pbWF0aW9uKGRhdGEuZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5jb250ZW50VXBkYXRlJzpcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGRhdGEuZGF0YS5rZXkgfHwgZGF0YS5kYXRhLmFsaWFzIHx8IGRhdGEuZGF0YS5lbnRyeSB8fCBkYXRhLmRhdGEubW9kZWxOYW1lO1xuICAgICAgICAgICAgY29uc3QgY29udGVudERhdGEgPSBkYXRhLmRhdGEuZGF0YTsgLy8gaG1tbS4uLlxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc0J5S2V5W2tleV07XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXIgJiYgIXRoaXMubm9FZGl0b3JVcGRhdGVzW2tleV0pIHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChbY29udGVudERhdGFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5nZXRDb21wb25lbnRzJzpcbiAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQ/LnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2J1aWxkZXIuY29tcG9uZW50cycsXG4gICAgICAgICAgICAgICAgZGF0YTogQnVpbGRlci5jb21wb25lbnRzLm1hcChpdGVtID0+IEJ1aWxkZXIucHJlcGFyZUNvbXBvbmVudFNwZWNUb1NlbmQoaXRlbSkpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnKidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIuZWRpdGluZ01vZGVsJzpcbiAgICAgICAgICAgIHRoaXMuZWRpdGluZ01vZGVsID0gZGF0YS5kYXRhLm1vZGVsO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdidWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50JzpcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudERhdGEgPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICBCdWlsZGVyLmFkZENvbXBvbmVudChjb21wb25lbnREYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5ibG9ja0NvbnRlbnRMb2FkaW5nJzpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5kYXRhLm1vZGVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICB0aGlzLmJsb2NrQ29udGVudExvYWRpbmcgPSBkYXRhLmRhdGEubW9kZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIuZWRpdGluZ01vZGUnOlxuICAgICAgICAgICAgY29uc3QgZWRpdGluZ01vZGUgPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICBpZiAoZWRpdGluZ01vZGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nTW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYnVpbGRlci1lZGl0aW5nJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnYnVpbGRlci1lZGl0aW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIuZWRpdGluZ1BhZ2VNb2RlJzpcbiAgICAgICAgICAgIGNvbnN0IGVkaXRpbmdQYWdlTW9kZSA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIEJ1aWxkZXIuZWRpdGluZ1BhZ2UgPSBlZGl0aW5nUGFnZU1vZGU7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIub3ZlcnJpZGVVc2VyQXR0cmlidXRlcyc6XG4gICAgICAgICAgICBjb25zdCB1c2VyQXR0cmlidXRlcyA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIGFzc2lnbihCdWlsZGVyLm92ZXJyaWRlVXNlckF0dHJpYnV0ZXMsIHVzZXJBdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hHZXRDb250ZW50UXVldWUodHJ1ZSk7XG4gICAgICAgICAgICAvLyBUT0RPOiByZWZldGNoIHRvb1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdidWlsZGVyLm92ZXJyaWRlVGVzdEdyb3VwJzpcbiAgICAgICAgICAgIGNvbnN0IHsgdmFyaWF0aW9uSWQsIGNvbnRlbnRJZCB9ID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgaWYgKHZhcmlhdGlvbklkICYmIGNvbnRlbnRJZCkge1xuICAgICAgICAgICAgICB0aGlzLnNldFRlc3RDb29raWUoY29udGVudElkLCB2YXJpYXRpb25JZCk7XG4gICAgICAgICAgICAgIHRoaXMuZmx1c2hHZXRDb250ZW50UXVldWUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdidWlsZGVyLmV2YWx1YXRlJzoge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEuZGF0YS50ZXh0O1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IGRhdGEuZGF0YS5hcmd1bWVudHMgfHwgW107XG4gICAgICAgICAgICBjb25zdCBpZCA9IGRhdGEuZGF0YS5pZDtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1mdW5jdGlvbi1jb25zdHJ1Y3Rvci13aXRoLXN0cmluZy1hcmdzXG4gICAgICAgICAgICBjb25zdCBmbiA9IG5ldyBGdW5jdGlvbih0ZXh0KTtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IGFueTtcbiAgICAgICAgICAgIGxldCBlcnJvcjogRXJyb3IgfCBudWxsID0gbnVsbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIGVycm9yID0gdG9FcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2J1aWxkZXIuZXZhbHVhdGVFcnJvcicsXG4gICAgICAgICAgICAgICAgICBkYXRhOiB7IGlkLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJyonXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIChyZXN1bHQgYXMgUHJvbWlzZTxhbnk+KVxuICAgICAgICAgICAgICAgICAgLnRoZW4oZmluYWxSZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYnVpbGRlci5ldmFsdWF0ZVJlc3VsdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGlkLCByZXN1bHQ6IGZpbmFsUmVzdWx0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAnKidcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdidWlsZGVyLmV2YWx1YXRlUmVzdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyByZXN1bHQsIGlkIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJyonXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvYnNlcnZlcnNCeUtleTogeyBba2V5OiBzdHJpbmddOiBCZWhhdmlvclN1YmplY3Q8QnVpbGRlckNvbnRlbnRbXT4gfCB1bmRlZmluZWQgfSA9IHt9O1xuICBub0VkaXRvclVwZGF0ZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XG5cbiAgZ2V0IGRlZmF1bHRDYW5UcmFjaygpIHtcbiAgICByZXR1cm4gQm9vbGVhbihcbiAgICAgIEJ1aWxkZXIuaXNCcm93c2VyICYmXG4gICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQudHJpbSgpICYmXG4gICAgICAgICFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKFxuICAgICAgICAgIC9ib3R8Y3Jhd2xlcnxzcGlkZXJ8cm9ib3R8Y3Jhd2xpbmd8cHJlcmVuZGVyfGdvb2dsZXxiYWlkdXxiaW5nfG1zbnxkdWNrZHVja2JvdHx0ZW9tYXxzbHVycHx5YW5kZXh8cGhhbnRvbXxoZWFkbGVzc3xzZWxlbml1bXxwdXBwZXRlZXIvaVxuICAgICAgICApICYmXG4gICAgICAgICF0aGlzLmJyb3dzZXJUcmFja2luZ0Rpc2FibGVkXG4gICAgKTtcbiAgfVxuXG4gIGluaXQoXG4gICAgYXBpS2V5OiBzdHJpbmcsXG4gICAgY2FuVHJhY2sgPSB0aGlzLmRlZmF1bHRDYW5UcmFjayxcbiAgICByZXE/OiBJbmNvbWluZ01lc3NhZ2UsXG4gICAgcmVzPzogU2VydmVyUmVzcG9uc2UsXG4gICAgYXV0aFRva2VuPzogc3RyaW5nIHwgbnVsbCxcbiAgICBhcGlWZXJzaW9uPzogQXBpVmVyc2lvblxuICApIHtcbiAgICBpZiAocmVxKSB7XG4gICAgICB0aGlzLnJlcXVlc3QgPSByZXE7XG4gICAgfVxuICAgIGlmIChyZXMpIHtcbiAgICAgIHRoaXMucmVzcG9uc2UgPSByZXM7XG4gICAgfVxuICAgIGlmICghdGhpcy5oYXNPdmVycmlkZGVuQ2FuVHJhY2spIHtcbiAgICAgIHRoaXMuY2FuVHJhY2sgPSBjYW5UcmFjaztcbiAgICB9XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgaWYgKGF1dGhUb2tlbikge1xuICAgICAgdGhpcy5hdXRoVG9rZW4gPSBhdXRoVG9rZW47XG4gICAgfVxuICAgIGlmIChhcGlWZXJzaW9uKSB7XG4gICAgICB0aGlzLmFwaVZlcnNpb24gPSBhcGlWZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldCBwcmV2aWV3aW5nTW9kZWwoKSB7XG4gICAgY29uc3Qgc2VhcmNoID0gdGhpcy5nZXRMb2NhdGlvbigpLnNlYXJjaDtcbiAgICBjb25zdCBwYXJhbXMgPSBRdWVyeVN0cmluZy5wYXJzZSgoc2VhcmNoIHx8ICcnKS5zdWJzdHIoMSkpO1xuICAgIHJldHVybiBwYXJhbXNbJ2J1aWxkZXIucHJldmlldyddO1xuICB9XG5cbiAgLy8gVE9ETzogYWxsb3cgYWRkaW5nIGxvY2F0aW9uIG9iamVjdCBhcyBwcm9wZXJ0eSBhbmQvb3IgaW4gY29uc3RydWN0b3JcbiAgZ2V0TG9jYXRpb24oKTogVXJsIHtcbiAgICBsZXQgcGFyc2VkTG9jYXRpb246IGFueSA9IHt9O1xuXG4gICAgLy8gaW4gc3NyIG1vZGVcbiAgICBpZiAodGhpcy5yZXF1ZXN0KSB7XG4gICAgICBwYXJzZWRMb2NhdGlvbiA9IHBhcnNlKHRoaXMucmVxdWVzdC51cmwgPz8gJycpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgLy8gaW4gdGhlIGJyb3dzZXJcbiAgICAgIHBhcnNlZExvY2F0aW9uID0gcGFyc2UobG9jYXRpb24uaHJlZik7XG4gICAgfVxuXG4gICAgLy8gSUUxMSBidWcgd2l0aCBwYXJzZWQgcGF0aCBiZWluZyBlbXB0eSBzdHJpbmdcbiAgICAvLyBjYXVzZXMgaXNzdWVzIHdpdGggb3VyIHVzZXIgdGFyZ2V0aW5nXG4gICAgaWYgKHBhcnNlZExvY2F0aW9uLnBhdGhuYW1lID09PSAnJykge1xuICAgICAgcGFyc2VkTG9jYXRpb24ucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlZExvY2F0aW9uO1xuICB9XG5cbiAgZ2V0VXNlckF0dHJpYnV0ZXModXNlckFnZW50ID0gdGhpcy51c2VyQWdlbnQgfHwgJycpIHtcbiAgICBjb25zdCBpc01vYmlsZSA9IHtcbiAgICAgIEFuZHJvaWQoKSB7XG4gICAgICAgIHJldHVybiB1c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSk7XG4gICAgICB9LFxuICAgICAgQmxhY2tCZXJyeSgpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJBZ2VudC5tYXRjaCgvQmxhY2tCZXJyeS9pKTtcbiAgICAgIH0sXG4gICAgICBpT1MoKSB7XG4gICAgICAgIHJldHVybiB1c2VyQWdlbnQubWF0Y2goL2lQaG9uZXxpUG9kL2kpO1xuICAgICAgfSxcbiAgICAgIE9wZXJhKCkge1xuICAgICAgICByZXR1cm4gdXNlckFnZW50Lm1hdGNoKC9PcGVyYSBNaW5pL2kpO1xuICAgICAgfSxcbiAgICAgIFdpbmRvd3MoKSB7XG4gICAgICAgIHJldHVybiB1c2VyQWdlbnQubWF0Y2goL0lFTW9iaWxlL2kpIHx8IHVzZXJBZ2VudC5tYXRjaCgvV1BEZXNrdG9wL2kpO1xuICAgICAgfSxcbiAgICAgIGFueSgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBpc01vYmlsZS5BbmRyb2lkKCkgfHxcbiAgICAgICAgICBpc01vYmlsZS5CbGFja0JlcnJ5KCkgfHxcbiAgICAgICAgICBpc01vYmlsZS5pT1MoKSB8fFxuICAgICAgICAgIGlzTW9iaWxlLk9wZXJhKCkgfHxcbiAgICAgICAgICBpc01vYmlsZS5XaW5kb3dzKClcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IGlzVGFibGV0ID0gdXNlckFnZW50Lm1hdGNoKC9UYWJsZXR8aVBhZC9pKTtcblxuICAgIGNvbnN0IHVybCA9IHRoaXMuZ2V0TG9jYXRpb24oKTtcblxuICAgIHJldHVybiB7XG4gICAgICB1cmxQYXRoOiB1cmwucGF0aG5hbWUsXG4gICAgICBob3N0OiB1cmwuaG9zdCB8fCB1cmwuaG9zdG5hbWUsXG4gICAgICAvLyBUT0RPOiBtYXliZSBhbiBvcHRpb24gdG8gY2hvb3NlIHRvIHRhcmdldCBvZmYgb2YgbW9iaWxlL3RhYmxldC9kZXNrdG9wIG9yIGp1c3QgbW9iaWxlL2Rlc2t0b3BcbiAgICAgIGRldmljZTogaXNUYWJsZXQgPyAndGFibGV0JyA6IGlzTW9iaWxlLmFueSgpID8gJ21vYmlsZScgOiAnZGVza3RvcCcsXG4gICAgICAuLi5CdWlsZGVyLm92ZXJyaWRlVXNlckF0dHJpYnV0ZXMsXG4gICAgfSBhcyBVc2VyQXR0cmlidXRlcztcbiAgfVxuXG4gIHByb3RlY3RlZCBvdmVycmlkZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgcHJvdGVjdGVkIHF1ZXJ5T3B0aW9uczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuXG4gIHByaXZhdGUgZ2V0Q29udGVudFF1ZXVlOiBudWxsIHwgR2V0Q29udGVudE9wdGlvbnNbXSA9IG51bGw7XG4gIHByaXZhdGUgcHJpb3JDb250ZW50UXVldWU6IG51bGwgfCBHZXRDb250ZW50T3B0aW9uc1tdID0gbnVsbDtcblxuICBzZXRVc2VyQXR0cmlidXRlcyhvcHRpb25zOiBvYmplY3QpIHtcbiAgICBhc3NpZ24oQnVpbGRlci5vdmVycmlkZVVzZXJBdHRyaWJ1dGVzLCBvcHRpb25zKTtcbiAgICBpZiAodGhpcy5jYW5UcmFjaykge1xuICAgICAgdGhpcy5zZXRDb29raWUoQnVpbGRlci5hdHRyaWJ1dGVzQ29va2llTmFtZSwgSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRVc2VyQXR0cmlidXRlcygpKSk7XG4gICAgfVxuXG4gICAgdGhpcy51c2VyQXR0cmlidXRlc0NoYW5nZWQubmV4dChvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdXNlciBhdHRyaWJ1dGVzIGp1c3QgZm9yIHRyYWNraW5nIHB1cnBvc2VzLlxuICAgKlxuICAgKiBEbyB0aGlzIHNvIHByb3BlcnRpZXMgZXhpc3Qgb24gZXZlbnQgb2JqZWN0cyBmb3IgcXVlcnlpbmcgaW5zaWdodHMsIGJ1dFxuICAgKiB3b24ndCBhZmZlY3QgdGFyZ2V0aW5nXG4gICAqXG4gICAqIFVzZSB0aGlzIHdoZW4geW91IHdhbnQgdG8gdHJhY2sgcHJvcGVydGllcyBidXQgZG9uJ3QgbmVlZCB0byB0YXJnZXQgb2ZmXG4gICAqIG9mIHRoZW0gdG8gb3B0aW1pemUgY2FjaGUgZWZmaWNpZW5jeVxuICAgKi9cbiAgc2V0VHJhY2tpbmdVc2VyQXR0cmlidXRlcyhhdHRyaWJ1dGVzOiBvYmplY3QpIHtcbiAgICBhc3NpZ24odGhpcy50cmFja2luZ1VzZXJBdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzKTtcbiAgfVxuXG4gIGdldChcbiAgICBtb2RlbE5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zOiBHZXRDb250ZW50T3B0aW9ucyAmIHtcbiAgICAgIHJlcT86IEluY29taW5nTWVzc2FnZTtcbiAgICAgIHJlcz86IFNlcnZlclJlc3BvbnNlO1xuICAgICAgYXBpS2V5Pzogc3RyaW5nO1xuICAgICAgYXV0aFRva2VuPzogc3RyaW5nO1xuICAgIH0gPSB7fVxuICApIHtcbiAgICBsZXQgaW5zdGFuY2U6IEJ1aWxkZXIgPSB0aGlzO1xuICAgIGxldCBmaW5hbExvY2FsZSA9XG4gICAgICBvcHRpb25zLmxvY2FsZSB8fCBvcHRpb25zLnVzZXJBdHRyaWJ1dGVzPy5sb2NhbGUgfHwgdGhpcy5nZXRVc2VyQXR0cmlidXRlcygpLmxvY2FsZTtcblxuICAgIGlmICghKCdub1RyYXZlcnNlJyBpbiBvcHRpb25zKSkge1xuICAgICAgb3B0aW9ucy5ub1RyYXZlcnNlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IGZpbmFsT3B0aW9ucyA9IHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAuLi4oZmluYWxMb2NhbGUgJiYge1xuICAgICAgICBsb2NhbGU6IFN0cmluZyhmaW5hbExvY2FsZSksXG4gICAgICAgIHVzZXJBdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgbG9jYWxlOiBTdHJpbmcoZmluYWxMb2NhbGUpLFxuICAgICAgICAgIC4uLm9wdGlvbnMudXNlckF0dHJpYnV0ZXMsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICB9O1xuICAgIGlmICghQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIGluc3RhbmNlID0gbmV3IEJ1aWxkZXIoXG4gICAgICAgIG9wdGlvbnMuYXBpS2V5IHx8IHRoaXMuYXBpS2V5LFxuICAgICAgICBvcHRpb25zLnJlcSxcbiAgICAgICAgb3B0aW9ucy5yZXMsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgb3B0aW9ucy5hdXRoVG9rZW4gfHwgdGhpcy5hdXRoVG9rZW4sXG4gICAgICAgIG9wdGlvbnMuYXBpVmVyc2lvbiB8fCB0aGlzLmFwaVZlcnNpb25cbiAgICAgICk7XG4gICAgICBpbnN0YW5jZS5hcGlFbmRwb2ludCA9IHRoaXMuYXBpRW5kcG9pbnQ7XG4gICAgICBpbnN0YW5jZS5zZXRVc2VyQXR0cmlidXRlcyh0aGlzLmdldFVzZXJBdHRyaWJ1dGVzKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOT1RFOiBBbGwgdGhlc2UgYXJlIHdoZW4gLmluaXQgaXMgbm90IGNhbGxlZCBhbmQgdGhlIGN1c3RvbWVyXG4gICAgICAvLyBkaXJlY3RseSBjYWxscyAuZ2V0IG9uIHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgQnVpbGRlclxuICAgICAgaWYgKG9wdGlvbnMuYXBpS2V5ICYmICF0aGlzLmFwaUtleSkge1xuICAgICAgICB0aGlzLmFwaUtleSA9IG9wdGlvbnMuYXBpS2V5O1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuYXV0aFRva2VuICYmICF0aGlzLmF1dGhUb2tlbikge1xuICAgICAgICB0aGlzLmF1dGhUb2tlbiA9IG9wdGlvbnMuYXV0aFRva2VuO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuYXBpVmVyc2lvbiAmJiAhdGhpcy5hcGlWZXJzaW9uKSB7XG4gICAgICAgIHRoaXMuYXBpVmVyc2lvbiA9IG9wdGlvbnMuYXBpVmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlLnF1ZXVlR2V0Q29udGVudChtb2RlbE5hbWUsIGZpbmFsT3B0aW9ucykubWFwKFxuICAgICAgLyogbWFwKCAqLyAobWF0Y2hlczogYW55W10gfCBudWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gbWF0Y2hlcyAmJiBtYXRjaGVzWzBdO1xuICAgICAgICBpZiAoQnVpbGRlci5pc1N0YXRpYykge1xuICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1hdGNoRGF0YSA9IG1hdGNoICYmIG1hdGNoLmRhdGE7XG4gICAgICAgIGlmICghbWF0Y2hEYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG1hdGNoRGF0YS5ibG9ja3NTdHJpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbWF0Y2hEYXRhLmJsb2NrcyA9IEpTT04ucGFyc2UobWF0Y2hEYXRhLmJsb2Nrc1N0cmluZyk7XG4gICAgICAgICAgZGVsZXRlIG1hdGNoRGF0YS5ibG9ja3NTdHJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC8vIFRPRE86IGFkZCBhYiB0ZXN0IGluZm8gaGVyZSBhbmQgb3RoZXIgaGlnaCBsZXZlbCBzdHVmZlxuICAgICAgICAgIGRhdGE6IG1hdGNoRGF0YSxcbiAgICAgICAgICBpZDogbWF0Y2guaWQsXG4gICAgICAgICAgdmFyaWF0aW9uSWQ6IG1hdGNoLnRlc3RWYXJpYXRpb25JZCB8fCBtYXRjaC52YXJpYXRpb25JZCB8fCBudWxsLFxuICAgICAgICAgIHRlc3RWYXJpYXRpb25JZDogbWF0Y2gudGVzdFZhcmlhdGlvbklkIHx8IG1hdGNoLnZhcmlhdGlvbklkIHx8IG51bGwsXG4gICAgICAgICAgdGVzdFZhcmlhdGlvbk5hbWU6IG1hdGNoLnRlc3RWYXJpYXRpb25OYW1lIHx8IG51bGwsXG4gICAgICAgICAgbGFzdFVwZGF0ZWQ6IG1hdGNoLmxhc3RVcGRhdGVkIHx8IG51bGwsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgKTtcbiAgICAvLyApO1xuICB9XG5cbiAgLy8gVE9ETzogZW50cnkgaWQgaW4gb3B0aW9uc1xuICBxdWV1ZUdldENvbnRlbnQobW9kZWxOYW1lOiBzdHJpbmcsIG9wdGlvbnM6IEdldENvbnRlbnRPcHRpb25zID0ge30pIHtcbiAgICAvLyBUT0RPOiBpZiBxdWVyeSBkbyBtb2RlbE5hbWUgKyBxdWVyeVxuICAgIGNvbnN0IGtleSA9XG4gICAgICBvcHRpb25zLmtleSB8fFxuICAgICAgb3B0aW9ucy5hbGlhcyB8fFxuICAgICAgLy8gVE9ETzogU0RLcyBvbmx5IHBhc3MgZW50cnkga2V5IHdoZW4gZ2l2ZW4gdG8gdGhlbSwgYW5kIG5ldmVyIHdoZW4gZWRpdGluZy4uLlxuICAgICAgLy8gb3B0aW9ucy5lbnRyeSB8fFxuXG4gICAgICAvLyBUT0RPOiB0aGlzIGlzIHVnbHkgLSBpbnN0ZWFkIG9mIG11bHRpcGxlIG9mIHNhbWUgbW9kZWwgd2l0aCBkaWZmZXJlbnQgb3B0aW9ucyBhcmUgc2VudFxuICAgICAgLy8gc2F5IHJlcXVpcmVzIGtleS9hbGlhcy4gT3IgaWYgbm90IHBlcmhhcHMgbWFrZSBhIHJlbGlhYmxlIGhhc2ggb2YgdGhlIG9wdGlvbnMgYW5kIHVzZSB0aGF0LlxuICAgICAgLy8gVE9ETzogc3RvcmUgbGFzdCB1c2VyIHN0YXRlIG9uIGxhc3QgcmVxdWVzdCBhbmQgaWYgdXNlciBhdHRyaWJ1dGVzIGRpZmZlcmVudCBub3dcbiAgICAgIC8vIGdpdmUgYSB3YXJuaW5nIHRoYXQgbmVlZCB0byB1c2Uga2V5cyB0byByZXF1ZXN0IG5ldyBjb250ZW50ZVxuICAgICAgLy8gKG9wdGlvbnMgJiZcbiAgICAgIC8vICAgT2JqZWN0LmtleXMob3B0aW9ucykuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdtb2RlbCcpLmxlbmd0aCAmJlxuICAgICAgLy8gICBKU09OLnN0cmluZ2lmeSh7IG1vZGVsOiBtb2RlbE5hbWUsIC4uLm9wdGlvbnMsIGluaXRpYWxDb250ZW50OiB1bmRlZmluZWQgfSkpIHx8XG4gICAgICBtb2RlbE5hbWU7XG5cbiAgICBjb25zdCBpc0VkaXRpbmdUaGlzTW9kZWwgPSB0aGlzLmVkaXRpbmdNb2RlbCA9PT0gbW9kZWxOYW1lO1xuICAgIC8vIFRPRE86IGluY2x1ZGUgcGFyYW1zIGluIHRoaXMga2V5Li4uLi4uLi5cbiAgICBjb25zdCBjdXJyZW50T2JzZXJ2YWJsZSA9IHRoaXMub2JzZXJ2ZXJzQnlLZXlba2V5XSBhcyBCZWhhdmlvclN1YmplY3Q8QnVpbGRlckNvbnRlbnRbXT4gfCBudWxsO1xuXG4gICAgLy8gaWYgKG9wdGlvbnMucXVlcnkgJiYgb3B0aW9ucy5xdWVyeS5faWQpIHtcbiAgICAvLyAgIHRoaXMuZmx1c2hHZXRDb250ZW50UXVldWUoW29wdGlvbnNdKVxuICAgIC8vIH1cblxuICAgIGlmICh0aGlzLmFwaUtleSA9PT0gJ0RFTU8nICYmICF0aGlzLm92ZXJyaWRlc1trZXldICYmICFvcHRpb25zLmluaXRpYWxDb250ZW50KSB7XG4gICAgICBvcHRpb25zLmluaXRpYWxDb250ZW50ID0gW107XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbml0aWFsQ29udGVudCB9ID0gb3B0aW9ucztcblxuICAgIC8vIFRPRE86IHJlZnJlc2ggb3B0aW9uIGluIG9wdGlvbnNcbiAgICBpZiAoY3VycmVudE9ic2VydmFibGUgJiYgKCFjdXJyZW50T2JzZXJ2YWJsZS52YWx1ZSB8fCBvcHRpb25zLmNhY2hlKSkge1xuICAgICAgLy8gVE9ETzogdGVzdCBpZiB0aGlzIHJhbiwgb3RoZXJ3aXNlIG9uIDQwNCBzb21lIG9ic2VydmVycyBtYXkgbmV2ZXIgYmUgY2FsbGVkLi4uXG4gICAgICBpZiAoY3VycmVudE9ic2VydmFibGUudmFsdWUpIHtcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgIC8vIFRPRE86IHJldHVybiBhIG5ldyBvYnNlcnZhYmxlIGFuZCBvbmx5IHRoYXQgb25lIGZpcmVzIHN1YnNjcmliZXJzLCBkb24ndCByZWZpcmUgZm9yIGV4aXN0aW5nIG9uZXNcbiAgICAgICAgICBjdXJyZW50T2JzZXJ2YWJsZS5uZXh0KGN1cnJlbnRPYnNlcnZhYmxlLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VycmVudE9ic2VydmFibGU7XG4gICAgfVxuICAgIGlmIChpc0VkaXRpbmdUaGlzTW9kZWwpIHtcbiAgICAgIGlmIChCdWlsZGVyLmlzQnJvd3Nlcikge1xuICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyB0eXBlOiAnYnVpbGRlci51cGRhdGVDb250ZW50JywgZGF0YTogeyBvcHRpb25zIH0gfSwgJyonKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpbml0aWFsQ29udGVudCAvKiB8fCBpc0VkaXRpbmdUaGlzTW9kZWwgKi8pIHtcbiAgICAgIGlmICghdGhpcy5nZXRDb250ZW50UXVldWUpIHtcbiAgICAgICAgdGhpcy5nZXRDb250ZW50UXVldWUgPSBbXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5nZXRDb250ZW50UXVldWUucHVzaCh7IC4uLm9wdGlvbnMsIG1vZGVsOiBtb2RlbE5hbWUsIGtleSB9KTtcbiAgICAgIGlmICh0aGlzLmdldENvbnRlbnRRdWV1ZSAmJiB0aGlzLmdldENvbnRlbnRRdWV1ZS5sZW5ndGggPj0gdGhpcy5jb250ZW50UGVyUmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWV1ZSA9IHRoaXMuZ2V0Q29udGVudFF1ZXVlLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuZ2V0Q29udGVudFF1ZXVlID0gW107XG4gICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmZsdXNoR2V0Q29udGVudFF1ZXVlKGZhbHNlLCBxdWV1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZmx1c2hHZXRDb250ZW50UXVldWUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IG5ldyBCZWhhdmlvclN1YmplY3Q8QnVpbGRlckNvbnRlbnRbXT4obnVsbCBhcyBhbnkpO1xuICAgIHRoaXMub2JzZXJ2ZXJzQnlLZXlba2V5XSA9IG9ic2VydmFibGU7XG4gICAgaWYgKG9wdGlvbnMubm9FZGl0b3JVcGRhdGVzKSB7XG4gICAgICB0aGlzLm5vRWRpdG9yVXBkYXRlc1trZXldID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGluaXRpYWxDb250ZW50KSB7XG4gICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIC8vIFRPRE86IG5lZWQgdG8gdGVzdE1vZGlmeSB0aGlzIEkgdGhpbmsuLi4/XG4gICAgICAgIG9ic2VydmFibGUubmV4dChpbml0aWFsQ29udGVudCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG4gIH1cblxuICAvLyB0aGlzIGlzIG5lZWRlZCB0byBzYXRpc2Z5IHRoZSBBbmd1bGFyIFNESywgd2hpY2ggdXNlZCB0byByZWx5IG9uIHRoZSBtb3JlIGNvbXBsZXggdmVyc2lvbiBvZiBgcmVxdWVzdFVybGAuXG4gIC8vIGV2ZW4gdGhvdWdoIHdlIG9ubHkgdXNlIGBmZXRjaCgpYCBub3csIHdlIHByZWZlciB0byBrZWVwIHRoZSBvbGQgYmVoYXZpb3IgYW5kIHVzZSB0aGUgYGZldGNoYCB0aGF0IGNvbWVzIGZyb21cbiAgLy8gdGhlIGNvcmUgU0RLIGZvciBjb25zaXN0ZW5jeVxuICByZXF1ZXN0VXJsKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiB7IGhlYWRlcnM6IHsgW2hlYWRlcjogc3RyaW5nXTogbnVtYmVyIHwgc3RyaW5nIHwgc3RyaW5nW10gfCB1bmRlZmluZWQgfTsgbmV4dD86IGFueSB9XG4gICkge1xuICAgIHJldHVybiBnZXRGZXRjaCgpKHVybCwgdGhpcy5hZGRTZGtIZWFkZXJzKG9wdGlvbnMpKS50aGVuKHJlcyA9PiByZXMuanNvbigpKTtcbiAgfVxuXG4gIGdldCBob3N0KCkge1xuICAgIHN3aXRjaCAodGhpcy5lbnYpIHtcbiAgICAgIGNhc2UgJ3FhJzpcbiAgICAgICAgcmV0dXJuICdodHRwczovL3FhLmJ1aWxkZXIuaW8nO1xuICAgICAgY2FzZSAndGVzdCc6XG4gICAgICAgIHJldHVybiAnaHR0cHM6Ly9idWlsZGVyLWlvLXRlc3Qud2ViLmFwcCc7XG4gICAgICBjYXNlICdmYXN0JzpcbiAgICAgICAgcmV0dXJuICdodHRwczovL2Zhc3QuYnVpbGRlci5pbyc7XG4gICAgICBjYXNlICdjbG91ZCc6XG4gICAgICAgIHJldHVybiAnaHR0cHM6Ly9jbG91ZC5idWlsZGVyLmlvJztcbiAgICAgIGNhc2UgJ2NkbjInOlxuICAgICAgICByZXR1cm4gJ2h0dHBzOi8vY2RuMi5idWlsZGVyLmlvJztcbiAgICAgIGNhc2UgJ2Nkbi1xYSc6XG4gICAgICAgIHJldHVybiAnaHR0cHM6Ly9jZG4tcWEuYnVpbGRlci5pbyc7XG4gICAgICBjYXNlICdkZXZlbG9wbWVudCc6XG4gICAgICBjYXNlICdkZXYnOlxuICAgICAgICByZXR1cm4gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMCc7XG4gICAgICBjYXNlICdjZG4tcHJvZCc6XG4gICAgICAgIHJldHVybiAnaHR0cHM6Ly9jZG4uYnVpbGRlci5pbyc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gQnVpbGRlci5vdmVycmlkZUhvc3QgfHwgJ2h0dHBzOi8vY2RuLmJ1aWxkZXIuaW8nO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2RrSGVhZGVycygpOlxuICAgIHwge1xuICAgICAgICAnWC1CdWlsZGVyLVNESyc6IHN0cmluZztcbiAgICAgICAgJ1gtQnVpbGRlci1TREstR0VOJzogJzEnO1xuICAgICAgICAnWC1CdWlsZGVyLVNESy1WZXJzaW9uJzogc3RyaW5nO1xuICAgICAgfVxuICAgIHwge30ge1xuICAgIGlmICghQnVpbGRlci5zZGtJbmZvKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICdYLUJ1aWxkZXItU0RLJzogQnVpbGRlci5zZGtJbmZvLm5hbWUsXG4gICAgICAnWC1CdWlsZGVyLVNESy1HRU4nOiAnMScsXG4gICAgICAnWC1CdWlsZGVyLVNESy1WZXJzaW9uJzogQnVpbGRlci5zZGtJbmZvLnZlcnNpb24sXG4gICAgfSBhcyBjb25zdDtcbiAgfVxuXG4gIHByaXZhdGUgYWRkU2RrSGVhZGVycyhmZXRjaE9wdGlvbnM6IGFueSkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5mZXRjaE9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLmZldGNoT3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAuLi50aGlzLmdldFNka0hlYWRlcnMoKSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgbWFrZUZldGNoQXBpQ2FsbCh1cmw6IHN0cmluZywgcmVxdWVzdE9wdGlvbnM6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIGdldEZldGNoKCkodXJsLCB0aGlzLmFkZFNka0hlYWRlcnMocmVxdWVzdE9wdGlvbnMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGbGF0dGVuIGEgbmVzdGVkIE1vbmdvREIgcXVlcnkgb2JqZWN0IGludG8gYSBmbGF0IG9iamVjdCB3aXRoIGRvdC1zZXBhcmF0ZWQga2V5cy5cbiAgICogJCBrZXlzIGFyZSBub3QgZmxhdHRlbmVkIGFuZCBhcmUgbGVmdCBhcyBpcy5cbiAgICpcbiAgICogeyBmb286IHsgYmFyOiB7ICRndDogNSB9fX0gLT4geyAnZm9vLmJhcic6IHsgJyRndCc6IDUgfX1cbiAgICogeyBmb286IHsnYmFyLmlkJzogeyAkZWxlbU1hdGNoOiB7ICdiYXouaWQnOiB7ICRpbjogWydhYmMnLCAnYmNkJ10gfX19fX0gLT4geyAnZm9vLmJhci5pZCc6IHsgJyRlbGVtTWF0Y2gnOiB7ICdiYXouaWQnOiB7ICckaW4nOiBbJ2FiYycsICdiY2QnXSB9fX19XG4gICAqL1xuICBwcml2YXRlIGZsYXR0ZW5Nb25nb1F1ZXJ5KG9iajogYW55LCBfY3VycmVudD86IGFueSwgX3JlczogYW55ID0ge30pOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9IHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICBjb25zdCBuZXdLZXkgPSBfY3VycmVudCA/IF9jdXJyZW50ICsgJy4nICsga2V5IDoga2V5O1xuICAgICAgaWYgKFxuICAgICAgICB2YWx1ZSAmJlxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJlxuICAgICAgICAhT2JqZWN0LmtleXModmFsdWUpLmZpbmQoaXRlbSA9PiBpdGVtLnN0YXJ0c1dpdGgoJyQnKSlcbiAgICAgICkge1xuICAgICAgICB0aGlzLmZsYXR0ZW5Nb25nb1F1ZXJ5KHZhbHVlLCBuZXdLZXksIF9yZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3Jlc1tuZXdLZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfcmVzO1xuICB9XG5cbiAgcHJpdmF0ZSBmbHVzaEdldENvbnRlbnRRdWV1ZSh1c2VQYXN0UXVldWUgPSBmYWxzZSwgdXNlUXVldWU/OiBHZXRDb250ZW50T3B0aW9uc1tdKSB7XG4gICAgaWYgKCF0aGlzLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRmV0Y2hpbmcgY29udGVudCBmYWlsZWQsIGV4cGVjdGVkIGFwaUtleSB0byBiZSBkZWZpbmVkIGluc3RlYWQgZ290OiAke3RoaXMuYXBpS2V5fWBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXBpVmVyc2lvbikge1xuICAgICAgaWYgKCFbJ3YxJywgJ3YzJ10uaW5jbHVkZXModGhpcy5hcGlWZXJzaW9uKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXBpVmVyc2lvbjogZXhwZWN0ZWQgJ3YxJyBvciAndjMnLCByZWNlaXZlZCAnJHt0aGlzLmFwaVZlcnNpb259J2ApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFwaVZlcnNpb24gPSBERUZBVUxUX0FQSV9WRVJTSU9OO1xuICAgIH1cblxuICAgIGlmICghdXNlUGFzdFF1ZXVlICYmICF0aGlzLmdldENvbnRlbnRRdWV1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHF1ZXVlID0gdXNlUXVldWUgfHwgKHVzZVBhc3RRdWV1ZSA/IHRoaXMucHJpb3JDb250ZW50UXVldWUgOiB0aGlzLmdldENvbnRlbnRRdWV1ZSkgfHwgW107XG5cbiAgICAvLyBUT0RPOiBkbyB0aGlzIG9uIGV2ZXJ5IHJlcXVlc3Qgc2VuZD9cbiAgICB0aGlzLmdldE92ZXJyaWRlc0Zyb21RdWVyeVN0cmluZygpO1xuXG4gICAgY29uc3QgcXVlcnlQYXJhbXM6IFBhcmFtc01hcCA9IHtcbiAgICAgIC8vIFRPRE86IHdheSB0byBmb3JjZSBhIHJlcXVlc3QgdG8gYmUgaW4gYSBzZXBhcmF0ZSBxdWV1ZS4gb3IganVzdCBsb3dlciBxdWV1ZSBsaW1pdCB0byBiZSAxIGJ5IGRlZmF1bHRcbiAgICAgIG9taXQ6IHF1ZXVlWzBdLm9taXQgPz8gJ21ldGEuY29tcG9uZW50c1VzZWQnLFxuICAgICAgYXBpS2V5OiB0aGlzLmFwaUtleSxcbiAgICAgIC4uLnF1ZXVlWzBdLm9wdGlvbnMsXG4gICAgICAuLi50aGlzLnF1ZXJ5T3B0aW9ucyxcbiAgICB9O1xuXG4gICAgaWYgKHF1ZXVlWzBdLmxvY2FsZSkge1xuICAgICAgcXVlcnlQYXJhbXMubG9jYWxlID0gcXVldWVbMF0ubG9jYWxlO1xuICAgIH1cbiAgICBpZiAocXVldWVbMF0uZmllbGRzKSB7XG4gICAgICBxdWVyeVBhcmFtcy5maWVsZHMgPSBxdWV1ZVswXS5maWVsZHM7XG4gICAgfVxuICAgIGlmIChxdWV1ZVswXS5mb3JtYXQpIHtcbiAgICAgIHF1ZXJ5UGFyYW1zLmZvcm1hdCA9IHF1ZXVlWzBdLmZvcm1hdDtcbiAgICB9XG4gICAgaWYgKCdub1RyYXZlcnNlJyBpbiBxdWV1ZVswXSkge1xuICAgICAgcXVlcnlQYXJhbXMubm9UcmF2ZXJzZSA9IHF1ZXVlWzBdLm5vVHJhdmVyc2U7XG4gICAgfVxuICAgIGlmICgnaW5jbHVkZVVucHVibGlzaGVkJyBpbiBxdWV1ZVswXSkge1xuICAgICAgcXVlcnlQYXJhbXMuaW5jbHVkZVVucHVibGlzaGVkID0gcXVldWVbMF0uaW5jbHVkZVVucHVibGlzaGVkO1xuICAgIH1cbiAgICBpZiAocXVldWVbMF0uc29ydCkge1xuICAgICAgcXVlcnlQYXJhbXMuc29ydCA9IHF1ZXVlWzBdLnNvcnQ7XG4gICAgfVxuXG4gICAgY29uc3QgcGFnZVF1ZXJ5UGFyYW1zOiBQYXJhbXNNYXAgPVxuICAgICAgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBRdWVyeVN0cmluZy5wYXJzZURlZXAobG9jYXRpb24uc2VhcmNoLnN1YnN0cigxKSlcbiAgICAgICAgOiB1bmRlZmluZWQpIHx8IHt9OyAvLyBUT0RPOiBXSEFUIGFib3V0IFNTUiAodGhpcy5yZXF1ZXN0KSA/XG5cbiAgICBjb25zdCB1c2VyQXR0cmlidXRlcyA9XG4gICAgICAvLyBGSVhNRTogSEFDSzogb25seSBjaGVja3MgZmlyc3QgaW4gcXVldWUgZm9yIHVzZXIgYXR0cmlidXRlcyBvdmVycmlkZXMsIHNob3VsZCBjaGVjayBhbGxcbiAgICAgIC8vIFRPRE86IG1lcmdlIHVzZXIgYXR0cmlidXRlcyBwcm92aWRlZCBoZXJlIHdpdGggZGVmYXVsdHMgYW5kIGN1cnJlbnQgdXNlciBhdHRpcmlidXRlcyAoPylcbiAgICAgIHF1ZXVlICYmIHF1ZXVlWzBdLnVzZXJBdHRyaWJ1dGVzXG4gICAgICAgID8gcXVldWVbMF0udXNlckF0dHJpYnV0ZXNcbiAgICAgICAgOiB0aGlzLnRhcmdldENvbnRlbnRcbiAgICAgICAgICA/IHRoaXMuZ2V0VXNlckF0dHJpYnV0ZXMoKVxuICAgICAgICAgIDoge1xuICAgICAgICAgICAgICB1cmxQYXRoOiB0aGlzLmdldExvY2F0aW9uKCkucGF0aG5hbWUsXG4gICAgICAgICAgICB9O1xuXG4gICAgY29uc3QgZnVsbFVybFF1ZXVlSXRlbSA9IHF1ZXVlLmZpbmQoaXRlbSA9PiAhIWl0ZW0uaW5jbHVkZVVybCk7XG4gICAgaWYgKGZ1bGxVcmxRdWV1ZUl0ZW0pIHtcbiAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5nZXRMb2NhdGlvbigpO1xuICAgICAgaWYgKGxvY2F0aW9uLm9yaWdpbikge1xuICAgICAgICBxdWVyeVBhcmFtcy51cmwgPSBgJHtsb2NhdGlvbi5vcmlnaW59JHtsb2NhdGlvbi5wYXRobmFtZX0ke2xvY2F0aW9uLnNlYXJjaH1gO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHVybFF1ZXVlSXRlbSA9IHVzZVF1ZXVlPy5maW5kKGl0ZW0gPT4gaXRlbS51cmwpO1xuICAgIGlmICh1cmxRdWV1ZUl0ZW0/LnVybCkge1xuICAgICAgdXNlckF0dHJpYnV0ZXMudXJsUGF0aCA9IHVybFF1ZXVlSXRlbS51cmwuc3BsaXQoJz8nKVswXTtcbiAgICB9XG4gICAgLy8gVE9ETzogbWVyZ2UgaW4gdGhlIGF0dHJpYnV0ZSBmcm9tIHF1ZXJ5IHN0cmluZyBvbmVzXG4gICAgLy8gVE9ETzogbWFrZSB0aGlzIGFuIG9wdGlvbiBwZXIgY29tcG9uZW50L3JlcXVlc3RcbiAgICBxdWVyeVBhcmFtcy51c2VyQXR0cmlidXRlcyA9IEpTT04uc3RyaW5naWZ5KHVzZXJBdHRyaWJ1dGVzKTtcblxuICAgIGlmICghdXNlUGFzdFF1ZXVlICYmICF1c2VRdWV1ZSkge1xuICAgICAgdGhpcy5wcmlvckNvbnRlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgdGhpcy5nZXRDb250ZW50UXVldWUgPSBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGNhY2hlYnVzdCA9XG4gICAgICB0aGlzLmNhY2hlYnVzdCB8fFxuICAgICAgaXNJZnJhbWUgfHxcbiAgICAgIHBhZ2VRdWVyeVBhcmFtcy5jYWNoZWJ1c3QgfHxcbiAgICAgIHBhZ2VRdWVyeVBhcmFtc1snYnVpbGRlci5jYWNoZWJ1c3QnXTtcblxuICAgIGlmIChjYWNoZWJ1c3QgfHwgdGhpcy5lbnYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcXVlcnlQYXJhbXMuY2FjaGVidXN0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoQnVpbGRlci5pc0VkaXRpbmcpIHtcbiAgICAgIHF1ZXJ5UGFyYW1zLmlzRWRpdGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubm9DYWNoZSB8fCB0aGlzLmVudiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBxdWVyeVBhcmFtcy5ub0NhY2hlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoc2l6ZSh0aGlzLm92ZXJyaWRlcykpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMub3ZlcnJpZGVzKSB7XG4gICAgICAgIGlmICh0aGlzLm92ZXJyaWRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbXNbYG92ZXJyaWRlcy4ke2tleX1gXSA9IHRoaXMub3ZlcnJpZGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IG9wdGlvbnMgb2YgcXVldWUpIHtcbiAgICAgIGNvbnN0IGZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0O1xuXG4gICAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLmZvcm1hdCA9IGZvcm1hdDtcbiAgICAgIH1cbiAgICAgIC8vIFRPRE86IHJlbW92ZSBtZSBhbmQgbWFrZSBwZXJtb2RlbFxuICAgICAgaWYgKG9wdGlvbnMuc3RhdGljKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLnN0YXRpYyA9IG9wdGlvbnMuc3RhdGljO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5jYWNoZWJ1c3QpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuY2FjaGVidXN0ID0gb3B0aW9ucy5jYWNoZWJ1c3Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1Bvc2l0aXZlTnVtYmVyKG9wdGlvbnMuY2FjaGVTZWNvbmRzKSkge1xuICAgICAgICBxdWVyeVBhcmFtcy5jYWNoZVNlY29uZHMgPSBvcHRpb25zLmNhY2hlU2Vjb25kcztcbiAgICAgIH1cblxuICAgICAgaWYgKGlzUG9zaXRpdmVOdW1iZXIob3B0aW9ucy5zdGFsZUNhY2hlU2Vjb25kcykpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuc3RhbGVDYWNoZVNlY29uZHMgPSBvcHRpb25zLnN0YWxlQ2FjaGVTZWNvbmRzO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5hcGlFbmRwb2ludCA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLmluY2x1ZGVSZWZzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYXBpRW5kcG9pbnQgPT09ICdxdWVyeScpIHtcbiAgICAgICAgaWYgKCdlbnJpY2gnIGluIG9wdGlvbnMgJiYgb3B0aW9ucy5lbnJpY2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1zLmVucmljaCA9IG9wdGlvbnMuZW5yaWNoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmVucmljaE9wdGlvbnMpIHtcbiAgICAgICAgICB0aGlzLmZsYXR0ZW5FbnJpY2hPcHRpb25zKG9wdGlvbnMuZW5yaWNoT3B0aW9ucywgJ2VucmljaE9wdGlvbnMnLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJvcGVydGllczogKGtleW9mIEdldENvbnRlbnRPcHRpb25zKVtdID0gW1xuICAgICAgICAncHJlcmVuZGVyJyxcbiAgICAgICAgJ2V4dHJhY3RDc3MnLFxuICAgICAgICAnbGltaXQnLFxuICAgICAgICAnb2Zmc2V0JyxcbiAgICAgICAgJ3F1ZXJ5JyxcbiAgICAgICAgJ3ByZXZpZXcnLFxuICAgICAgICAnbW9kZWwnLFxuICAgICAgICAnZW50cnknLFxuICAgICAgICAncmV2JyxcbiAgICAgICAgJ3N0YXRpYycsXG4gICAgICAgICdpbmNsdWRlUmVmcycsXG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1trZXldO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICh0aGlzLmFwaUVuZHBvaW50ID09PSAncXVlcnknKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5vcHRpb25zID0gcXVlcnlQYXJhbXMub3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLm9wdGlvbnNbb3B0aW9ucy5rZXkhXSA9IHF1ZXJ5UGFyYW1zLm9wdGlvbnNbb3B0aW9ucy5rZXkhXSB8fCB7fTtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLm9wdGlvbnNbb3B0aW9ucy5rZXkhXVtrZXldID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtc1trZXldID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgZW5yaWNoIGFuZCBlbnJpY2hPcHRpb25zIGZvciBjb250ZW50IGVuZHBvaW50XG4gICAgICBpZiAodGhpcy5hcGlFbmRwb2ludCA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgIGlmICgnZW5yaWNoJyBpbiBvcHRpb25zICYmIG9wdGlvbnMuZW5yaWNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtcy5lbnJpY2ggPSBvcHRpb25zLmVucmljaDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5lbnJpY2hPcHRpb25zKSB7XG4gICAgICAgICAgdGhpcy5mbGF0dGVuRW5yaWNoT3B0aW9ucyhvcHRpb25zLmVucmljaE9wdGlvbnMsICdlbnJpY2hPcHRpb25zJywgcXVlcnlQYXJhbXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnByZXZpZXcgJiYgdGhpcy5wcmV2aWV3aW5nTW9kZWwgPT09IHF1ZXVlPy5bMF0/Lm1vZGVsKSB7XG4gICAgICBxdWVyeVBhcmFtcy5wcmV2aWV3ID0gJ3RydWUnO1xuICAgIH1cbiAgICBjb25zdCBoYXNQYXJhbXMgPSBPYmplY3Qua2V5cyhxdWVyeVBhcmFtcykubGVuZ3RoID4gMDtcblxuICAgIC8vIFRPRE86IG9wdGlvbiB0byBmb3JjZSBkZXYgb3IgcWEgYXBpIGhlcmVcbiAgICBjb25zdCBob3N0ID0gdGhpcy5ob3N0O1xuXG4gICAgY29uc3Qga2V5TmFtZXMgPSBxdWV1ZS5tYXAoaXRlbSA9PiBlbmNvZGVVUklDb21wb25lbnQoaXRlbS5rZXkhKSkuam9pbignLCcpO1xuXG4gICAgaWYgKHRoaXMub3ZlcnJpZGVQYXJhbXMpIHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG9taXQoUXVlcnlTdHJpbmcucGFyc2UodGhpcy5vdmVycmlkZVBhcmFtcyksICdhcGlLZXknKTtcbiAgICAgIGFzc2lnbihxdWVyeVBhcmFtcywgcGFyYW1zKTtcbiAgICB9XG5cbiAgICBjb25zdCBmb3JtYXQgPSBxdWVyeVBhcmFtcy5mb3JtYXQ7XG4gICAgY29uc3QgaXNBcGlDYWxsRm9yQ29kZWdlbiA9IGZvcm1hdCA9PT0gJ3NvbGlkJyB8fCBmb3JtYXQgPT09ICdyZWFjdCc7XG4gICAgY29uc3QgaXNBcGlDYWxsRm9yQ29kZWdlbk9yUXVlcnkgPSBpc0FwaUNhbGxGb3JDb2RlZ2VuIHx8IHRoaXMuYXBpRW5kcG9pbnQgPT09ICdxdWVyeSc7XG5cbiAgICBpZiAodGhpcy5hcGlFbmRwb2ludCA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICBpZiAocXVldWVbMF0ucXVlcnkpIHtcbiAgICAgICAgZGVsZXRlIHF1ZXJ5UGFyYW1zLnF1ZXJ5O1xuICAgICAgICBjb25zdCBvYmplY3RUb0ZsYXR0ZW4gPSB7IHF1ZXJ5OiBxdWV1ZVswXS5xdWVyeSB9O1xuICAgICAgICBjb25zdCBmbGF0dGVuZWQgPSB0aGlzLmZsYXR0ZW5Nb25nb1F1ZXJ5KG9iamVjdFRvRmxhdHRlbik7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGZsYXR0ZW5lZCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1zW2tleV0gPSBKU09OLnN0cmluZ2lmeShmbGF0dGVuZWRba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBxdWVyeVN0ciA9IFF1ZXJ5U3RyaW5nLnN0cmluZ2lmeURlZXAocXVlcnlQYXJhbXMpO1xuXG4gICAgY29uc3QgZmV0Y2hPcHRpb25zID0geyBoZWFkZXJzOiB7fSwgLi4ucXVldWVbMF0uZmV0Y2hPcHRpb25zIH07XG4gICAgaWYgKHRoaXMuYXV0aFRva2VuKSB7XG4gICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgLi4uZmV0Y2hPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmF1dGhUb2tlbn1gLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgdXJsO1xuICAgIGlmIChpc0FwaUNhbGxGb3JDb2RlZ2VuKSB7XG4gICAgICB1cmwgPSBgJHtob3N0fS9hcGkvdjEvY29kZWdlbi8ke3RoaXMuYXBpS2V5fS8ke2tleU5hbWVzfWA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmFwaUVuZHBvaW50ID09PSAncXVlcnknKSB7XG4gICAgICB1cmwgPSBgJHtob3N0fS9hcGkvdjMvcXVlcnkvJHt0aGlzLmFwaUtleX0vJHtrZXlOYW1lc31gO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgPSBgJHtob3N0fS9hcGkvdjMvY29udGVudC8ke3F1ZXVlWzBdLm1vZGVsfWA7XG4gICAgfVxuXG4gICAgdXJsID0gdXJsICsgKHF1ZXJ5UGFyYW1zICYmIGhhc1BhcmFtcyA/IGA/JHtxdWVyeVN0cn1gIDogJycpO1xuXG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMubWFrZUZldGNoQXBpQ2FsbCh1cmwsIGZldGNoT3B0aW9ucylcbiAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oXG4gICAgICAgIHJlc3VsdCA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCBvcHRpb25zIG9mIHF1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlOYW1lID0gb3B0aW9ucy5rZXkhO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubW9kZWwgPT09IHRoaXMuYmxvY2tDb250ZW50TG9hZGluZyAmJiAhb3B0aW9ucy5ub0VkaXRvclVwZGF0ZXMpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGlzRWRpdGluZ1RoaXNNb2RlbCA9IHRoaXMuZWRpdGluZ01vZGVsID09PSBvcHRpb25zLm1vZGVsO1xuICAgICAgICAgICAgaWYgKGlzRWRpdGluZ1RoaXNNb2RlbCAmJiBCdWlsZGVyLmlzRWRpdGluZykge1xuICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyB0eXBlOiAnYnVpbGRlci51cGRhdGVDb250ZW50JywgZGF0YTogeyBvcHRpb25zIH0gfSwgJyonKTtcbiAgICAgICAgICAgICAgLy8gcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc0J5S2V5W2tleU5hbWVdO1xuICAgICAgICAgICAgaWYgKCFvYnNlcnZlcikge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gaXNBcGlDYWxsRm9yQ29kZWdlbk9yUXVlcnkgPyByZXN1bHRba2V5TmFtZV0gOiByZXN1bHQucmVzdWx0cztcbiAgICAgICAgICAgIGNvbnN0IHNvcnRlZCA9IGRhdGE7IC8vIHNvcnRCeShkYXRhLCBpdGVtID0+IGl0ZW0ucHJpb3JpdHkpO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgY29uc3QgdGVzdE1vZGlmaWVkUmVzdWx0cyA9IEJ1aWxkZXIuaXNTZXJ2ZXJcbiAgICAgICAgICAgICAgICA/IHNvcnRlZFxuICAgICAgICAgICAgICAgIDogdGhpcy5wcm9jZXNzUmVzdWx0c0ZvclRlc3RzKHNvcnRlZCk7XG4gICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodGVzdE1vZGlmaWVkUmVzdWx0cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBzZWFyY2ggPSB0aGlzLmdldExvY2F0aW9uKCkuc2VhcmNoO1xuICAgICAgICAgICAgICBpZiAoKHNlYXJjaCB8fCAnJykuaW5jbHVkZXMoJ2J1aWxkZXIucHJldmlldz0nICsgb3B0aW9ucy5tb2RlbCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgIGlkOiAncHJldmlldycsXG4gICAgICAgICAgICAgICAgICBuYW1lOiAnUHJldmlldycsXG4gICAgICAgICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoW3ByZXZpZXdEYXRhXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9ucyBvZiBxdWV1ZSkge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc0J5S2V5W29wdGlvbnMua2V5IV07XG4gICAgICAgICAgICBpZiAoIW9ic2VydmVyKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBwcml2YXRlIHRlc3RDb29raWVQcmVmaXggPSAnYnVpbGRlci50ZXN0cyc7XG5cbiAgcHJpdmF0ZSBwcm9jZXNzUmVzdWx0c0ZvclRlc3RzKHJlc3VsdHM6IEJ1aWxkZXJDb250ZW50W10pIHtcbiAgICBjb25zdCBtYXBwZWRSZXN1bHRzID0gcmVzdWx0cy5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoIWl0ZW0udmFyaWF0aW9ucykge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvb2tpZVZhbHVlID0gdGhpcy5nZXRUZXN0Q29va2llKGl0ZW0uaWQhKTtcbiAgICAgIGNvbnN0IGNvb2tpZVZhcmlhdGlvbiA9IGNvb2tpZVZhbHVlID09PSBpdGVtLmlkID8gaXRlbSA6IGl0ZW0udmFyaWF0aW9uc1tjb29raWVWYWx1ZV07XG4gICAgICBpZiAoY29va2llVmFyaWF0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICBkYXRhOiBjb29raWVWYXJpYXRpb24uZGF0YSxcbiAgICAgICAgICB2YXJpYXRpb25JZDogY29va2llVmFsdWUsXG4gICAgICAgICAgdGVzdFZhcmlhdGlvbklkOiBjb29raWVWYWx1ZSxcbiAgICAgICAgICB0ZXN0VmFyaWF0aW9uTmFtZTogY29va2llVmFyaWF0aW9uLm5hbWUsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jYW5UcmFjayAmJiBpdGVtLnZhcmlhdGlvbnMgJiYgc2l6ZShpdGVtLnZhcmlhdGlvbnMpKSB7XG4gICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgY29uc3QgcmFuZG9tID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBpdGVtLnZhcmlhdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCB2YXJpYXRpb24gPSBpdGVtLnZhcmlhdGlvbnNbaWRdITtcbiAgICAgICAgICBjb25zdCB0ZXN0UmF0aW8gPSB2YXJpYXRpb24udGVzdFJhdGlvO1xuICAgICAgICAgIG4gKz0gdGVzdFJhdGlvITtcbiAgICAgICAgICBpZiAocmFuZG9tIDwgbikge1xuICAgICAgICAgICAgdGhpcy5zZXRUZXN0Q29va2llKGl0ZW0uaWQhLCB2YXJpYXRpb24uaWQhKTtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbk5hbWUgPVxuICAgICAgICAgICAgICB2YXJpYXRpb24ubmFtZSB8fCAodmFyaWF0aW9uLmlkID09PSBpdGVtLmlkID8gJ0RlZmF1bHQgdmFyaWF0aW9uJyA6ICcnKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgIGRhdGE6IHZhcmlhdGlvbi5kYXRhLFxuICAgICAgICAgICAgICB2YXJpYXRpb25JZDogdmFyaWF0aW9uLmlkLFxuICAgICAgICAgICAgICB0ZXN0VmFyaWF0aW9uSWQ6IHZhcmlhdGlvbi5pZCxcbiAgICAgICAgICAgICAgdmFyaWF0aW9uTmFtZTogdmFyaWF0aW9uTmFtZSxcbiAgICAgICAgICAgICAgdGVzdFZhcmlhdGlvbk5hbWU6IHZhcmlhdGlvbk5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFRlc3RDb29raWUoaXRlbS5pZCEsIGl0ZW0uaWQhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHZhcmlhdGlvbklkOiBpdGVtLmlkLFxuICAgICAgICAuLi4oaXRlbS52YXJpYXRpb25zICYmXG4gICAgICAgICAgc2l6ZShpdGVtLnZhcmlhdGlvbnMpICYmIHtcbiAgICAgICAgICAgIHRlc3RWYXJpYXRpb25JZDogaXRlbS5pZCxcbiAgICAgICAgICAgIHRlc3RWYXJpYXRpb25OYW1lOiAnRGVmYXVsdCB2YXJpYXRpb24nLFxuICAgICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGlmIChpc0lmcmFtZSkge1xuICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgIHsgdHlwZTogJ2J1aWxkZXIuY29udGVudFJlc3VsdHMnLCBkYXRhOiB7IHJlc3VsdHM6IG1hcHBlZFJlc3VsdHMgfSB9LFxuICAgICAgICAnKidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcHBlZFJlc3VsdHM7XG4gIH1cblxuICBwcml2YXRlIGdldFRlc3RDb29raWUoY29udGVudElkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb29raWUoYCR7dGhpcy50ZXN0Q29va2llUHJlZml4fS4ke2NvbnRlbnRJZH1gKTtcbiAgfVxuXG4gIHByaXZhdGUgY29va2llUXVldWU6IFtzdHJpbmcsIHN0cmluZ11bXSA9IFtdO1xuXG4gIHByaXZhdGUgc2V0VGVzdENvb2tpZShjb250ZW50SWQ6IHN0cmluZywgdmFyaWF0aW9uSWQ6IHN0cmluZykge1xuICAgIGlmICghdGhpcy5jYW5UcmFjaykge1xuICAgICAgdGhpcy5jb29raWVRdWV1ZS5wdXNoKFtjb250ZW50SWQsIHZhcmlhdGlvbklkXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gMzAgZGF5cyBmcm9tIG5vd1xuICAgIGNvbnN0IGZ1dHVyZSA9IG5ldyBEYXRlKCk7XG4gICAgZnV0dXJlLnNldERhdGUoZnV0dXJlLmdldERhdGUoKSArIDMwKTtcblxuICAgIHJldHVybiB0aGlzLnNldENvb2tpZShgJHt0aGlzLnRlc3RDb29raWVQcmVmaXh9LiR7Y29udGVudElkfWAsIHZhcmlhdGlvbklkLCBmdXR1cmUpO1xuICB9XG5cbiAgZ2V0Q29va2llKG5hbWU6IHN0cmluZyk6IGFueSB7XG4gICAgaWYgKHRoaXMuY29va2llcykge1xuICAgICAgcmV0dXJuIHRoaXMuY29va2llcy5nZXQobmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBCdWlsZGVyLmlzQnJvd3NlciAmJiBnZXRDb29raWUobmFtZSk7XG4gIH1cblxuICBzZXRDb29raWUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCBleHBpcmVzPzogRGF0ZSkge1xuICAgIGlmICh0aGlzLmNvb2tpZXMgJiYgIShCdWlsZGVyLmlzU2VydmVyICYmIEJ1aWxkZXIuaXNTdGF0aWMpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29raWVzLnNldChuYW1lLCB2YWx1ZSwge1xuICAgICAgICBleHBpcmVzLFxuICAgICAgICBzZWN1cmU6IHRoaXMuZ2V0TG9jYXRpb24oKS5wcm90b2NvbCA9PT0gJ2h0dHBzOicsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIEJ1aWxkZXIuaXNCcm93c2VyICYmIHNldENvb2tpZShuYW1lLCB2YWx1ZSwgZXhwaXJlcyk7XG4gIH1cblxuICAvKipcbiAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgZW5yaWNoT3B0aW9ucyBvYmplY3QgaW50byBkb3Qtbm90YXRpb24gcXVlcnkgcGFyYW1ldGVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBmbGF0dGVuRW5yaWNoT3B0aW9ucyhvYmo6IGFueSwgcHJlZml4OiBzdHJpbmcsIHJlc3VsdDogUmVjb3JkPHN0cmluZywgYW55Pik6IHZvaWQge1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9iaikpIHtcbiAgICAgIGNvbnN0IG5ld0tleSA9IGAke3ByZWZpeH0uJHtrZXl9YDtcblxuICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHRoaXMuZmxhdHRlbkVucmljaE9wdGlvbnModmFsdWUsIG5ld0tleSwgcmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtuZXdLZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29udGVudChtb2RlbE5hbWU6IHN0cmluZywgb3B0aW9uczogR2V0Q29udGVudE9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghdGhpcy5hcGlLZXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEZldGNoaW5nIGNvbnRlbnQgZnJvbSBtb2RlbCAke21vZGVsTmFtZX0gZmFpbGVkLCBleHBlY3RlZCBhcGlLZXkgdG8gYmUgZGVmaW5lZCBpbnN0ZWFkIGdvdDogJHt0aGlzLmFwaUtleX1gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5xdWV1ZUdldENvbnRlbnQobW9kZWxOYW1lLCBvcHRpb25zKTtcbiAgfVxuXG4gIGdldEFsbChcbiAgICBtb2RlbE5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zOiBHZXRDb250ZW50T3B0aW9ucyAmIHtcbiAgICAgIHJlcT86IEluY29taW5nTWVzc2FnZTtcbiAgICAgIHJlcz86IFNlcnZlclJlc3BvbnNlO1xuICAgICAgYXBpS2V5Pzogc3RyaW5nO1xuICAgICAgYXV0aFRva2VuPzogc3RyaW5nO1xuICAgIH0gPSB7fVxuICApOiBQcm9taXNlPEJ1aWxkZXJDb250ZW50W10+IHtcbiAgICBsZXQgaW5zdGFuY2U6IEJ1aWxkZXIgPSB0aGlzO1xuICAgIGlmICghQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIGluc3RhbmNlID0gbmV3IEJ1aWxkZXIoXG4gICAgICAgIG9wdGlvbnMuYXBpS2V5IHx8IHRoaXMuYXBpS2V5LFxuICAgICAgICBvcHRpb25zLnJlcSxcbiAgICAgICAgb3B0aW9ucy5yZXMsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBvcHRpb25zLmF1dGhUb2tlbiB8fCB0aGlzLmF1dGhUb2tlbixcbiAgICAgICAgb3B0aW9ucy5hcGlWZXJzaW9uIHx8IHRoaXMuYXBpVmVyc2lvblxuICAgICAgKTtcbiAgICAgIGluc3RhbmNlLnNldFVzZXJBdHRyaWJ1dGVzKHRoaXMuZ2V0VXNlckF0dHJpYnV0ZXMoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5PVEU6IEFsbCB0aGVzZSBhcmUgd2hlbiAuaW5pdCBpcyBub3QgY2FsbGVkIGFuZCB0aGUgY3VzdG9tZXJcbiAgICAgIC8vIGRpcmVjdGx5IGNhbGxzIC5nZXQgb24gdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiBCdWlsZGVyXG4gICAgICBpZiAob3B0aW9ucy5hcGlLZXkgJiYgIXRoaXMuYXBpS2V5KSB7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gb3B0aW9ucy5hcGlLZXk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5hdXRoVG9rZW4gJiYgIXRoaXMuYXV0aFRva2VuKSB7XG4gICAgICAgIHRoaXMuYXV0aFRva2VuID0gb3B0aW9ucy5hdXRoVG9rZW47XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5hcGlWZXJzaW9uICYmICF0aGlzLmFwaVZlcnNpb24pIHtcbiAgICAgICAgdGhpcy5hcGlWZXJzaW9uID0gb3B0aW9ucy5hcGlWZXJzaW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldCBub1RyYXZlcnNlPXRydWUgaWYgTk9UIGFscmVhZHkgcGFzc2VkIGJ5IHVzZXIsIGZvciBxdWVyeSBwZXJmb3JtYW5jZVxuICAgIGlmICghKCdub1RyYXZlcnNlJyBpbiBvcHRpb25zKSkge1xuICAgICAgb3B0aW9ucy5ub1RyYXZlcnNlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2VcbiAgICAgIC5nZXRDb250ZW50KG1vZGVsTmFtZSwge1xuICAgICAgICBsaW1pdDogMzAsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGtleTpcbiAgICAgICAgICBvcHRpb25zLmtleSB8fFxuICAgICAgICAgIC8vIE1ha2UgdGhlIGtleSBpbmNsdWRlIGFsbCBvcHRpb25zLCBzbyB3ZSBkb24ndCByZXVzZSBjYWNoZSBmb3IgdGhlIHNhbWUgY29udGVudCBmZXRjaGVkXG4gICAgICAgICAgLy8gd2l0aCBkaWZmZXJlbnQgb3B0aW9uc1xuICAgICAgICAgIEJ1aWxkZXIuaXNCcm93c2VyXG4gICAgICAgICAgICA/IGAke21vZGVsTmFtZX06JHtoYXNoKG9taXQob3B0aW9ucywgJ2luaXRpYWxDb250ZW50JywgJ3JlcScsICdyZXMnKSl9YFxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICB9KVxuICAgICAgLnByb21pc2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQnVpbGRlciB9IGZyb20gJy4uL2J1aWxkZXIuY2xhc3MnO1xuXG5leHBvcnQgY29uc3QgYnVpbGRlciA9IG5ldyBCdWlsZGVyKG51bGwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlKTtcbkJ1aWxkZXIuc2luZ2xldG9uSW5zdGFuY2UgPSBidWlsZGVyO1xuIl0sIm5hbWVzIjpbIlByb21pc2UiLCJzZXJ2ZXJPbmx5UmVxdWlyZSIsInBhcnNlIiwidXJsUGFyc2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@builder.io/sdk/dist/index.esm.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@builder.io/sdk/node_modules/tslib/tslib.es6.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@builder.io/sdk/node_modules/tslib/tslib.es6.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __assign: () => (/* binding */ __assign),\n/* harmony export */   __asyncDelegator: () => (/* binding */ __asyncDelegator),\n/* harmony export */   __asyncGenerator: () => (/* binding */ __asyncGenerator),\n/* harmony export */   __asyncValues: () => (/* binding */ __asyncValues),\n/* harmony export */   __await: () => (/* binding */ __await),\n/* harmony export */   __awaiter: () => (/* binding */ __awaiter),\n/* harmony export */   __classPrivateFieldGet: () => (/* binding */ __classPrivateFieldGet),\n/* harmony export */   __classPrivateFieldSet: () => (/* binding */ __classPrivateFieldSet),\n/* harmony export */   __createBinding: () => (/* binding */ __createBinding),\n/* harmony export */   __decorate: () => (/* binding */ __decorate),\n/* harmony export */   __exportStar: () => (/* binding */ __exportStar),\n/* harmony export */   __extends: () => (/* binding */ __extends),\n/* harmony export */   __generator: () => (/* binding */ __generator),\n/* harmony export */   __importDefault: () => (/* binding */ __importDefault),\n/* harmony export */   __importStar: () => (/* binding */ __importStar),\n/* harmony export */   __makeTemplateObject: () => (/* binding */ __makeTemplateObject),\n/* harmony export */   __metadata: () => (/* binding */ __metadata),\n/* harmony export */   __param: () => (/* binding */ __param),\n/* harmony export */   __read: () => (/* binding */ __read),\n/* harmony export */   __rest: () => (/* binding */ __rest),\n/* harmony export */   __spread: () => (/* binding */ __spread),\n/* harmony export */   __spreadArrays: () => (/* binding */ __spreadArrays),\n/* harmony export */   __values: () => (/* binding */ __values)\n/* harmony export */ });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGJ1aWxkZXIuaW8vc2RrL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ25GLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxjQUFjO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDZDQUE2QyxRQUFRO0FBQ3JEO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1AsY0FBYyw2QkFBNkIsMEJBQTBCLGNBQWMscUJBQXFCO0FBQ3hHLGlCQUFpQixvREFBb0QscUVBQXFFLGNBQWM7QUFDeEosdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsbUNBQW1DLFNBQVM7QUFDNUMsbUNBQW1DLFdBQVcsVUFBVTtBQUN4RCwwQ0FBMEMsY0FBYztBQUN4RDtBQUNBLDhHQUE4RyxPQUFPO0FBQ3JILGlGQUFpRixpQkFBaUI7QUFDbEcseURBQXlELGdCQUFnQixRQUFRO0FBQ2pGLCtDQUErQyxnQkFBZ0IsZ0JBQWdCO0FBQy9FO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxVQUFVLFlBQVksYUFBYSxTQUFTLFVBQVU7QUFDdEQsb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw2QkFBNkIsc0JBQXNCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrREFBa0QsUUFBUTtBQUMxRCx5Q0FBeUMsUUFBUTtBQUNqRCx5REFBeUQsUUFBUTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsaUJBQWlCLHVGQUF1RixjQUFjO0FBQ3RILHVCQUF1QixnQ0FBZ0MscUNBQXFDLDJDQUEyQztBQUN2SSw0QkFBNEIsTUFBTSxpQkFBaUIsWUFBWTtBQUMvRCx1QkFBdUI7QUFDdkIsOEJBQThCO0FBQzlCLDZCQUE2QjtBQUM3Qiw0QkFBNEI7QUFDNUI7QUFDQTtBQUNPO0FBQ1A7QUFDQSxpQkFBaUIsNkNBQTZDLFVBQVUsc0RBQXNELGNBQWM7QUFDNUksMEJBQTBCLDZCQUE2QixvQkFBb0IsZ0RBQWdELGtCQUFrQjtBQUM3STtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsMkdBQTJHLHVGQUF1RixjQUFjO0FBQ2hOLHVCQUF1Qiw4QkFBOEIsZ0RBQWdELHdEQUF3RDtBQUM3Siw2Q0FBNkMsc0NBQXNDLFVBQVUsbUJBQW1CLElBQUk7QUFDcEg7QUFDQTtBQUNPO0FBQ1AsaUNBQWlDLHVDQUF1QyxZQUFZLEtBQUssT0FBTztBQUNoRztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9CWk5vbWFkL25vZGVfbW9kdWxlcy9AYnVpbGRlci5pby9zZGsvbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@builder.io/sdk/node_modules/tslib/tslib.es6.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@builder.io/react/dist/builder-react.es5.js":
/*!******************************************************************!*\
  !*** ./node_modules/@builder.io/react/dist/builder-react.es5.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Builder: () => (/* reexport safe */ _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder),\n/* harmony export */   BuilderAsyncRequestsContext: () => (/* binding */ BuilderAsyncRequestsContext),\n/* harmony export */   BuilderBlock: () => (/* binding */ BuilderBlock),\n/* harmony export */   BuilderBlockComponent: () => (/* binding */ BuilderBlock$1),\n/* harmony export */   BuilderBlocks: () => (/* binding */ BuilderBlocks),\n/* harmony export */   BuilderComponent: () => (/* binding */ BuilderComponent),\n/* harmony export */   BuilderContent: () => (/* binding */ BuilderContent),\n/* harmony export */   BuilderMetaContext: () => (/* binding */ BuilderMetaContext),\n/* harmony export */   BuilderPage: () => (/* binding */ BuilderComponent),\n/* harmony export */   BuilderStoreContext: () => (/* binding */ BuilderStoreContext),\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   Columns: () => (/* binding */ Columns),\n/* harmony export */   Content: () => (/* binding */ BuilderComponent),\n/* harmony export */   CustomCode: () => (/* binding */ CustomCode),\n/* harmony export */   Dropzone: () => (/* binding */ Slot),\n/* harmony export */   Embed: () => (/* binding */ Embed),\n/* harmony export */   Form: () => (/* binding */ Form),\n/* harmony export */   FormInput: () => (/* binding */ FormInput),\n/* harmony export */   FormSelect: () => (/* binding */ FormSelect),\n/* harmony export */   FormSubmitButton: () => (/* binding */ FormSubmitButton),\n/* harmony export */   Fragment: () => (/* binding */ Fragment),\n/* harmony export */   Image: () => (/* binding */ Image),\n/* harmony export */   Img: () => (/* binding */ Img),\n/* harmony export */   Label: () => (/* binding */ Label),\n/* harmony export */   Mutation: () => (/* binding */ Mutation),\n/* harmony export */   PersonalizationContainer: () => (/* binding */ PersonalizationContainer),\n/* harmony export */   RawText: () => (/* binding */ RawText),\n/* harmony export */   Router: () => (/* binding */ Router),\n/* harmony export */   Section: () => (/* binding */ Section),\n/* harmony export */   StateProvider: () => (/* binding */ StateProvider),\n/* harmony export */   Symbol: () => (/* binding */ Symbol$1),\n/* harmony export */   Text: () => (/* binding */ Text),\n/* harmony export */   TextArea: () => (/* binding */ TextArea),\n/* harmony export */   Video: () => (/* binding */ Video),\n/* harmony export */   builder: () => (/* reexport safe */ _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder),\n/* harmony export */   \"default\": () => (/* reexport safe */ _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder),\n/* harmony export */   getSrcSet: () => (/* binding */ getSrcSet),\n/* harmony export */   noWrap: () => (/* binding */ noWrap),\n/* harmony export */   onChange: () => (/* binding */ onChange),\n/* harmony export */   stringToFunction: () => (/* binding */ stringToFunction),\n/* harmony export */   updateMetadata: () => (/* binding */ updateMetadata),\n/* harmony export */   useIsPreviewing: () => (/* binding */ useIsPreviewing),\n/* harmony export */   withBuilder: () => (/* binding */ withBuilder),\n/* harmony export */   withChildren: () => (/* binding */ withChildren)\n/* harmony export */ });\n/* harmony import */ var _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @builder.io/sdk */ \"(ssr)/./node_modules/@builder.io/sdk/dist/index.esm.js\");\n/* harmony import */ var _emotion_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @emotion/core */ \"(ssr)/./node_modules/@emotion/core/dist/core.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var hash_sum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! hash-sum */ \"(ssr)/./node_modules/hash-sum/hash-sum.js\");\n/* harmony import */ var hash_sum__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(hash_sum__WEBPACK_IMPORTED_MODULE_4__);\nvar SDK_VERSION=\"9.1.0\",_a;\"undefined\"!=typeof window&&(null===(_a=window.parent)||void 0===_a||_a.postMessage({type:\"builder.isReactSdk\",data:{value:!0,supportsPatchUpdates:\"v4\",supportsCustomBreakpoints:!0,supportsXSmallBreakpoint:!0,supportsGlobalSymbols:!0,blockLevelPersonalization:!0,version:SDK_VERSION}},\"*\"));var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function __rest(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function __decorate(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function __metadata(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))}function __generator(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError(\"Generator is already executing.\");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function __spreadArray(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}\"function\"==typeof SuppressedError&&SuppressedError;var fastClone=function(e){return JSON.parse(JSON.stringify(e))},omit$2=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=Object.assign({},e),r=0,o=t;r<o.length;r++){var a=o[r];delete i[a]}return i},sizeNames=[\"xsmall\",\"small\",\"medium\",\"large\"],sizes={xsmall:{min:0,default:160,max:320},small:{min:321,default:321,max:640},medium:{min:641,default:642,max:991},large:{min:990,default:991,max:1200},getWidthForSize:function(e){return this[e].default},getSizeForWidth:function(e){for(var t=0,n=sizeNames;t<n.length;t++){var i=n[t];if(e<=this[i].max)return i}return\"large\"}},getSizesForBreakpoints=function(e){var t=__assign(__assign({},sizes),fastClone(sizes));if(!e)return t;var n=e.xsmall,i=e.small,r=e.medium;if(n){var o=Math.floor(n/2);t.xsmall={max:n,min:o,default:o+1}}if(!i||!r)return t;var a=n?t.xsmall.max+1:Math.floor(i/2);t.small={max:i,min:a,default:a+1};var s=t.small.max+1;t.medium={max:r,min:s,default:s+1};var l=t.medium.max+1;return t.large={max:2e3,min:l,default:l+1},t},set=function(e,t,n){if(Object(e)!==e)return e;var i=Array.isArray(t)?t:t.toString().match(/[^.[\\]]+/g);return i.slice(0,-1).reduce((function(e,t,n){return Object(e[t])===e[t]?e[t]:e[t]=Math.abs(Number(i[n+1]))>>0==+i[n+1]?[]:{}}),e)[i[i.length-1]]=n,e},noop=function(){return null},safeDynamicRequire;if(\"function\"==typeof(null===globalThis||void 0===globalThis?void 0:globalThis.require)||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer&&\"function\"==\"function\")try{safeDynamicRequire=eval(\"require\")}catch(e){safeDynamicRequire=(null===globalThis||void 0===globalThis?void 0:globalThis.require)?globalThis.require:noop}function isDebug(){return Boolean(\"undefined\"!=typeof process&&void 0!==process.env&&process.env.DEBUG)}function isNodeRuntime(){var e;return\"undefined\"!=typeof process&&Boolean(null===(e=null===process||void 0===process?void 0:process.versions)||void 0===e?void 0:e.node)}null!=safeDynamicRequire||(safeDynamicRequire=noop);var shouldForceBrowserRuntimeInNode=function(){var e;if(!isNodeRuntime())return!1;var t=\"arm64\"===process.arch,n=process.version.startsWith(\"v20\"),i=null===(e=process.env.NODE_OPTIONS)||void 0===e?void 0:e.includes(\"--no-node-snapshot\");return!(!t||!n||i)&&(console.log(\"Skipping usage of `isolated-vm` to avoid crashes in Node v20 on an arm64 machine.\\n    If you would like to use the `isolated-vm` package on this machine, please provide the `NODE_OPTIONS=--no-node-snapshot` config to your Node process.\\n    See https://github.com/BuilderIO/builder/blob/main/packages/react/README.md#node-v20--m1-macs-apple-silicon-support for more information.\\n    \"),!0)},fnCache={},api=function(e){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder};function stringToFunction(e,t,n,i){if(void 0===t&&(t=!0),!e||!e.trim())return function(){};var r=e+\":\"+t;if(fnCache[r])return fnCache[r];var o=t&&!(e.includes(\";\")||e.includes(\" return \")||e.trim().startsWith(\"return \"))||e.trim().startsWith(\"builder.run\"),a=function(){};try{_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(a=new Function(\"state\",\"event\",\"block\",\"builder\",\"Device\",\"update\",\"Builder\",\"context\",\"\\n          var names = [\\n            'state',\\n            'event',\\n            'block',\\n            'builder',\\n            'Device',\\n            'update',\\n            'Builder',\\n            'context'\\n          ];\\n          var rootState = state;\\n          if (typeof Proxy !== 'undefined') {\\n            rootState = new Proxy(rootState, {\\n              set: function () {\\n                return false;\\n              },\\n              get: function (target, key) {\\n                if (names.includes(key)) {\\n                  return undefined;\\n                }\\n                return target[key];\\n              }\\n            });\\n          }\\n          /* Alias */\\n          var ctx = context;\\n          var log = console.log.bind(console);\\n          with (rootState) {\\n            \".concat(o?\"return (\".concat(e,\");\"):e,\";\\n          }\\n        \")))}catch(t){n&&n.push(t);var s=t&&t.message;s&&\"string\"==typeof s&&i&&-1===i.indexOf(s)&&i.push(s),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&console.warn(\"Function compile error in \".concat(e),t)}var l=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||shouldForceBrowserRuntimeInNode())return a.apply(void 0,t);var r=getIsolateContext(),s=safeDynamicRequire(\"isolated-vm\"),l=r.evalClosureSync(makeFn(e,o),t.map((function(e,t){return\"object\"==typeof e?new s.Reference(t===indexOfBuilderInstance?__assign(__assign({},e),{getUserAttributes:function(){return e.getUserAttributes(\"\")}}):e):null})));try{var u=JSON.parse(l);return u}catch(e){return l}}catch(t){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser?console.warn(\"Builder custom code error:\",t.message||t,\"in\",e,t.stack||t):isDebug()&&console.debug(\"Builder custom code error:\",t.message||t,\"in\",e,t.stack||t),n&&n.push(t),null}};return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(fnCache[r]=l),l}var indexOfBuilderInstance=3,makeFn=function(e,t,n){var i=n||[\"state\",\"event\",\"block\",\"builder\",\"Device\",\"update\",\"Builder\",\"context\"];return\"\\n\".concat(\"\\n  var refToProxy = (obj) => {\\n    if (typeof obj !== 'object' || obj === null) {\\n      return obj;\\n    }\\n    return new Proxy({}, {\\n        get(target, key) {\\n            if (key === 'copySync') {\\n              return () => obj.copySync();\\n            }\\n            const val = obj.getSync(key);\\n            if (typeof val?.copySync === 'function') {\\n                return JSON.parse(stringify(val));\\n            }\\n            return val;\\n        },\\n        set(target, key, value) {\\n            obj.setSync(key, value);\\n        },\\n        deleteProperty(target, key) {\\n            obj.deleteSync(key);\\n        }\\n      })\\n  }\\n\",\"\\n\").concat(\"\\n    var stringify = (val) => {\\n      if (typeof val === 'object' && val !== null) {\\n        return JSON.stringify(val.copySync ? val.copySync() : val);\\n      }\\n      return val;\\n    }\\n  \",\"\\n\").concat(i.map((function(e,t){return\"var \".concat(e,\" = refToProxy($\").concat(t,\");\")})).join(\"\\n\")).concat(\"\\n\".concat(i.includes(\"context\")?\"var ctx = context;\":\"\",\"\\nvar endResult = function() {\\n  \").concat(t?\"return (\".concat(e,\");\"):e,\";\\n};\\n\\nreturn stringify(endResult());\\n\"))},getIsolateContext=function(){var e=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.serverContext;e||(e=new(safeDynamicRequire(\"isolated-vm\").Isolate)({memoryLimit:128}).createContextSync(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.setServerContext(e));var t=e.global;return t.setSync(\"global\",t.derefInto()),t.setSync(\"log\",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];isDebug()&&console.log.apply(console,e)})),e},isPromise=function(e){return\"function\"==typeof e.then},isRequestInfo=function(e){return!isPromise(e)},BuilderAsyncRequestsContext=react__WEBPACK_IMPORTED_MODULE_2___default().createContext({requests:[],errors:[],logs:[]}),BuilderStoreContext=react__WEBPACK_IMPORTED_MODULE_2___default().createContext({state:{},rootState:{},content:{},context:{},update:function(e){return null}}),applyPatchWithMinimalMutationChain=function(e,t,n){if(void 0===n&&(n=!1),Object(e)!==e)return e;var i=t.path,r=t.op,o=t.value,a=i.split(/\\//);\"\"===a[0]&&a.shift();for(var s=n?e:__assign({},e),l=s,u=0;u<a.length;u++){var d=u===a.length-1,c=a[u];if(d){if(\"replace\"===r)l[c]=o;else if(\"add\"===r){var p=Number(c);Array.isArray(l)?\"-\"===c?l.push(o):l.splice(p,0,o):l[c]=o}else if(\"remove\"===r){p=Number(c);Array.isArray(l)?l.splice(p,1):delete l[c]}}else{var f=a[u+1],m=Object(l[c])===l[c]?l[c]:String(Number(f))===f?[]:{};l=l[c]=Array.isArray(m)?__spreadArray([],m,!0):__assign({},m)}}return s},htmlEscape=function(e){return e.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\")},blockToHtmlString=function(e){var t;return\"<\".concat(htmlEscape(e.tagName||\"div\"),' \\n    class=\"builder-block ').concat(e.id,\" \").concat(e.class||\"\",'\"\\n    builder-id=\"').concat(e.id,'\"\\n  ').concat(Object.keys(e.properties||{}).map((function(t){return\"\".concat(htmlEscape(t),'=\"').concat(htmlEscape(e.properties[t]),'\"')})).join(\" \"),\"\\n  >\").concat(\"Text\"===(null===(t=null==e?void 0:e.component)||void 0===t?void 0:t.name)?e.component.options.text:e.children?e.children.map((function(e){return blockToHtmlString(e)})).join(\"\"):\"\",\"</\").concat(e.tagName||\"div\",\">\").replace(/\\s+/g,\" \")},Link=function(e){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderStoreContext.Consumer,null,(function(t){return t.renderLink?t.renderLink(e):react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"a\",__assign({},e))}))};function traverse(e,t,n,i,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=new WeakSet),null!=e&&\"object\"==typeof e?r.has(e)||(r.add(e),Array.isArray(e)?e.forEach((function(n,i){t(n,(function(t){e[i]=t})),traverse(n,t,e,i,r)})):Object.entries(e).forEach((function(n){var i=n[0],o=n[1];t(o,(function(t){e[i]=t})),traverse(o,t,e,i,r)}))):t(e,(function(e){null!==n&&null!==i&&(n[i]=e)}))}var isLocalizedField=function(e){return e&&\"object\"==typeof e&&\"@builder.io/core:LocalizedValue\"===e[\"@type\"]},containsLocalizedValues=function(e){if(!e||!Object.getOwnPropertyNames(e).length)return!1;var t=!1;return traverse(e,(function(e){isLocalizedField(e)&&(t=!0)})),t},extractLocalizedValues=function(e,t){return e&&Object.getOwnPropertyNames(e).length?(traverse(e,(function(e,n){var i;isLocalizedField(e)&&n(null!==(i=e[t])&&void 0!==i?i:void 0)})),e):{}},camelCaseToKebabCase=function(e){return e?e.replace(/([A-Z])/g,(function(e){return\"-\".concat(e[0].toLowerCase())})):\"\"},kebabCaseToCamelCase=function(e){return void 0===e&&(e=\"\"),e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))},Device={desktop:0,tablet:1,mobile:2};function deepCloneWithConditions(e){if(null===e||\"object\"!=typeof e)return e;if(Array.isArray(e))return e.map((function(e){return deepCloneWithConditions(e)}));if(\"@builder.io/sdk:Element\"===e[\"@type\"])return e;var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(\"meta\"===n?t.meta=e.meta:t[n]=deepCloneWithConditions(e[n]));return t}var voidElements=new Set([\"area\",\"base\",\"br\",\"col\",\"embed\",\"hr\",\"img\",\"input\",\"link\",\"meta\",\"param\",\"source\",\"track\",\"wbr\",\"textarea\"]),last=function(e){return e[e.length-1]};function omit$1(e,t){for(var n=Object.assign({},e),i=0,r=t;i<r.length;i++){delete n[r[i]]}return n}var cssCase=function(e){if(!e)return e;var t=camelCaseToKebabCase(e);return e[0]===e[0].toUpperCase()&&(t=\"-\"+t),t};function capitalize(e){if(e)return e[0].toUpperCase()+e.slice(1)}var BuilderBlock$1=function(_super){function BuilderBlock(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.hydrated=!1,_this.state={hasError:!1,updates:0},_this.privateState={state:{},rootState:{},context:{},update:function(){}},_this.onWindowMessage=function(event){var message=event.data;if(message)switch(message.type){case\"builder.selectionChange\":var data=message.data;if(!data)break;var selection=data.selection,id=_this.block&&_this.block.id;id&&Array.isArray(selection)&&selection.indexOf(id)>-1&&setTimeout((function(){window.$block=_this,window.$blocks||(window.$blocks=[]),window.$blocks.push(_this)}));break;case\"builder.patchUpdates\":var data=message.data;if(!data||!data.data)break;var patches=data.data[_this.block.id];if(!patches)return;location.href.includes(\"builder.debug=true\")&&eval(\"debugger\");for(var _i=0,patches_1=patches;_i<patches_1.length;_i++){var patch=patches_1[_i];applyPatchWithMinimalMutationChain(_this.props.block,patch,!0)}_this.setState({updates:_this.state.updates+1})}},_this}return __extends(BuilderBlock,_super),Object.defineProperty(BuilderBlock.prototype,\"store\",{get:function(){return this.privateState},enumerable:!1,configurable:!0}),BuilderBlock.getDerivedStateFromError=function(e){return{hasError:!0}},BuilderBlock.prototype.componentDidCatch=function(e,t){console.error(\"Builder block error:\",e,t)},BuilderBlock.prototype.stringToFunction=function(e,t){return void 0===t&&(t=!0),stringToFunction(e,t,this._errors,this._logs)},Object.defineProperty(BuilderBlock.prototype,\"block\",{get:function(){return this.props.block},enumerable:!1,configurable:!0}),BuilderBlock.prototype.emotionCss=function(e){var t,n,i,r,o,a,s,l,u=this.block,d=u.animations&&u.animations[0];if(d&&\"hover\"!==d.trigger){var c=d&&d.steps&&d.steps[0],p=c&&c.styles;p&&(l=p)}var f=sizeNames.slice().reverse(),m={};if(e)for(var h=Boolean(null===(i=null===(n=null===(t=this.privateState.context.builderContent)||void 0===t?void 0:t.meta)||void 0===n?void 0:n.breakpoints)||void 0===i?void 0:i.xsmall),v=0,g=f;v<g.length;v++){var b=g[v];if(h||\"xsmall\"!==b)if(\"large\"===b)this.props.emailMode||(m[\"&.builder-block\"]=Object.assign({},e[b],l));else{var y=getSizesForBreakpoints((null===(o=null===(r=this.privateState.context.builderContent)||void 0===r?void 0:r.meta)||void 0===o?void 0:o.breakpoints)||{});m[\"@media only screen and (max-width: \".concat(y[b].max,\"px)\")]={\"&.builder-block\":e[b]}}}var _=u.animations&&u.animations.find((function(e){return\"hover\"===e.trigger}));return _&&(m[\":hover\"]=(null===(s=null===(a=_.steps)||void 0===a?void 0:a[1])||void 0===s?void 0:s.styles)||{},m.transition=\"all \".concat(_.duration,\"s \").concat(camelCaseToKebabCase(_.easing)),_.delay&&(m.transitionDelay=_.delay+\"s\")),m},BuilderBlock.prototype.eval=function(e){return this.stringToFunction(e)(this.privateState.state,void 0,this.block,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder,Device,this.privateState.update,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,this.privateState.context)},BuilderBlock.prototype.componentWillUnmount=function(){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&removeEventListener(\"message\",this.onWindowMessage)},BuilderBlock.prototype.componentDidMount=function(){var e,t=this;this.hydrated=!0;var n=this.block,i=n&&n.animations;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&addEventListener(\"message\",this.onWindowMessage),i){var r={animations:fastClone(i)};if(n.bindings)for(var o in n.bindings)if((null===(e=o.trim)||void 0===e?void 0:e.call(o))&&o.startsWith(\"animations.\")){var a=this.stringToFunction(n.bindings[o]);void 0!==a&&set(r,o,a(this.privateState.state,null,n,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder,null,null,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,this.privateState.context))}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.animator.bindAnimations(r.animations.filter((function(e){return\"hover\"!==e.trigger})).map((function(e){return __assign(__assign({},e),{elementId:t.block.id})})))}},BuilderBlock.prototype.getElement=function(e,t){var n,i,r,o,a,s,l=this;void 0===e&&(e=0),void 0===t&&(t=this.privateState.state);var u=this.props;u.child,u.fieldName;var d,c=this.block,p=(c.tagName||\"div\").toLowerCase();if(\"template\"===p){var f=c.children?c.children.map((function(e){return blockToHtmlString(e)})).join(\" \"):\"\";return console.debug(\"template html\",f),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"template\",__assign({},c.properties,{dangerouslySetInnerHTML:{__html:f}}))}var m=c.component&&(c.component.name||c.component.component),h=null;c.component&&!c.component.class&&(c.component&&c.component.tag?d=c.component.tag:(h=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.components.find((function(e){return e.name===m}))||null)&&h.class?d=h.class:h&&h.tag?d=h.tag:(null==m?void 0:m.startsWith(\"Builder:\"))?console.warn(\"Missing @builder.io/widgets installation, please install and import @builder.io/widgets to use \".concat(m.split(\":\")[1],\" in your content, more info here: https://github.com/BuilderIO/builder/tree/main/packages/widgets\")):m&&console.warn(\"Missing registration for \".concat(m,\", have you included the registration in your bundle?\")));var v=__assign(__assign({},c.properties),{style:{},responsiveStyles:fastClone(c.responsiveStyles||{})});if(v=__assign(__assign({},v.properties),v),c.component&&(v.component=deepCloneWithConditions(c.component)),c.bindings)for(var g in c.bindings)if(null===(i=g.trim)||void 0===i?void 0:i.call(g)){var b=this.stringToFunction(c.bindings[g]);set(v,g,b(t,null,c,api(),Device,null,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,this.privateState.context))}if(v.hide)return null;if(delete v.hide,(\"show\"in v||c.bindings&&c.bindings.show)&&!v.show)return null;if(delete v.show,c.actions){var y=function(e){if(!(null===(r=e.trim)||void 0===r?void 0:r.call(e)))return\"continue\";var n=c.actions[e];v[\"on\"+capitalize(e)]=function(e){var i=t;return\"undefined\"!=typeof Proxy&&(i=new Proxy(t,{set:function(e,t,n){return e[t]=n,l.privateState.rootState[t]=n,!0}})),l.stringToFunction(n,!1)(i,e,l.block,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder,Device,l.privateState.update,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,l.privateState.context)}};for(var g in c.actions)y(g)}var _=(v.component||v.options)&&__assign(__assign({},v.options),v.component.options||v.component.data);containsLocalizedValues(_)&&(this.privateState.state.locale||console.warn(\"[Builder.io] In order to use localized fields in Builder, you must pass a locale prop to the BuilderComponent or to options object while fetching the content to resolve localized fields. Learn more: https://www.builder.io/c/docs/localization-inline#targeting-and-inline-localization\"),_=extractLocalizedValues(_,null!==(o=this.privateState.state.locale)&&void 0!==o?o:\"Default\"));var x=voidElements.has(p),S=h&&(h.fragment||h.noWrap),k=(null===(a=v.attr)||void 0===a?void 0:a.style)||(\"string\"==typeof v.style?v.style:\"\")||\"\";if(\"string\"==typeof k){\"object\"!=typeof v.style&&(v.style={});for(var B=0,w=k.split(\";\");B<w.length;B++){var C=w[B].split(\":\");if(!C.length)return;g=C[0],b=C[1];g&&(C.length>2&&(b=C.slice(1).join(\":\")),v.style[kebabCaseToCamelCase(g)]=b)}}var E=__assign(__assign(__assign({},omit$1(v,[\"class\",\"component\",\"attr\",\"responsiveStyles\"])),((n={})[\"string\"!=typeof p||p.includes(\"-\")?\"class\":\"className\"]=\"builder-block \".concat(this.id).concat(c.class?\" \".concat(c.class):\"\").concat(!c.component||[\"Image\",\"Video\",\"Banner\"].indexOf(m)>-1?\"\":\" builder-has-component\")+(v.class?\" \"+v.class:\"\")+(this.hydrated&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&(null===(s=this.privateState.state._spacer)||void 0===s?void 0:s.parent)===c.id?\" builder-spacer-parent\":\"\"),n.key=this.id+e,n[\"builder-id\"]=this.id,n)),0!==e&&{\"builder-index\":e});_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&this.hydrated&&(E[\"builder-inline-styles\"]=v.attr&&v.attr.style?Object.keys(v.style).reduce((function(e,t){return(e?\"\".concat(e,\";\"):\"\")+\"\".concat(cssCase(t),\":\").concat(v.style[t],\";\")}),\"\"):\"\"),(E.properties&&E.properties.href||E.href)&&\"div\"===p&&(p=\"a\"),\"a\"===p&&(p=Link);var R=c.children||E.children||[];return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(_emotion_core__WEBPACK_IMPORTED_MODULE_1__.ClassNames,null,(function(e){var t=e.css;if(e.cx,!l.props.emailMode){var n=\" \"+t(l.emotionCss(v.responsiveStyles));E.class&&(E.class+=n),E.className&&(E.className+=n)}return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderAsyncRequestsContext.Consumer,null,(function(e){return l._asyncRequests=e&&e.requests,l._errors=e&&e.errors,l._logs=e&&e.logs,x?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(p,__assign({},E)):d&&(S||l.props.emailMode)?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(d,__assign({},_,{attributes:E,builderBlock:c,builderState:l.privateState})):(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(p,__assign({},E),d&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(d,__assign({builderState:l.privateState,builderBlock:c},_)),c.text||v.text?v.text:!d&&R&&Array.isArray(R)&&R.length?R.map((function(e,t){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlock,{key:(l.id||\"\")+t,block:e,index:t,size:l.props.size,fieldName:l.props.fieldName,child:l.props.child,emailMode:l.props.emailMode})})):null)}))})))},Object.defineProperty(BuilderBlock.prototype,\"id\",{get:function(){var e=this.block;return e.id&&!e.id.startsWith(\"builder\")?\"builder-\"+e.id:e.id||\"\"},enumerable:!1,configurable:!0}),BuilderBlock.prototype.contents=function(e){var t=this,n=this.block;if(this.privateState=e,n.repeat&&n.repeat.collection){var i=n.repeat.collection,r=last((i||\"\").trim().split(\"(\")[0].trim().split(\".\")),o=n.repeat.itemName||(r?r+\"Item\":\"item\"),a=this.stringToFunction(i)(e.state,null,n,api(),Device,null,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,this.privateState.context);return Array.isArray(a)?a.map((function(n,i){var r,a=__assign(__assign({},e.state),((r={$index:i,$item:n})[o]=n,r[\"$\".concat(o,\"Index\")]=i,r));return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Provider,{key:i,value:__assign(__assign({},e),{state:a})},t.getElement(i,a))})):null}return this.getElement()},BuilderBlock.prototype.render=function(){var e=this;return this.state.hasError?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\",{css:{display:\"inline-block\",padding:5,color:\"#999\",fontSize:11,fontStyle:\"italic\"}},\"Builder block error :( Check console for details\"):(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Consumer,null,(function(t){return e.contents(t)}))},BuilderBlock}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),BuilderBlocks=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hydrated=!1,t.onClickEmptyBlocks=function(){var e;_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isIframe&&t.noBlocks&&(null===(e=window.parent)||void 0===e||e.postMessage({type:\"builder.clickEmptyBlocks\",data:{parentElementId:t.parentId,dataPath:t.path}},\"*\"))},t.onHoverEmptyBlocks=function(){var e;_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&t.noBlocks&&(null===(e=window.parent)||void 0===e||e.postMessage({type:\"builder.hoverEmptyBlocks\",data:{parentElementId:t.parentId,dataPath:t.path}},\"*\"))},t}return __extends(t,e),Object.defineProperty(t.prototype,\"isRoot\",{get:function(){return!this.props.child},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"noBlocks\",{get:function(){var e=this.props.blocks;return!(e&&e.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"path\",{get:function(){var e=this.props.dataPath||\"\";return e.trim()&&(e.startsWith(\"this.\")?e=e.replace(\"this.\",\"\"):e.startsWith(\"component.options.\")||(e=\"component.options.\"+e)),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"parentId\",{get:function(){return this.props.parentElementId?this.props.parentElementId:this.props.parent&&this.props.parent.id},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.hydrated=!0},t.prototype.render=function(){var e=this,t=this.props.blocks,n=this.props.emailMode?\"span\":\"div\";return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(n,__assign({className:\"builder-blocks\"+(this.noBlocks?\" no-blocks\":\"\")+(this.props.child?\" builder-blocks-child\":\"\")+(this.props.className?\" \"+this.props.className:\"\"),\"builder-type\":\"blocks\",\"builder-path\":_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isIframe&&this.hydrated?this.path:void 0,\"builder-parent-id\":this.parentId,css:__assign(__assign({},!this.props.emailMode&&{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\"}),this.props.style),onClick:function(){e.noBlocks&&e.onClickEmptyBlocks()}},_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&{onMouseEnter:function(){return e.onHoverEmptyBlocks()}}),t&&Array.isArray(t)&&t.map((function(t,n){return t&&\"@builder.io/sdk:Element\"===t[\"@type\"]?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlock$1,{key:t.id,block:t,index:n,fieldName:e.props.fieldName,child:e.props.child,emailMode:e.props.emailMode}):t}))||t)},t.renderInto=function(e,n,i){if(void 0===n&&(n={}),e){var r=null;return\"string\"==typeof e?r=document.querySelector(e):e instanceof Element&&(r=e),react_dom__WEBPACK_IMPORTED_MODULE_3___default().render((0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Provider,{value:i},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(t,__assign({},n))),r)}},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),NoWrap=function(e){return e.children};function getData(e){if(void 0!==(null==e?void 0:e.data)){var t=e.data,n=t.blocks,i=t.blocksString,r=Array.isArray(n)||\"string\"==typeof i,o=__assign(__assign({},e.data),r&&{blocks:n||JSON.parse(i)});return delete o.blocksString,o}}var variantsScript=function(e,t){return\"\\n(function() {\\n  if (window.builderNoTrack || !navigator.cookieEnabled) {\\n    return;\\n  }\\n\\n  var variants = \".concat(e,\";\\n  function removeVariants() {\\n    variants.forEach(function (template) {\\n      document.querySelector('template[data-template-variant-id=\\\"' + template.id + '\\\"]').remove();\\n    });\\n    document.getElementById('variants-script-\").concat(t,'\\').remove();\\n  }\\n\\n  if (typeof document.createElement(\"template\").content === \\'undefined\\') {\\n    removeVariants();\\n    return ;\\n  }\\n\\n  function setCookie(name,value,days) {\\n    var expires = \"\";\\n    if (days) {\\n        var date = new Date();\\n        date.setTime(date.getTime() + (days*24*60*60*1000));\\n        expires = \"; expires=\" + date.toUTCString();\\n    }\\n    document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/\" + \"; Secure; SameSite=None\";\\n  }\\n\\n  function getCookie(name) {\\n    var nameEQ = name + \"=\";\\n    var ca = document.cookie.split(\\';\\');\\n    for(var i=0;i < ca.length;i++) {\\n        var c = ca[i];\\n        while (c.charAt(0)==\\' \\') c = c.substring(1,c.length);\\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\\n    }\\n    return null;\\n  }\\n  var cookieName = \\'builder.tests.').concat(t,\"';\\n  var variantInCookie = getCookie(cookieName);\\n  var availableIDs = variants.map(function(vr) { return vr.id }).concat('\").concat(t,\"');\\n  var variantId;\\n  if (availableIDs.indexOf(variantInCookie) > -1) {\\n    variantId = variantInCookie;\\n  }\\n  if (!variantId) {\\n    var n = 0;\\n    var random = Math.random();\\n    for (var i = 0; i < variants.length; i++) {\\n      var variant = variants[i];\\n      var testRatio = variant.testRatio;\\n      n += testRatio;\\n      if (random < n) {\\n        setCookie(cookieName, variant.id);\\n        variantId = variant.id;\\n        break;\\n      }\\n    }\\n    if (!variantId) {\\n      variantId = \\\"\").concat(t,'\";\\n      setCookie(cookieName, \"').concat(t,'\");\\n    }\\n  }\\n  if (variantId && variantId !== \"').concat(t,\"\\\") {\\n    var winningTemplate = document.querySelector('template[data-template-variant-id=\\\"' + variantId + '\\\"]');\\n    if (winningTemplate) {\\n      var parentNode = winningTemplate.parentNode;\\n      var newParent = parentNode.cloneNode(false);\\n      newParent.appendChild(winningTemplate.content.firstChild);\\n      parentNode.parentNode.replaceChild(newParent, parentNode);\\n    }\\n  } else if (variants.length > 0) {\\n    removeVariants();\\n  }\\n})()\").replace(/\\s+/g,\" \")},VariantsProvider=function(e){var t=e.initialContent,n=e.children,i=e.nonce;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.canTrack)return n([t]);if(!Boolean(Object.keys((null==t?void 0:t.variations)||{}).length))return n([t]);var r=Object.keys(t.variations).map((function(e){return __assign(__assign({id:e},t.variations[e]),{data:getData(t.variations[e])})})),o=__spreadArray(__spreadArray([],r,!0),[t],!1);if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer){var a=JSON.stringify(Object.keys(t.variations||{}).map((function(e){return{id:e,testRatio:t.variations[e].testRatio}})));return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,null,n(o,(function(){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"script\",{nonce:i,id:\"variants-script-\".concat(t.id),dangerouslySetInnerHTML:{__html:variantsScript(a,t.id)}})})))}var s=\"builder.tests.\".concat(t.id),l=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.getCookie(s);if(!l&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser)for(var u=0,d=Math.random(),c=0;c<r.length;c++){var p=r[c];if(d<(u+=p.testRatio)){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.setCookie(s,p.id),l=p.id;break}}return l||(l=t.id,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.setCookie(s,l)),n([o.find((function(e){return e.id===l}))])},BuilderContent=function(_super){function BuilderContent(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.ref=null,_this.state={loading:!_this.props.content,data:getContentWithInfo(_this.props.content),updates:1},_this.onWindowMessage=function(event){var _a,_b,isTrusted=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isTrustedHostForEvent(event);if(isTrusted){var message=event.data;if(message)switch(message.type){case\"builder.patchUpdates\":if(null===(_a=_this.props.options)||void 0===_a?void 0:_a.noEditorUpdates)return;var data=message.data;if(!data||!data.data)break;var patches=data.data[null===(_b=_this.state.data)||void 0===_b?void 0:_b.id];if(!patches||!patches.length)return;location.href.includes(\"builder.debug=true\")&&eval(\"debugger\");for(var newData=_this.state.data,_i=0,patches_1=patches;_i<patches_1.length;_i++){var patch=patches_1[_i];newData=applyPatchWithMinimalMutationChain(newData,patch,!1)}_this.setState({updates:_this.state.updates+1,data:newData}),_this.props.contentLoaded&&_this.props.contentLoaded(newData.data,newData)}}},_this.subscriptions=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Subscription,_this.firstLoad=!0,_this.clicked=!1,_this.trackedImpression=!1,_this.intersectionObserver=null,_this.onClick=function(e){var t=e.nativeEvent,n=_this.data;n&&(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.autoTrack&&_this.builder.trackInteraction(n.id,_this.renderedVariantId,_this.clicked,t,{content:n}),_this.clicked||(_this.clicked=!0))},_this}return __extends(BuilderContent,_super),Object.defineProperty(BuilderContent.prototype,\"builder\",{get:function(){return this.props.builder||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder},enumerable:!1,configurable:!0}),Object.defineProperty(BuilderContent.prototype,\"name\",{get:function(){var e=this.props;return\"model\"in e?e.model:e.modelName},enumerable:!1,configurable:!0}),Object.defineProperty(BuilderContent.prototype,\"renderedVariantId\",{get:function(){var e,t,n=this.props.isStatic?this.builder.getCookie(\"builder.tests.\".concat(null===(e=this.data)||void 0===e?void 0:e.id)):null===(t=this.data)||void 0===t?void 0:t.variationId;if(null!==n)return n},enumerable:!1,configurable:!0}),Object.defineProperty(BuilderContent.prototype,\"options\",{get:function(){var e,t,n=__assign({},this.props.options||{});return n.key||!(null===(e=this.props.content)||void 0===e?void 0:e.id)||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing||(n.key=this.props.content.id),!this.props.content||(null===(t=n.initialContent)||void 0===t?void 0:t.length)||!this.props.inline&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing||(n.initialContent=[this.props.content]),n},enumerable:!1,configurable:!0}),Object.defineProperty(BuilderContent.prototype,\"data\",{get:function(){var e=(this.props.inline||!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||this.firstLoad)&&this.options.initialContent&&this.options.initialContent[0]||this.state.data;return getContentWithInfo(e)},enumerable:!1,configurable:!0}),BuilderContent.prototype.componentDidMount=function(){var e,t;if(!this.props.inline||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing)this.subscribeToContent();else if(this.props.inline&&(null===(t=null===(e=this.options)||void 0===e?void 0:e.initialContent)||void 0===t?void 0:t.length)){var n=this.options.initialContent[0];(null==n?void 0:n.id)&&(this.builder.contentId=n.id,this.builder.trackImpression(n.id,this.renderedVariantId,void 0,{content:n}))}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&addEventListener(\"message\",this.onWindowMessage)},BuilderContent.prototype.subscribeToContent=function(){var e=this;\"_inline\"!==this.name&&this.subscriptions.add(this.builder.queueGetContent(this.name,this.options).subscribe((function(t){var n=t&&t[0];e.setState({data:n,loading:!1});var i=(e.builder.editingModel||e.builder.previewingModel)===e.name;if(!e.props.inline&&e.props.content&&e.firstLoad&&i&&(e.firstLoad=!1,e.subscriptions.unsubscribe(),e.subscribeToContent()),n&&e.firstLoad&&(e.firstLoad=!1,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.autoTrack&&!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing)){var r=!1;if(\"function\"==typeof IntersectionObserver&&e.ref)try{(e.intersectionObserver=new IntersectionObserver((function(t,i){t.forEach((function(t){t.intersectionRatio>0&&!e.trackedImpression&&(e.builder.trackImpression(n.id,e.renderedVariantId,void 0,{content:e.data}),e.data,e.trackedImpression=!0,e.ref&&i.unobserve(e.ref))}))}))).observe(e.ref),r=!0}catch(e){console.warn(\"Could not bind intersection observer\")}r||(e.trackedImpression=!0,e.builder.trackImpression(n.id,e.renderedVariantId,void 0,{content:n}))}e.props.contentLoaded&&e.props.contentLoaded(n&&n.data,n)}),(function(t){e.props.contentError&&(e.props.contentError(t),e.setState({loading:!1}))})))},BuilderContent.prototype.componentWillUnmount=function(){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&removeEventListener(\"message\",this.onWindowMessage),this.subscriptions.unsubscribe(),this.intersectionObserver&&this.ref&&this.intersectionObserver.unobserve(this.ref)},BuilderContent.prototype.render=function(){var e=this;if(this.props.dataOnly)return null;var t=this.state.loading,n=this.data,i=this.props.dataOnly?NoWrap:\"div\";return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(VariantsProvider,{initialContent:n,nonce:this.props.nonce},(function(r,o){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,r.map((function(a,s){var l=s===r.length-1?(react__WEBPACK_IMPORTED_MODULE_2___default().Fragment):\"template\";return react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),{key:String((null==a?void 0:a.id)+s)},\"template\"!==l&&(null==o?void 0:o()),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(l,__assign({key:String((null==a?void 0:a.id)+s)},\"template\"===l&&{\"data-template-variant-id\":null==a?void 0:a.id}),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(i,__assign({},0===s&&!e.props.dataOnly&&{ref:function(t){return e.ref=t}},{className:\"builder-content\",onClick:e.onClick,\"builder-content-id\":null==a?void 0:a.id,\"builder-model\":e.name}),e.props.children(null==a?void 0:a.data,!e.props.inline&&t,n))))})))}))},BuilderContent}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),getContentWithInfo=function(e){var t;if(e){var n=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.getCookie(\"builder.tests.\".concat(e.id)),i=n===e.id?e:null===(t=e.variations)||void 0===t?void 0:t[n],r=(null==i?void 0:i.name)||((null==i?void 0:i.id)===e.id?\"Default variation\":\"\");return __assign(__assign({},e),{variationId:n,testVariationId:n,testVariationName:r})}return null};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var onChange_1=createCommonjsModule((function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0});var n=Symbol(\"target\"),i=Symbol(\"unsubscribe\"),r=function(e,t){return t&&t.toString&&(e&&(e+=\".\"),e+=t.toString()),e},o=function(e){return Array.isArray(e)?e.slice():Object.assign({},e)},a=function(e,t,a){if(\"undefined\"==typeof Proxy)return e;void 0===a&&(a={});var s,l,u=Symbol(\"ProxyTarget\"),d=!1,c=!1,p=!1,f=a.equals||Object.is,m=new WeakMap,h=new WeakMap,v=new WeakMap,g=function(e,n,i,a){if(!p)if(d){if(d&&l&&void 0!==i&&void 0!==a&&\"length\"!==n){var u=l;e!==s&&function(e,t){for(var n;e;)-1===(n=e.indexOf(\".\"))&&(n=e.length),t(e.slice(0,n)),e=e.slice(n+1)}(e=e.replace(s,\"\").slice(1),(function(e){u[e]=o(u[e]),u=u[e]})),u[n]=i}c=!0}else t(r(e,n),a,i)},b=function(e,t){var n=m?m.get(e):void 0;n&&n.delete(t)},y=function(e,t){if(p)return e;h.set(e,t);var n=v.get(e);return void 0===n&&(n=new Proxy(e,x),v.set(e,n)),n},_=function(e){return p||!0===a.ignoreSymbols&&\"symbol\"==typeof e},x={get:function(e,t,o){if(t===u||t===n)return e;if(t===i&&\"\"===h.get(e))return function(e){return p=!0,m=null,h=null,v=null,e}(e);var s=Reflect.get(e,t,o);if(function(e){return null===e||\"object\"!=typeof e&&\"function\"!=typeof e}(s)||function(e){return e instanceof RegExp||e instanceof Number}(s)||\"constructor\"===t||!0===a.isShallow)return s;var l=function(e,t){var n=m?m.get(e):void 0;if(n)return n;n=new Map,m.set(e,n);var i=n.get(t);return i||(i=Reflect.getOwnPropertyDescriptor(e,t),n.set(t,i)),i}(e,t);if(l&&!l.configurable){if(l.set&&!l.get)return;if(!1===l.writable)return s}return y(s,r(h.get(e),t))},set:function(e,t,n,i){n&&void 0!==n[u]&&(n=n[u]);var r=_(t),o=r?null:Reflect.get(e,t,i),a=Reflect.set(e[u]||e,t,n);return r||f(o,n)||g(h.get(e),t,o,n),a},defineProperty:function(e,t,n){var i=Reflect.defineProperty(e,t,n);return _(t)||(b(e,t),g(h.get(e),t,void 0,n.value)),i},deleteProperty:function(e,t){if(!Reflect.has(e,t))return!0;var n=_(t),i=n?null:Reflect.get(e,t),r=Reflect.deleteProperty(e,t);return n||(b(e,t),g(h.get(e),t,i)),r},apply:function(e,t,n){var i=t instanceof Date;if(i&&(t=t[u]),!d){d=!0,i&&(l=t.valueOf()),(Array.isArray(t)||\"[object Object]\"===toString.call(t))&&(l=o(t[u])),s=(s=h.get(e)).slice(0,Math.max(s.lastIndexOf(\".\"),0));var r=Reflect.apply(e,t,n);return d=!1,(c||i&&!f(l,t.valueOf()))&&(g(s,\"\",l,t[u]||t),l=null,c=!1),r}return Reflect.apply(e,t,n)}},S=y(e,\"\");return t=t.bind(S),S};a.target=function(e){return e[n]||e},a.unsubscribe=function(e){return e[i]||e},e.exports=a,t.default=a})),onChange=unwrapExports(onChange_1),nextTick=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick;function debounceNextTick(e,t,n){return void 0===t&&\"function\"==typeof e?debounceNextTickImpl(e):{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,t,{configurable:!0,enumerable:n.enumerable,value:debounceNextTickImpl(n.value)}),this[t]}}}function debounceNextTickImpl(e){var t=null,n=null;return function(){var e=t;if(t=[].slice.call(arguments),n=this,null!==e)return;nextTick(i)};function i(){e.apply(n,t),t=null,n=null}}function throttle(e,t,n){var i,r,o;void 0===n&&(n={});var a=null,s=0,l=function(){s=!1===n.leading?0:Date.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var u=Date.now();s||!1!==n.leading||(s=u);var d=t-(u-s);return i=this,r=arguments,d<=0||d>t?(a&&(clearTimeout(a),a=null),s=u,o=e.apply(i,r),a||(i=r=null)):a||!1===n.trailing||(a=setTimeout(l,d)),o}}var BuilderMetaContext=react__WEBPACK_IMPORTED_MODULE_2___default().createContext({emailMode:!1,ampMode:!1,isServer:!1}),tryEval=function(e,t,n){void 0===t&&(t={});var i=e;if(\"string\"==typeof i&&i.trim()){var r=!(i.includes(\";\")||i.includes(\" return \")),o=function(){};try{_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(o=new Function(\"state\",\"var rootState = state;\\n        if (typeof Proxy !== 'undefined') {\\n          rootState = new Proxy(rootState, {\\n            set: function () {\\n              return false;\\n            },\\n            get: function (target, key) {\\n              if (key === 'state') {\\n                return state;\\n              }\\n              return target[key]\\n            }\\n          });\\n        }\\n        with (rootState) {\\n          \".concat(r?\"return (\".concat(e,\");\"):e,\";\\n        }\")))}catch(e){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&console.warn(\"Could not compile javascript\",e)}try{if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||shouldForceBrowserRuntimeInNode())return o(t||{});var a=safeDynamicRequire(\"isolated-vm\"),s=getIsolateContext();Object.keys(t).forEach((function(e){switch(e){case\"state\":case\"global\":case\"log\":console.warn(\"Not setting state.\".concat(e,\" as global \").concat(e,\" in isolated vm\"));break;default:if(void 0===t[e])return;try{\"object\"==typeof t[e]&&null!==t[e]?s.global.setSync(e,new a.ExternalCopy(t[e]).copyInto()):s.global.setSync(e,t[e])}catch(t){console.warn(\"Could not set \".concat(e,\" for isolated-vm:\"),t)}}}));var l=makeFn(e,r,[\"state\"]),u=s.evalClosureSync(l,[new a.Reference(t||{})]);try{return JSON.parse(u)}catch(e){return u}}catch(t){n&&n.push(t),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser?console.warn(\"Builder custom code error:\",t.message,\"in\",e,t.stack):isDebug()&&console.debug(\"Builder custom code error:\",t.message,\"in\",e,t.stack)}finally{if(!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&!shouldForceBrowserRuntimeInNode()){var d=getIsolateContext();Object.keys(t).forEach((function(e){switch(e){case\"state\":case\"global\":case\"log\":break;default:d.global.deleteSync(e)}}))}}}};function toError(e){return e instanceof Error?e:new Error(String(e))}function getBuilderPixel(e){return{id:\"builder-pixel-\"+Math.random().toString(36).split(\".\")[1],\"@type\":\"@builder.io/sdk:Element\",tagName:\"img\",properties:{role:\"presentation\",\"aria-hidden\":\"true\",src:\"https://cdn.builder.io/api/v1/pixel?apiKey=\".concat(e)},responsiveStyles:{large:{height:\"0\",width:\"0\",display:\"inline-block\",opacity:\"0\",overflow:\"hidden\",pointerEvents:\"none\"}}}}function pick(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i={};return t.forEach((function(t){i[t]=e[t]})),i}function omit(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=__assign({},e);return t.forEach((function(e){delete i[e]})),i}var instancesMap=new Map,wrapComponent=function(e){return function(t){var n,i=t.builderTag||\"div\",r=[\"children\"].concat((null===(n=e.inputs)||void 0===n?void 0:n.map((function(e){return e.name})))||[]),o=omit.apply(void 0,__spreadArray(__spreadArray([t],r,!1),[\"attributes\"],!1)),a=t;return e.noWrap?react__WEBPACK_IMPORTED_MODULE_2___default().createElement(e.class,__assign({attributes:o},a)):react__WEBPACK_IMPORTED_MODULE_2___default().createElement(i,__assign({},o),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(e.class,__assign({},a)))}},size$1=function(e){return Object.keys(e).length};function debounce(e,t,n){var i;return void 0===n&&(n=!1),function(){var r=this,o=arguments;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(r,o)}),t),n&&!i&&e.apply(r,o)}}var fontsLoaded=new Set,fetch$1;globalThis.fetch&&(fetch$1=globalThis.fetch),null!=fetch$1||(fetch$1=__webpack_require__(/*! node-fetch */ \"(ssr)/./node_modules/node-fetch/lib/index.mjs\"));var sizeMap={desktop:\"large\",tablet:\"medium\",mobile:\"small\",xsmall:\"xsmall\"},fetchCache={};function searchToObject$1(e){var t=(e.search||\"\").substring(1).split(\"&\"),n={};for(var i in t)if(t[i]&&\"string\"==typeof t[i]){var r=t[i].split(\"=\");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return n}var BuilderComponent=function(e){function t(t){var n,i,r=this;(r=e.call(this,t)||this).subscriptions=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Subscription,r.onStateChange=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.BehaviorSubject(null),r.asServer=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer,r.contentRef=null,r.styleRef=null,r.rootState=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer?{}:onChange({},(function(){return r.updateState()})),r.lastJsCode=\"\",r.lastHttpRequests={},r.httpSubscriptionPerKey={},r.firstLoad=!0,r.ref=null,r.messageListener=function(e){var t;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isTrustedHostForEvent(e)){var n=e.data;switch(n.type){case\"builder.configureSdk\":var i=n.data;if(!i.contentId||i.contentId!==(null===(t=r.useContent)||void 0===t?void 0:t.id))return;r.sizes=getSizesForBreakpoints(i.breakpoints||{}),r.setState({state:Object.assign(r.rootState,{deviceSize:r.deviceSizeState,device:r.device}),updates:(r.state&&r.state.updates||0)+1,breakpoints:i.breakpoints});break;case\"builder.updateSpacer\":var o=n.data;r.rootState._spacer,r.updateState((function(e){e._spacer=o}));break;case\"builder.resetState\":var a=n.data,s=a.state;if(a.model===r.name){for(var l in r.rootState)\"function\"!=typeof r.rootState[l]&&delete r.rootState[l];Object.assign(r.rootState,s),r.setState(__assign(__assign({},r.state),{state:r.rootState,updates:(r.state&&r.state.updates||0)+1}))}break;case\"builder.resetSymbolState\":var u=n.data.state,d=(s=u.state,u.model,u.id);if(r.props.builderBlock&&r.props.builderBlock===d){for(var l in r.rootState)delete r.rootState[l];Object.assign(r.rootState,s),r.setState(__assign(__assign({},r.state),{state:r.rootState,updates:(r.state&&r.state.updates||0)+1}))}}}},r.resizeFn=function(){var e=r.deviceSizeState;e!==r.state.state.deviceSize&&r.setState(__assign(__assign({},r.state),{updates:(r.state&&r.state.updates||0)+1,state:Object.assign(r.rootState,__assign(__assign({},r.state.state),{deviceSize:e}))}))},r.resizeListener=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing?throttle(r.resizeFn,200):debounce(r.resizeFn,400),r.mounted=!1,r.updateState=function(e){var t=r.rootState;e&&e(t),r.mounted?r.setState({update:r.updateState,state:t,updates:(r.state&&r.state.updates||0)+1}):r.state=__assign(__assign({},r.state),{update:r.updateState,state:t,updates:(r.state&&r.state.updates||0)+1}),r.notifyStateChange()},r.onContentLoaded=function(e,t){if(\"page\"===r.name&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&e){var n=e.title,i=e.pageTitle,o=e.description,a=e.pageDescription;if((n||i)&&(document.title=n||i),o||a){var s=document.querySelector('meta[name=\"description\"]');s||((s=document.createElement(\"meta\")).setAttribute(\"name\",\"description\"),document.head.appendChild(s)),s.setAttribute(\"content\",o||a)}}if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&r.notifyStateChange(),r.props.contentLoaded&&r.props.contentLoaded(e,t),e&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length&&(e.state||(e.state={}),e.inputs.forEach((function(t){t&&t.name&&void 0!==t.defaultValue&&void 0===e.state[t.name]&&(e.state[t.name]=t.defaultValue)}))),e&&e.state){var l=__assign(__assign({},r.state),{updates:(r.state&&r.state.updates||0)+1,state:Object.assign(r.rootState,__assign(__assign(__assign(__assign(__assign({},r.state.state),{location:r.locationState,device:r.device}),e.state),r.externalState),{deviceSize:r.deviceSizeState}))});r.mounted?r.setState(l):r.state=l}if(e&&e.jsCode&&!r.options.codegen){var u=!1;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&(r.lastJsCode===e.jsCode?u=!0:r.lastJsCode=e.jsCode),!u){var d=r.state.state;try{new Function(\"data\",\"ref\",\"state\",\"update\",\"element\",\"Builder\",\"builder\",\"context\",e.jsCode)(e,r,d,r.state.update,r.ref,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder,r.state.context)}catch(t){var c=toError(t);_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser?console.warn(\"Builder custom code error:\",c.message,\"in\",e.jsCode,c.stack):isDebug()&&console.debug(\"Builder custom code error:\",c.message,\"in\",e.jsCode,c.stack)}}}if(e&&e.httpRequests&&!r.props.noAsync&&!(u=!1)){var p=function(t){var n=e.httpRequests[t];if(n&&(!r.data[t]||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing)){var i=\"object\"==typeof n&&\"@builder.io/core:Request\"===n[\"@type\"];if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser){var o=i?r.evalExpression(n.request.url):r.evalExpression(n);if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&r.lastHttpRequests[t]===o)return\"continue\";r.lastHttpRequests[t]=o,i?r.handleRequest(t,{url:o,method:n.request.method,body:n.request.body,headers:n.request.headers}):r.handleRequest(t,{url:o,method:\"GET\"});var a=r.httpSubscriptionPerKey[t];a&&a.unsubscribe();var s=r.httpSubscriptionPerKey[t]=r.onStateChange.subscribe((function(){var e=i?r.evalExpression(n.request.url):r.evalExpression(n);e!==o&&(i?r.handleRequest(t,{url:e,method:n.request.method,body:n.request.body,headers:n.request.headers}):r.handleRequest(t,{url:e,method:\"GET\"}),r.lastHttpRequests[t]=e)}));r.subscriptions.add(s)}else i?r.handleRequest(t,{url:r.evalExpression(n.request.url),method:n.request.method,body:n.request.body,headers:n.request.headers}):r.handleRequest(t,{url:r.evalExpression(n),method:\"GET\"})}};for(var f in e.httpRequests)p(f)}};var o=r.inlinedContent;o&&o.content&&(o=o.content),r.sizes=getSizesForBreakpoints((null===(n=null==o?void 0:o.meta)||void 0===n?void 0:n.breakpoints)||{});var a=null===(i=r.inlinedContent)||void 0===i?void 0:i.data;a&&Array.isArray(a.inputs)&&a.inputs.length>0&&(a.state||(a.state={}),a.inputs.forEach((function(e){e&&e.name&&void 0!==e.defaultValue&&void 0===a.state[e.name]&&(a.state[e.name]=e.defaultValue)}))),r.state={context:__assign(__assign({},t.context),{apiKey:r.props.apiKey||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.apiKey,nonce:r.props.nonce}),state:Object.assign(r.rootState,__assign(__assign(__assign(__assign({},r.inlinedContent&&r.inlinedContent.data&&r.inlinedContent.data.state),{isBrowser:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser,isServer:!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser,_hydrate:t.hydrate,location:r.locationState,deviceSize:r.deviceSizeState,device:r.device}),r.getHtmlData()),t.data)),updates:0,key:0,update:r.updateState};var s=r.props.apiKey;if(s&&s!==r.builder.apiKey&&!instancesMap.has(s)){var l=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder(s,void 0,void 0,!0);instancesMap.set(s,l)}if(r.inlinedContent){var u=r.inlinedContent.content||r.inlinedContent;r.onContentLoaded(null==u?void 0:u.data,getContentWithInfo(u))}return r.registerCustomComponents(),r}return __extends(t,e),Object.defineProperty(t.prototype,\"options\",{get:function(){return __assign(__assign({},t.defaults),this.props)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"name\",{get:function(){return this.props.model||this.props.modelName||this.props.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"element\",{get:function(){return this.ref},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"inlinedContent\",{get:function(){if(!this.isPreviewing||this.props.inlineContent)return this.props.content},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"builder\",{get:function(){return this.props.apiKey&&instancesMap.get(this.props.apiKey)||this.props.builder||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder},enumerable:!1,configurable:!0}),t.prototype.getHtmlData=function(){var e=this.inlinedContent&&this.inlinedContent.id||this.props.entry,t=e&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&document.querySelector('script[data-builder-json=\"'.concat(e,'\"],script[data-builder-state=\"').concat(e,'\"]'));if(t)try{return JSON.parse(t.innerText)}catch(e){console.warn(\"Could not parse Builder.io HTML data transfer\",e,t.innerText)}return{}},Object.defineProperty(t.prototype,\"device\",{get:function(){return this.builder.getUserAttributes().device||\"desktop\"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"locationState\",{get:function(){return __assign(__assign({},pick(this.location,\"pathname\",\"hostname\",\"search\",\"host\")),{path:this.location.pathname&&this.location.pathname.split(\"/\").slice(1)||\"\",query:searchToObject$1(this.location)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"deviceSizeState\",{get:function(){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser?this.sizes.getSizeForWidth(window.innerWidth):sizeMap[this.device]||\"large\"},enumerable:!1,configurable:!0}),t.renderInto=function(e,n,i,r){if(void 0===n&&(n={}),void 0===i&&(i=!0),void 0===r&&(r=!1),console.debug(\"BuilderPage.renderInto\",e,n,i,this),e){var o=null;if(\"string\"==typeof e?o=document.querySelector(e):e instanceof Element&&(o=e),o){var a=o.classList.contains(\"builder-hydrated\");if(!a||r){o.classList.add(\"builder-hydrated\");var s=i&&o.innerHTML.includes(\"builder-block\");if(!o.classList.contains(\"builder-component\")){var l=o.querySelector(\".builder-api-styles\")||(o.previousElementSibling&&o.previousElementSibling.matches(\".builder-api-styles\")?o.previousElementSibling:null),u=\"\";if(l)l.innerHTML.replace(/\\/\\*start:([^\\*]+?)\\*\\/([\\s\\S]*?)\\/\\*end:([^\\*]+?)\\*\\//g,(function(e,t,n){var i=null;try{i=document.querySelector('[data-emotion-css=\"'.concat(t,'\"]'))}catch(e){console.warn(e)}return i?i.innerHTML=n:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||(u+=e),e})),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick((function(){l.innerHTML=u}));var d=o.querySelector(\".builder-component\");d?o=d:s=!1}location.search.includes(\"builder.debug=true\")&&console.debug(\"hydrate\",s,o);var c=o;if(!a){var p=document.createElement(\"div\");o.insertAdjacentElement(\"beforebegin\",p),p.appendChild(o),c=p}if((_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&location.search.includes(\"builder.preview=\"))&&(s=!1),s&&o){var f=react_dom__WEBPACK_IMPORTED_MODULE_3___default().render(react__WEBPACK_IMPORTED_MODULE_2___default().createElement(t,__assign({},n)),c,c.builderRootRef);return c.builderRootRef=f,f}var m=react_dom__WEBPACK_IMPORTED_MODULE_3___default().render(react__WEBPACK_IMPORTED_MODULE_2___default().createElement(t,__assign({},n)),c,c.builderRootRef);return c.builderRootRef=m,m}console.debug(\"Tried to hydrate multiple times\")}}},t.prototype.registerCustomComponents=function(){if(this.props.customComponents)for(var e=0,t=this.props.customComponents;e<t.length;e++){var n=t[e];if(n){var i=n.component,r=__rest(n,[\"component\"]);_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(i,r)}}},t.prototype.componentDidMount=function(){var e,t=this;this.mounted=!0,this.asServer&&(this.asServer=!1,this.updateState((function(e){e.isBrowser=!0,e.isServer=!1}))),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isIframe&&(null===(e=window.parent)||void 0===e||e.postMessage({type:\"builder.sdkInjected\",data:{modelName:this.name,apiKey:this.props.apiKey||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.apiKey}},\"*\")),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(window.addEventListener(\"resize\",this.resizeListener),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&window.addEventListener(\"message\",this.messageListener),(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing)&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick((function(){t.firstLoad=!1,t.reload()})),setTimeout((function(){window.dispatchEvent(new CustomEvent(\"builder:component:load\",{detail:{ref:t}}))})))},Object.defineProperty(t.prototype,\"isPreviewing\",{get:function(){return(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing&&!this.firstLoad)&&(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.previewingModel===this.name||\"BUILDER_STUDIO\"===_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.previewingModel)},enumerable:!1,configurable:!0}),t.prototype.notifyStateChange=function(){if(!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer&&this&&this.state){var e=this.state.state;this.props.onStateChange&&this.props.onStateChange(e),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&window.dispatchEvent(new CustomEvent(\"builder:component:stateChange\",{detail:{state:e,ref:this}})),this.onStateChange.next(e)}},t.prototype.processStateFromApi=function(e){return e},Object.defineProperty(t.prototype,\"location\",{get:function(){return this.props.location||(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser?location:{})},enumerable:!1,configurable:!0}),t.prototype.getCssFromFont=function(e,t){var n=e.family+(e.kind&&!e.kind.includes(\"#\")?\", \"+e.kind:\"\"),i=n.split(\",\")[0],r=e.fileUrl?e.fileUrl:e.files&&e.files.regular,o=\"\";if(r&&n&&i&&(o+='\\n@font-face {\\n  font-family: \"'.concat(n,'\";\\n  src: local(\"').concat(i,\"\\\"), url('\").concat(r,\"') format('woff2');\\n  font-display: fallback;\\n  font-weight: 400;\\n}\\n        \").trim()),e.files)for(var a in e.files){if(String(Number(a))===a){var s=e.files[a];s&&s!==r&&(o+='\\n@font-face {\\n  font-family: \"'.concat(n,\"\\\";\\n  src: url('\").concat(s,\"') format('woff2');\\n  font-display: fallback;\\n  font-weight: \").concat(a,\";\\n}\\n          \").trim())}}return o},t.prototype.componentWillUnmount=function(){this.unsubscribe(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(window.removeEventListener(\"resize\",this.resizeListener),window.removeEventListener(\"message\",this.messageListener))},t.prototype.getFontCss=function(e){var t=this;return this.builder.allowCustomFonts&&(null==e?void 0:e.customFonts)&&e.customFonts.length&&e.customFonts.map((function(n){return t.getCssFromFont(n,e)})).join(\" \")||\"\"},t.prototype.ensureFontsLoaded=function(e){if(this.builder.allowCustomFonts&&(null==e?void 0:e.customFonts)&&Array.isArray(e.customFonts))for(var t=0,n=e.customFonts;t<n.length;t++){var i=n[t],r=i.fileUrl?i.fileUrl:i.files&&i.files.regular;if(!fontsLoaded.has(r)){var o=this.getCssFromFont(i,e);if(fontsLoaded.add(r),!o)continue;var a=document.createElement(\"style\");a.className=\"builder-custom-font\",a.setAttribute(\"data-builder-custom-font\",r),a.innerHTML=o,document.head.appendChild(a)}}},t.prototype.getCss=function(e){var t,n=null===(t=this.useContent)||void 0===t?void 0:t.id,i=(null==e?void 0:e.cssCode)||\"\";return n&&(i=i.replace(/&/g,\".builder-component-\".concat(n))),i+this.getFontCss(e)},Object.defineProperty(t.prototype,\"data\",{get:function(){var e,t=__assign(__assign(__assign({},this.inlinedContent&&(null===(e=this.inlinedContent.data)||void 0===e?void 0:e.state)),this.externalState),this.state.state);return Object.assign(this.rootState,t),t},enumerable:!1,configurable:!0}),t.prototype.componentDidUpdate=function(e){var t=this;this.props.data&&e.data!==this.props.data&&this.state.update((function(e){Object.assign(e,t.externalState)})),this.props.customComponents&&this.props.customComponents!==e.customComponents&&this.registerCustomComponents(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&this.inlinedContent&&e.content!==this.inlinedContent&&this.onContentLoaded(this.inlinedContent.data,this.inlinedContent)},t.prototype.checkStyles=function(e){if(this.styleRef){var t=this.getCss(e);this.styleRef.innerHTML!==t&&(this.styleRef.innerHTML=t)}},t.prototype.reload=function(){this.setState({key:this.state.key+1})},Object.defineProperty(t.prototype,\"content\",{get:function(){var e=this.inlinedContent;return e&&e.content&&(e=__assign(__assign({},e),{data:e.content})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"externalState\",{get:function(){return __assign(__assign({},this.props.data),this.props.locale?{locale:this.props.locale}:{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"useContent\",{get:function(){return this.content||this.state.context.builderContent},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e,t=this,n=this.content,i=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&this.externalState&&size$1(this.externalState)&&hash_sum__WEBPACK_IMPORTED_MODULE_4___default()(this.externalState),r=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing?this.name:this.props.entry;r&&!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&i&&i.length<300&&(r+=\":\"+i);var o=this.props.dataOnly?(react__WEBPACK_IMPORTED_MODULE_2___default().Fragment):\"div\",a=null===(e=this.useContent)||void 0===e?void 0:e.id;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(o,{onClick:function(e){!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||t.props.isChild||t.props.stopClickPropagationWhenEditing||e.stopPropagation()},className:\"builder-component \".concat(a?\"builder-component-\".concat(a):\"\"),\"data-name\":this.name,\"data-source\":\"Rendered by Builder.io\",key:this.state.key,ref:function(e){return t.ref=e}},react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderMetaContext.Consumer,null,(function(e){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderMetaContext.Provider,{value:\"boolean\"==typeof t.props.ampMode?__assign(__assign({},e),{ampMode:t.props.ampMode}):e},react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderAsyncRequestsContext.Consumer,null,(function(e){var i;return t._asyncRequests=e&&e.requests,t._errors=e&&e.errors,t._logs=e&&e.logs,react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderContent,{isStatic:t.props.isStatic||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isStatic,key:(null===(i=t.inlinedContent)||void 0===i?void 0:i.id)||(\"content\"in t.props&&!t.isPreviewing?\"null-content-prop\":\"no-content-prop\"),builder:t.builder,ref:function(e){return t.contentRef=e},contentLoaded:function(e,n){return t.onContentLoaded(e,n)},options:__assign(__assign(__assign(__assign(__assign(__assign({key:r,entry:t.props.entry},n&&{initialContent:[n]}),!n&&\"content\"in t.props&&!t.isPreviewing&&{initialContent:[]}),t.props.url&&{url:t.props.url}),t.props.options),t.props.locale?{locale:t.props.locale}:{}),t.options.codegen&&{format:\"react\"}),inline:t.props.inlineContent||!t.isPreviewing&&\"content\"in t.props,contentError:t.props.contentError,modelName:t.name||\"page\",nonce:t.props.nonce},(function(e,n,i){var r;if(t.props.dataOnly)return null;i&&i.id&&(t.state.breakpoints&&(i.meta=i.meta||{},i.meta.breakpoints=t.state.breakpoints),t.state.context.builderContent=i),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick((function(){t.checkStyles(e)}));var o=t.options.codegen;if(o&&!t.Component&&(null==e?void 0:e.blocksJs)){var a=Array.from(new Set(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.components.map((function(e){return e.name})))),s=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.components.slice().reverse(),l=a.map((function(e){return s.find((function(t){return t.class&&t.name===e}))})),u=a.map((function(e){return(e||\"\").replace(/[^\\w]+/gi,\"\")})),d=l.map((function(e){return wrapComponent(e)}));t.Component=(new(Function.bind.apply(Function,__spreadArray(__spreadArray([void 0,\"jsx\",\"_css\",\"Builder\",\"builder\",\"React\",\"useBuilderState\"],u,!1),[e.blocksJs],!1)))).apply(void 0,__spreadArray([_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.css,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder,(react__WEBPACK_IMPORTED_MODULE_2___default()),function(e){var t=react__WEBPACK_IMPORTED_MODULE_2___default().useState(0)[1];return react__WEBPACK_IMPORTED_MODULE_2___default().useState((function(){return onChange(e,(function(){t((function(e){return e+1}))}))}))[0]}],d,!1))}var c=(null==e?void 0:e.blocks)||[],p=c.find((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.startsWith(\"builder-pixel\")}));return e&&!p&&c.length>0&&c.push(getBuilderPixel(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.apiKey)),e?react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",__assign({\"data-builder-component\":t.name,\"data-builder-content-id\":i.id},t.isPreviewing?{\"data-builder-variation-id\":i.testVariationId||i.variationId||i.id}:{}),!o&&t.getCss(e)&&react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"style\",{nonce:t.props.nonce,ref:function(e){return t.styleRef=e},className:\"builder-custom-styles\",dangerouslySetInnerHTML:{__html:t.getCss(e)}}),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderStoreContext.Provider,{value:__assign(__assign({},t.state),{rootState:t.rootState,state:t.data,content:i,renderLink:t.props.renderLink})},o&&t.Component?react__WEBPACK_IMPORTED_MODULE_2___default().createElement(t.Component,{data:t.data,context:t.state.context}):react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlocks,{key:String(!!(null===(r=null==e?void 0:e.blocks)||void 0===r?void 0:r.length)),emailMode:t.props.emailMode,fieldName:\"blocks\",blocks:c}))):n?react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",{\"data-builder-component\":t.name,className:\"builder-loading\"},t.props.children):react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",{\"data-builder-component\":t.name,className:\"builder-no-content\"})}))})))})))},t.prototype.evalExpression=function(e){var t=this,n=this.data;return String(e).replace(/{{([^}]+)}}/g,(function(e,i){return tryEval(i,n,t._errors)}))},t.prototype.handleRequest=function(e,t){return __awaiter(this,void 0,void 0,(function(){var n,i,r,o,a,s,l,u,d,c=this;return __generator(this,(function(p){return n=t.url,i=t.method,r=t.body,o=t.headers,a=JSON.stringify({url:n,method:i,body:r,headers:o}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isIframe&&fetchCache[a]?(this.updateState((function(t){t[e]=fetchCache[a]})),[2,fetchCache[a]]):(s=function(){return __awaiter(c,void 0,void 0,(function(){var t,s,l,u,d;return __generator(this,(function(c){switch(c.label){case 0:t=Date.now(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||console.time(\"Fetch \"+a),c.label=1;case 1:return c.trys.push([1,4,5,6]),l={method:i,headers:o,body:r},\"GET\"===i&&delete l.body,[4,fetch$1(n,l)];case 2:return[4,c.sent().json()];case 3:return s=c.sent(),[3,6];case 4:return u=c.sent(),d=toError(u),this._errors&&this._errors.push(d),this._logs&&this._logs.push(\"Fetch to \".concat(a,\" errored in \").concat(Date.now()-t,\"ms\")),[2];case 5:return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||(console.timeEnd(\"Fetch \"+a),this._logs&&this._logs.push(\"Fetched \".concat(a,\" in \").concat(Date.now()-t,\"ms\"))),[7];case 6:return s&&(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isIframe&&(fetchCache[a]=s),this.updateState((function(t){t[e]=s}))),[2,s]}}))}))},(l=this._asyncRequests&&this._asyncRequests.find((function(e){return isRequestInfo(e)&&e.url===n})))?((u=l.promise).then((function(t){t&&c.updateState((function(n){n[e]=t}))})),[2,u]):(d=s(),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick((function(){c._asyncRequests&&c._asyncRequests.push(d)})),[2,d]))}))}))},t.prototype.unsubscribe=function(){this.subscriptions&&(this.subscriptions.unsubscribe(),this.subscriptions=new _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Subscription)},t.prototype.handleBuilderRequest=function(e,t){var n=this,i=tryEval(t,this.data,this._errors);this.subscriptions&&this.unsubscribe(),i&&this.subscriptions.add(this.builder.queueGetContent(i.model,i).subscribe((function(t){t&&n.updateState((function(n){n[e]=t}))})))},t.defaults={codegen:Boolean(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&location.href.includes(\"builder.codegen=true\"))},__decorate([debounceNextTick,__metadata(\"design:type\",Function),__metadata(\"design:paramtypes\",[]),__metadata(\"design:returntype\",void 0)],t.prototype,\"notifyStateChange\",null),t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component));function BuilderBlock(e){return e.type=\"react\",_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.Component(e)}function updateMetadata(e,t){var n=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.components.find((function(t){return\"string\"==typeof e?t.name===e:t.class===t}))||null,i=t(n);n&&i?_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(i.class||n.class,i):n&&!i||!n&&i&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(i.class,i)}function withBuilder(e,t){return BuilderBlock(t)(e),e}var isBuilderElement=function(e){return Boolean(\"object\"==typeof e&&e&&\"@builder.io/sdk:Element\"===(null==e?void 0:e[\"@type\"]))},withChildren=function(e){var t=react__WEBPACK_IMPORTED_MODULE_2___default().forwardRef((function(t,n){var i,r,o=__assign({},t),a=t.children||t.builderBlock&&t.builderBlock.children&&t.builderBlock.children.map((function(e){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlock$1,{key:e.id,block:e})})),s=null===(r=null===(i=t.builderBlock)||void 0===i?void 0:i.component)||void 0===r?void 0:r.options;return s&&Object.keys(s).forEach((function(e){var t=s[e];Array.isArray(t)&&t.every(isBuilderElement)?o[e]=t.map((function(e){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlock$1,{key:e.id,block:e})})):isBuilderElement(t)&&(o[e]=react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlock$1,{block:t}))})),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(e,__assign({},o,{ref:n}),a)}));return t.builderOptions={canHaveChildren:!0},t},noWrap=function(e){var t=react__WEBPACK_IMPORTED_MODULE_2___default().forwardRef((function(t,n){var i=__assign(__assign({},t),t.attributes);return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(e,__assign({},i,{ref:n}))}));return t.builderOptions={noWrap:!0},t},iconUrl=\"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-text_fields-24px%20(1).svg?alt=media&token=12177b73-0ee3-42ca-98c6-0dd003de1929\",TextComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textRef=null,t}return __extends(t,e),t.prototype.componentDidMount=function(){this.textRef&&!/{{([^}]+)}}/.test(this.props.text)&&(this.textRef.innerHTML=this.props.text)},t.prototype.evalExpression=function(e,t){return this.allowTextEdit?String(e):String(e).replace(/{{([^}]+)}}/g,(function(e,n){return tryEval(n,t)}))},Object.defineProperty(t.prototype,\"allowTextEdit\",{get:function(){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&location.search.includes(\"builder.allowTextEdit=true\")&&!(this.props.builderBlock&&this.props.builderBlock.bindings&&(this.props.builderBlock.bindings[\"component.options.text\"]||this.props.builderBlock.bindings[\"options.text\"]||this.props.builderBlock.bindings.text))},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this,t={outline:\"none\",\"& p:first-of-type, & .builder-paragraph:first-of-type\":{margin:0},\"& > p, & .builder-paragraph\":{color:\"inherit\",lineHeight:\"inherit\",letterSpacing:\"inherit\",fontWeight:\"inherit\",fontSize:\"inherit\",textAlign:\"inherit\",fontFamily:\"inherit\"}};return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Consumer,null,(function(n){var i;return(null===(i=n.content.meta)||void 0===i?void 0:i.rtlMode)&&(t.direction=\"rtl\"),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\",__assign({ref:function(t){e.textRef=t},css:t,className:\"builder-text\"},{dangerouslySetInnerHTML:{__html:e.evalExpression(e.props.text||e.props.content||\"\",n.state)}})))}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Text=withBuilder(TextComponent,{name:\"Text\",static:!0,image:iconUrl,inputs:[{name:\"text\",type:\"html\",required:!0,autoFocus:!0,bubble:!0,defaultValue:\"Enter some text...\"}],defaultStyles:{lineHeight:\"normal\",height:\"auto\",textAlign:\"center\"}});function Slot(e){var t=e.name,n=(0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(BuilderStoreContext),i=!n.context.symbolId;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",__assign({css:{pointerEvents:\"auto\"}},i&&{\"builder-slot\":t}),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlocks,{child:!0,parentElementId:n.context.symbolId,dataPath:\"symbol.data.\".concat(t),blocks:n.state[t]||[]}))}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(Slot,{name:\"Slot\",description:\"Allow child blocks to be inserted into this content when used as a Symbol\",docsLink:\"https://www.builder.io/c/docs/symbols-with-blocks\",image:\"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F3aad6de36eae43b59b52c85190fdef56\",inputs:[{name:\"name\",type:\"string\",required:!0,defaultValue:\"children\"}]});var FragmentComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return this.props.builderBlock&&this.props.builderBlock.children&&this.props.builderBlock.children.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlock$1,{block:e,key:e.id,index:t})}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Fragment=withBuilder(FragmentComponent,{name:\"Core:Fragment\",canHaveChildren:!0,noWrap:!0,static:!0,hideFromInsertMenu:!0}),DEFAULT_ASPECT_RATIO$2=.7004048582995948,defaultBlocks=[{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",flexShrink:\"0\",position:\"relative\",marginTop:\"30px\",textAlign:\"center\",lineHeight:\"normal\",height:\"auto\",minHeight:\"20px\",minWidth:\"20px\",overflow:\"hidden\"}},component:{name:\"Image\",options:{image:\"https://builder.io/api/v1/image/assets%2Fpwgjf0RoYWbdnJSbpBAjXNRMe9F2%2Ffb27a7c790324294af8be1c35fe30f4d\",backgroundPosition:\"center\",backgroundSize:\"cover\",aspectRatio:DEFAULT_ASPECT_RATIO$2}}},{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",flexShrink:\"0\",position:\"relative\",marginTop:\"30px\",textAlign:\"center\",lineHeight:\"normal\",height:\"auto\"}},component:{name:\"Text\",options:{text:\"<p>Enter some text...</p>\"}}}],ColumnsComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,\"columns\",{get:function(){return this.props.columns||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"gutterSize\",{get:function(){return\"number\"==typeof this.props.space?this.props.space||0:20},enumerable:!1,configurable:!0}),t.prototype.getWidth=function(e){return this.columns[e]&&this.columns[e].width||100/this.columns.length},t.prototype.getColumnWidth=function(e){var t=this.columns,n=this.gutterSize,i=this.getWidth(e),r=n*(t.length-1)*(i/100);return\"calc(\".concat(i,\"% - \").concat(r,\"px)\")},t.prototype.render=function(){var e,t,n,i,r=this,o=this.columns,a=this.gutterSize,s=(null===(i=null===(n=null===(t=this.props.builderState)||void 0===t?void 0:t.context.builderContent)||void 0===n?void 0:n.meta)||void 0===i?void 0:i.breakpoints)||{},l=getSizesForBreakpoints(s);return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{className:\"builder-columns\",css:__assign({display:\"flex\",height:\"100%\"},\"never\"!==this.props.stackColumnsAt&&(e={},e[\"@media (max-width: \".concat(\"tablet\"!==this.props.stackColumnsAt?l.small.max:l.medium.max,\"px)\")]={flexDirection:this.props.reverseColumnsWhenStacked?\"column-reverse\":\"column\",alignItems:\"stretch\"},e))},o.map((function(e,t){var n,i,o=e.link?Link:\"div\";return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),{key:t},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(o,__assign({className:\"builder-column\"},e.link?{href:e.link}:null,{css:__assign((n={display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",lineHeight:\"normal\"},n[\"& > .builder-blocks\"]={flexGrow:1},n.width=r.getColumnWidth(t),n.marginLeft=0===t?0:a,n),\"never\"!==r.props.stackColumnsAt&&(i={},i[\"@media (max-width: \".concat(\"tablet\"!==r.props.stackColumnsAt?l.small.max:l.medium.max,\"px)\")]={width:\"100%\",marginLeft:0},i))}),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlocks,{key:t,child:!0,parentElementId:r.props.builderBlock&&r.props.builderBlock.id,blocks:e.blocks,dataPath:\"component.options.columns.\".concat(t,\".blocks\")})))}))))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Columns=withBuilder(ColumnsComponent,{name:\"Columns\",static:!0,inputs:[{name:\"columns\",type:\"array\",broadcast:!0,subFields:[{name:\"blocks\",type:\"array\",hideFromUI:!0,defaultValue:defaultBlocks},{name:\"width\",type:\"number\",hideFromUI:!0,helperText:\"Width %, e.g. set to 50 to fill half of the space\"},{name:\"link\",type:\"url\",helperText:\"Optionally set a url that clicking this column will link to\"}],defaultValue:[{blocks:defaultBlocks},{blocks:defaultBlocks}],onChange:function(e){function t(){n.forEach((function(e){e.delete(\"width\")}))}var n=e.get(\"columns\");Array.isArray(n)&&(!n.find((function(e){return e.get(\"width\")}))||(n.find((function(e){return!e.get(\"width\")}))||100!==n.reduce((function(e,t){return e+t.get(\"width\")}),0))&&t())}},{name:\"space\",type:\"number\",defaultValue:20,helperText:\"Size of gap between columns\",advanced:!0},{name:\"stackColumnsAt\",type:\"string\",defaultValue:\"tablet\",helperText:\"Convert horizontal columns to vertical at what device size\",enum:[\"tablet\",\"mobile\",\"never\"],advanced:!0},{name:\"reverseColumnsWhenStacked\",type:\"boolean\",defaultValue:!1,helperText:\"When stacking columns for mobile devices, reverse the ordering\",advanced:!0}]}),EmbedComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elementRef=null,t.scriptsInserted=new Set,t.scriptsRun=new Set,t}return __extends(t,e),t.prototype.shouldComponentUpdate=function(e){return e.content!==this.props.content},t.prototype.componentDidUpdate=function(e){this.props.content!==e.content&&this.findAndRunScripts()},t.prototype.componentDidMount=function(){this.findAndRunScripts()},t.prototype.findAndRunScripts=function(){if(this.elementRef&&\"undefined\"!=typeof window)for(var e=this.elementRef.getElementsByTagName(\"script\"),t=0;t<e.length;t++){var n=e[t];if(n.src){if(this.scriptsInserted.has(n.src))continue;this.scriptsInserted.add(n.src);var i=document.createElement(\"script\");i.async=!0,i.src=n.src,document.head.appendChild(i)}else{if(this.scriptsRun.has(n.innerText))continue;this.scriptsRun.add(n.innerText);try{new Function(n.innerText)()}catch(e){console.warn(\"Builder custom code component error:\",e)}}}},Object.defineProperty(t.prototype,\"content\",{get:function(){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer?(this.props.content||\"\").replace(/<script[\\s\\S]*?<\\/script>/g,\"\"):this.props.content},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",{ref:function(t){return e.elementRef=t},className:\"builder-embed\",dangerouslySetInnerHTML:{__html:this.content}})},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Embed=withBuilder(EmbedComponent,{name:\"Embed\",static:!0,inputs:[{name:\"url\",type:\"url\",required:!0,defaultValue:\"\",helperText:\"e.g. enter a youtube url, google map, etc\"},{name:\"content\",type:\"html\",defaultValue:'<div style=\"padding: 20px; text-align: center\">(Choose an embed URL)<div>',hideFromUI:!0}]}),globalReplaceNodes={}||null,isShopify$1=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&\"Shopify\"in window;if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&globalReplaceNodes){var customCodeQuerySelector_1=\".builder-custom-code\";try{var allCustomCodeElements_1=Array.from(document.querySelectorAll(customCodeQuerySelector_1)),builderTemplates=document.querySelectorAll(\"template[data-template-variant-id]\");builderTemplates.length&&Array.from(builderTemplates).forEach((function(e){var t=e.content.querySelectorAll(customCodeQuerySelector_1);t.length&&(allCustomCodeElements_1=allCustomCodeElements_1.concat(Array.from(t)))})),allCustomCodeElements_1.forEach((function(e){var t=e.parentElement,n=t&&t.getAttribute(\"builder-id\");n&&(globalReplaceNodes[n]=globalReplaceNodes[n]||[],globalReplaceNodes[n].push(isShopify$1?e:e.cloneNode(!0)))}))}catch(e){console.error(\"Builder replace nodes error:\",e)}}var CustomCodeComponent=function(e){function t(t){var n,i=this;if((i=e.call(this,t)||this).elementRef=null,i.originalRef=null,i.scriptsInserted=new Set,i.scriptsRun=new Set,i.firstLoad=!0,i.replaceNodes=!1,i.state={hydrated:!1},_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser){var r=null===(n=i.props.builderBlock)||void 0===n?void 0:n.id;if(i.replaceNodes=Boolean(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(t.replaceNodes||isShopify$1)&&r&&(null==globalReplaceNodes?void 0:globalReplaceNodes[r])),i.firstLoad&&i.props.builderBlock)if(r&&(null==globalReplaceNodes?void 0:globalReplaceNodes[r])){var o=globalReplaceNodes[r].shift()||null;i.originalRef=o,0===globalReplaceNodes[r].length&&delete globalReplaceNodes[r]}else if(i.replaceNodes){var a=document.querySelectorAll(\".\".concat(i.props.builderBlock.id,\" .builder-custom-code\"));if(1===a.length){var s=a[0];i.originalRef=s,i.originalRef.remove()}}}return i}return __extends(t,e),t.prototype.shouldComponentUpdate=function(e){return e.code!==this.props.code},Object.defineProperty(t.prototype,\"noReactRender\",{get:function(){var e;return Boolean(isShopify$1&&(null===(e=this.props.code)||void 0===e?void 0:e.match(/{[{%]/g)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"isHydrating\",{get:function(){return!isShopify$1&&this.originalRef},enumerable:!1,configurable:!0}),t.prototype.componentDidUpdate=function(e){this.props.code!==e.code&&this.findAndRunScripts()},t.prototype.componentDidMount=function(){var e=this;this.firstLoad=!1,this.replaceNodes||(this.isHydrating?(this.setState({hydrated:!0}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick((function(){return e.findAndRunScripts()}))):this.findAndRunScripts()),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&this.replaceNodes&&this.originalRef&&this.elementRef&&this.elementRef.appendChild(this.originalRef)},t.prototype.findAndRunScripts=function(){if(this.elementRef&&\"undefined\"!=typeof window)for(var e=this.elementRef.getElementsByTagName(\"script\"),t=0;t<e.length;t++){var n=e[t];if(n.src){if(this.scriptsInserted.has(n.src))continue;this.scriptsInserted.add(n.src);var i=document.createElement(\"script\");i.async=!0,i.src=n.src,document.head.appendChild(i)}else if(!n.type||[\"text/javascript\",\"application/javascript\",\"application/ecmascript\"].includes(n.type)){if(this.scriptsRun.has(n.innerText))continue;try{this.scriptsRun.add(n.innerText),new Function(n.innerText)()}catch(e){console.warn(\"Builder custom code component error:\",e)}}}},Object.defineProperty(t.prototype,\"code\",{get:function(){return(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer||this.isHydrating&&this.firstLoad)&&this.props.scriptsClientOnly?(this.props.code||\"\").replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\"\"):this.props.code},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",__assign({ref:function(t){return e.elementRef=t},className:\"builder-custom-code\"},!this.replaceNodes&&!this.noReactRender&&{dangerouslySetInnerHTML:{__html:this.code}}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),CustomCode=withBuilder(CustomCodeComponent,{name:\"Custom Code\",static:!0,requiredPermissions:[\"editCode\"],inputs:[{name:\"code\",type:\"html\",required:!0,defaultValue:\"<p>Hello there, I am custom HTML code!</p>\",code:!0},__assign({name:\"replaceNodes\",type:\"boolean\",helperText:\"Preserve server rendered dom nodes\",advanced:!0},isShopify$1&&{defaultValue:!0}),__assign({name:\"scriptsClientOnly\",type:\"boolean\",helperText:\"Only print and run scripts on the client. Important when scripts influence DOM that could be replaced when client loads\",advanced:!0},!isShopify$1&&{defaultValue:!0})]}),IMAGE_FILE_TYPES=[\"jpeg\",\"jpg\",\"png\",\"svg\",\"webp\",\"gif\",\"jfif\",\"pjpeg\",\"pjp\",\"apng\",\"avif\",\"tif\",\"tiff\",\"heif\",\"bmp\",\"eps\",\"raw\",\"cr2\",\"nef\",\"orf\",\"sr2\",\"psd\",\"heic\",\"dib\",\"ai\"],VIDEO_FILE_TYPES=[\"mp4\",\"webm\",\"mkv\",\"flv\",\"vob\",\"ogv\",\"ogg\",\"drc\",\"gif\",\"gifv\",\"mng\",\"avi\",\"mov\",\"qt\",\"mts\",\"m2ts\",\"ts\",\"wmv\",\"yuv\",\"rm\",\"rmvb\",\"viv\",\"asf\",\"amv\",\"m4p\",\"mpeg\",\"mpe\",\"m2v\",\"m4v\",\"svi\",\"3gp\",\"3g2\",\"mxf\",\"roq\",\"nsv\",\"f4v\",\"f4p\",\"f4a\",\"f4b\"],isNewReact=\"use\" in (react__WEBPACK_IMPORTED_MODULE_2___default());function removeProtocol(e){return e.replace(/http(s)?:/,\"\")}function isElementInViewport(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function getShopifyImageUrl(e,t){if(!e||!(null==e?void 0:e.match(/cdn\\.shopify\\.com/))||!t)return e;if(\"master\"===t)return removeProtocol(e);var n=e.match(/(_\\d+x(\\d+)?)?(\\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\\?v=\\d+)?)/i);if(n){var i=e.split(n[0]),r=n[3],o=t.match(\"x\")?t:\"\".concat(t,\"x\");return removeProtocol(\"\".concat(i[0],\"_\").concat(o).concat(r))}return null}var DEFAULT_ASPECT_RATIO$1=.7041;function updateQueryParam(e,t,n){void 0===e&&(e=\"\");var i=new RegExp(\"([?&])\"+t+\"=.*?(&|$)\",\"i\"),r=-1!==e.indexOf(\"?\")?\"&\":\"?\";return e.match(i)?e.replace(i,\"$1\"+t+\"=\"+encodeURIComponent(n)+\"$2\"):e+r+t+\"=\"+encodeURIComponent(n)}function getSrcSet(e){if(!e)return e;var t=[100,200,400,800,1200,1600,2e3];if(e.match(/builder\\.io/)){var n=e,i=Number(e.split(\"?width=\")[1]);return isNaN(i)||(n=\"\".concat(n,\" \").concat(i,\"w\")),t.filter((function(e){return e!==i})).map((function(t){return\"\".concat(updateQueryParam(e,\"width\",t),\" \").concat(t,\"w\")})).concat([n]).join(\", \")}return e.match(/cdn\\.shopify\\.com/)?t.map((function(t){return[getShopifyImageUrl(e,\"\".concat(t,\"x\").concat(t)),t]})).filter((function(e){return!!e[0]})).map((function(e){var t=e[0],n=e[1];return\"\".concat(t,\" \").concat(n,\"w\")})).concat([e]).join(\", \"):e}var getSizes=function(e,t,n){var i,r,o,a,s,l,u,d;void 0===n&&(n={});var c=\"\";if(e){var p=e.split(\",\"),f=p.length;c=p.map((function(e,t){return f===t+1?e.replace(/\\([\\s\\S]*?\\)/g,\"\").trim():e})).join(\", \")}else if(t&&t.responsiveStyles){var m=[],h=!1,v=/^\\d+/,g=getSizesForBreakpoints(n);if(null===(o=null===(r=null===(i=t.responsiveStyles)||void 0===i?void 0:i.small)||void 0===r?void 0:r.width)||void 0===o?void 0:o.match(v)){h=!0;var b=\"(max-width: \".concat(g.small.max,\"px)\"),y=\"\".concat(b,\" \").concat(t.responsiveStyles.small.width.replace(\"%\",\"vw\"));m.push(y)}if(null===(l=null===(s=null===(a=t.responsiveStyles)||void 0===a?void 0:a.medium)||void 0===s?void 0:s.width)||void 0===l?void 0:l.match(v)){h=!0;b=\"(max-width: \".concat(g.medium.max,\"px)\"),y=\"\".concat(b,\" \").concat(t.responsiveStyles.medium.width.replace(\"%\",\"vw\"));m.push(y)}if(null===(d=null===(u=t.responsiveStyles)||void 0===u?void 0:u.large)||void 0===d?void 0:d.width){var _=t.responsiveStyles.large.width.replace(\"%\",\"vw\");m.push(_)}else h&&m.push(\"100vw\");m.length&&(c=m.join(\", \"))}return c},ImageComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={imageLoaded:!t.useLazyLoading,load:!t.useLazyLoading},t.pictureRef=null,t.scrollListener=null,t.intersectionObserver=null,t}return __extends(t,e),Object.defineProperty(t.prototype,\"useLazyLoading\",{get:function(){return!this.props.highPriority&&((!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||!location.search.includes(\"builder.lazyLoadImages=false\"))&&(!(!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser||!location.href.includes(\"builder.lazyLoadImages=true\"))||this.props.lazy))},enumerable:!1,configurable:!0}),t.prototype.componentWillUnmount=function(){_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(this.scrollListener&&(window.removeEventListener(\"scroll\",this.scrollListener),this.scrollListener=null),this.intersectionObserver&&this.pictureRef&&this.intersectionObserver.unobserve(this.pictureRef))},t.prototype.componentDidMount=function(){var e=this;if(this.props.lazy&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser)if(this.pictureRef&&isElementInViewport(this.pictureRef))this.setState({load:!0});else if(\"function\"==typeof IntersectionObserver&&this.pictureRef){(this.intersectionObserver=new IntersectionObserver((function(t,n){t.forEach((function(t){t.intersectionRatio>0&&(e.setState({load:!0}),e.pictureRef&&n.unobserve(e.pictureRef))}))}))).observe(this.pictureRef)}else{var t=throttle((function(n){if(e.pictureRef){var i=e.pictureRef.getBoundingClientRect(),r=window.innerHeight/2;i.top<window.innerHeight+r&&(e.setState(__assign(__assign({},e.state),{load:!0})),window.removeEventListener(\"scroll\",t),e.scrollListener=null)}}),400,{leading:!1,trailing:!0});this.scrollListener=t,window.addEventListener(\"scroll\",t,{capture:!0,passive:!0}),t()}},Object.defineProperty(t.prototype,\"image\",{get:function(){return this.props.image||this.props.src},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"loadEagerly\",{get:function(){var e;return(null===(e=this.props.builderBlock)||void 0===e?void 0:e.id.startsWith(\"builder-pixel-\"))||this.props.highPriority},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"fetchPriorityProp\",{get:function(){var e;return(e={})[isNewReact?\"fetchPriority\":\"fetchpriority\"]=this.loadEagerly?\"high\":\"auto\",e},enumerable:!1,configurable:!0}),t.prototype.getSrcSet=function(){var e=this.image;if(e&&\"string\"==typeof e&&!this.props.noWebp&&(e.match(/builder\\.io/)||e.match(/cdn\\.shopify\\.com/)))return getSrcSet(e)},t.prototype.render=function(){var e,t,n=this,i=this.props,r=i.aspectRatio,o=i.lazy,a=i.builderBlock,s=i.builderState,l=this.props.builderBlock&&this.props.builderBlock.children,u=this.props.srcset,d=getSizes(this.props.sizes,a,(null===(t=null===(e=null==s?void 0:s.context.builderContent)||void 0===e?void 0:e.meta)||void 0===t?void 0:t.breakpoints)||{}),c=this.image;u&&c&&c.includes(\"builder.io/api/v1/image\")?u.includes(c.split(\"?\")[0])||(console.debug(\"Removed given srcset\"),u=this.getSrcSet()):c&&!u&&(u=this.getSrcSet());var p=this.props.fitContent;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderMetaContext.Consumer,null,(function(e){var t,i=e.ampMode,a=i?\"amp-img\":\"img\",s=(!o||n.state.load||i)&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(a,__assign({},i?{layout:\"responsive\",height:n.props.height||(r?Math.round(1e3*r):void 0),width:n.props.width||(r?Math.round(1e3/r):void 0)}:null,{alt:n.props.altText,title:n.props.title,key:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&\"string\"==typeof n.image&&n.image.split(\"?\")[0]||void 0,role:n.props.altText?void 0:\"presentation\",css:__assign(__assign({opacity:i?1:n.useLazyLoading&&!n.state.imageLoaded?0:1,transition:\"opacity 0.2s ease-in-out\",objectFit:n.props.backgroundSize||\"cover\",objectPosition:n.props.backgroundPosition||\"center\"},r&&!i&&{position:\"absolute\",height:\"100%\",width:\"100%\",left:0,top:0}),i&&(t={},t[\"& img\"]={objectFit:n.props.backgroundSize,objectPosition:n.props.backgroundPosition},t)),loading:n.loadEagerly?\"eager\":\"lazy\"},n.fetchPriorityProp,{className:\"builder-image\"+(n.props.className?\" \"+n.props.className:\"\"),src:n.image},!i&&{onLoad:function(){return n.setState({imageLoaded:!0})}},{srcSet:u,sizes:!i&&d?d:void 0}));return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,i?s:(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"picture\",{ref:function(e){return n.pictureRef=e}},u&&u.match(/builder\\.io/)&&!n.props.noWebp&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"source\",{srcSet:u.replace(/\\?/g,\"?format=webp&\"),type:\"image/webp\"}),s),!r||i||p&&l&&l.length?null:(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{className:\"builder-image-sizer\",css:{width:\"100%\",paddingTop:100*r+\"%\",pointerEvents:\"none\",fontSize:0}},\" \"),l&&l.length?p?l.map((function(e,t){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlock$1,{key:e.id,block:e})})):(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\"}},l.map((function(e,t){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlock$1,{key:e.id,block:e})}))):null)}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Image=withBuilder(ImageComponent,{name:\"Image\",static:!0,image:\"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4\",defaultStyles:{position:\"relative\",minHeight:\"20px\",minWidth:\"20px\",overflow:\"hidden\"},canHaveChildren:!0,inputs:[{name:\"image\",type:\"file\",bubble:!0,allowedFileTypes:IMAGE_FILE_TYPES,required:!0,defaultValue:\"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F72c80f114dc149019051b6852a9e3b7a\",onChange:function(e){e.delete(\"srcset\"),e.delete(\"noWebp\");var t,n,i=e.get(\"image\"),r=e.get(\"aspectRatio\");if(fetch(i).then((function(e){return e.blob()})).then((function(t){t.type.includes(\"svg\")&&e.set(\"noWebp\",!0)})),i&&(!r||.7041===r))return(t=i,void 0===n&&(n=6e4),new Promise((function(e,i){var r=document.createElement(\"img\"),o=!1;r.onload=function(){o=!0,e(r)},r.addEventListener(\"error\",(function(e){console.warn(\"Image load failed\",e.error),i(e.error)})),r.src=t,setTimeout((function(){o||i(new Error(\"Image load timed out\"))}),n)}))).then((function(t){var n,r=e.get(\"aspectRatio\");e.get(\"image\")!==i||r&&.7041!==r||t.width&&t.height&&(e.set(\"aspectRatio\",(n=t.height/t.width,Math.round(1e3*n)/1e3)),e.set(\"height\",t.height),e.set(\"width\",t.width))}))}},{name:\"backgroundSize\",type:\"text\",defaultValue:\"cover\",enum:[{label:\"contain\",value:\"contain\",helperText:\"The image should never get cropped\"},{label:\"cover\",value:\"cover\",helperText:\"The image should fill its box, cropping when needed\"}]},{name:\"backgroundPosition\",type:\"text\",defaultValue:\"center\",enum:[\"center\",\"top\",\"left\",\"right\",\"bottom\",\"top left\",\"top right\",\"bottom left\",\"bottom right\"]},{name:\"altText\",type:\"string\",helperText:\"Text to display when the user has images off\"},{name:\"title\",type:\"string\",helperText:\"Text to display when hovering over the asset\"},{name:\"highPriority\",type:\"boolean\",advanced:!0,helperText:\"Mark this image as high priority compared to other images on the page. This prevents lazy loading of the image and tells the browser to load this image before others on the page.\"},{name:\"height\",type:\"number\",hideFromUI:!0},{name:\"width\",type:\"number\",hideFromUI:!0},{name:\"sizes\",type:\"string\",hideFromUI:!0},{name:\"srcset\",type:\"string\",hideFromUI:!0},{name:\"lazy\",type:\"boolean\",defaultValue:!0,hideFromUI:!0},{name:\"fitContent\",type:\"boolean\",helperText:\"When child blocks are provided, fit to them instead of using the image's aspect ratio\",defaultValue:!0},{name:\"aspectRatio\",type:\"number\",helperText:\"This is the ratio of height/width, e.g. set to 1.5 for a 300px wide and 200px tall photo. Set to 0 to not force the image to maintain it's aspect ratio\",advanced:!0,defaultValue:DEFAULT_ASPECT_RATIO$1}]}),DEFAULT_ASPECT_RATIO=.7004048582995948,VideoComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.video=null,t.containerRef=null,t.lazyVideoObserver=null,t.state={load:!t.lazyLoad},t}return __extends(t,e),Object.defineProperty(t.prototype,\"lazyLoad\",{get:function(){return!1!==this.props.lazyLoad},enumerable:!1,configurable:!0}),t.prototype.updateVideo=function(){var e=this,t=this.video;if(t){[\"muted\",\"playsInline\",\"autoPlay\"].forEach((function(n){var i=n.toLowerCase();e.props[n]?t.setAttribute(i,i):t.removeAttribute(i)}))}},t.prototype.componentDidUpdate=function(){this.updateVideo()},t.prototype.componentDidMount=function(){var e=this;if(this.updateVideo(),this.lazyLoad&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser){var t=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&(e.setState((function(e){return __assign(__assign({},e),{load:!0})})),e.lazyVideoObserver&&(e.lazyVideoObserver.disconnect(),e.lazyVideoObserver=null))}))}));this.containerRef&&(t.observe(this.containerRef),this.lazyVideoObserver=t)}},t.prototype.componentWillUnmount=function(){this.lazyVideoObserver&&(this.lazyVideoObserver.disconnect(),this.lazyVideoObserver=null)},t.prototype.render=function(){var e=this,t=this.props,n=t.aspectRatio,i=t.children;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{ref:function(t){return e.containerRef=t},css:{position:\"relative\"}},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"video\",{key:this.props.video||\"no-src\",poster:this.props.posterImage,ref:function(t){return e.video=t},autoPlay:this.props.autoPlay,muted:this.props.muted,controls:this.props.controls,loop:this.props.loop,preload:this.props.preload||\"metadata\",className:\"builder-video\",css:__assign({width:\"100%\",height:\"100%\",objectFit:this.props.fit,objectPosition:this.props.position,borderRadius:1},n?{position:\"absolute\"}:null)},(!this.lazyLoad||this.state.load)&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"source\",{type:\"video/mp4\",src:this.props.video})),!n||this.props.fitContent&&i?null:(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{width:\"100%\",paddingTop:100*n+\"%\",pointerEvents:\"none\",fontSize:0}}),i&&this.props.fitContent?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\"}},i):i?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{pointerEvents:\"none\",display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\"}},i):null)},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Video=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(withChildren(VideoComponent),{name:\"Video\",canHaveChildren:!0,defaultStyles:{minHeight:\"20px\",minWidth:\"20px\"},image:\"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-videocam-24px%20(1).svg?alt=media&token=49a84e4a-b20e-4977-a650-047f986874bb\",inputs:[{name:\"video\",type:\"file\",allowedFileTypes:VIDEO_FILE_TYPES,bubble:!0,defaultValue:\"https://cdn.builder.io/o/assets%2FYJIGb4i01jvw0SRdL5Bt%2Fd27731a526464deba0016216f5f9e570%2Fcompressed?apiKey=YJIGb4i01jvw0SRdL5Bt&token=d27731a526464deba0016216f5f9e570&alt=media&optimized=true\",required:!0},{name:\"posterImage\",type:\"file\",allowedFileTypes:IMAGE_FILE_TYPES,helperText:\"Image to show before the video plays\"},{name:\"autoPlay\",type:\"boolean\",defaultValue:!0},{name:\"controls\",type:\"boolean\",defaultValue:!1},{name:\"muted\",type:\"boolean\",defaultValue:!0},{name:\"loop\",type:\"boolean\",defaultValue:!0},{name:\"playsInline\",type:\"boolean\",defaultValue:!0},{name:\"fit\",type:\"text\",defaultValue:\"cover\",enum:[\"contain\",\"cover\",\"fill\",\"auto\"]},{name:\"preload\",type:\"text\",defaultValue:\"metadata\",enum:[\"auto\",\"metadata\",\"none\"]},{name:\"fitContent\",type:\"boolean\",helperText:\"When child blocks are provided, fit to them instead of using the aspect ratio\",defaultValue:!0,advanced:!0},{name:\"position\",type:\"text\",defaultValue:\"center\",enum:[\"center\",\"top\",\"left\",\"right\",\"bottom\",\"top left\",\"top right\",\"bottom left\",\"bottom right\"]},{name:\"height\",type:\"number\",advanced:!0},{name:\"width\",type:\"number\",advanced:!0},{name:\"aspectRatio\",type:\"number\",advanced:!0,defaultValue:DEFAULT_ASPECT_RATIO},{name:\"lazyLoad\",type:\"boolean\",helperText:'Load this video \"lazily\" - as in only when a user scrolls near the video. Recommended for optmized performance and bandwidth consumption',defaultValue:!0,advanced:!0}]}),size=function(e){return Object.keys(e).length},isShopify=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&\"Shopify\"in window,refs={};if(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser)try{Array.from(document.querySelectorAll(\"[builder-static-symbol]\")).forEach((function(e){var t=e.getAttribute(\"builder-static-symbol\");t&&(refs[t]=e)}))}catch(e){console.error(\"Builder replace nodes error:\",e)}var SymbolComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=null,t.staticRef=null,t.isEditingThisSymbol=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,\"placeholder\",{get:function(){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{padding:10}},\"Symbols let you reuse dynamic elements across your content. Please choose a model and entry for this symbol.\")},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e,t,n,i=this;this.useStatic&&this.staticRef&&refs[null===(e=this.props.builderBlock)||void 0===e?void 0:e.id]&&(null===(t=this.staticRef.parentNode)||void 0===t||t.replaceChild(refs[null===(n=this.props.builderBlock)||void 0===n?void 0:n.id],this.staticRef)),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.nextTick((function(){var e=i.props.symbol||{},t=e.model,n=e.entry;i.isEditingThisSymbol=Boolean(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&t===_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.editingModel&&n&&location.search.includes(\"overrides.\".concat(n)))}))},Object.defineProperty(t.prototype,\"useStatic\",{get:function(){var e;return Boolean(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&refs[null===(e=this.props.builderBlock)||void 0===e?void 0:e.id]&&!(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing))},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e,t,n=this;if(this.useStatic)return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{ref:function(e){return n.staticRef=e}});var i=this.props.symbol,r=!1;i||(r=!0);var o=this.props.dataOnly?NoWrap:this.props.builderBlock&&this.props.builderBlock.tagName||\"div\",a=i||{},s=a.model,l=a.entry,u=a.data,d=a.content,c=a.inline,p=a.ownerId,f=(null==i?void 0:i.dynamic)||this.props.dynamic;s&&(l||f)||(null===(e=null==d?void 0:d.data)||void 0===e?void 0:e.blocksJs)||c||(r=!0),this.isEditingThisSymbol&&(r=!1);var m=f?null===(t=this.props.builderBlock)||void 0===t?void 0:t.id:[s,l].join(\":\"),h=u&&size(u)&&hash_sum__WEBPACK_IMPORTED_MODULE_4___default()(u);m&&h&&h.length<300&&(m+=\":\"+h);var v=this.props.attributes||{};return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Consumer,{key:(s||\"no model\")+\":\"+(l||\"no entry\"+this.isEditingThisSymbol)},(function(e){var t,a,c,f,h,g,b,y,_,x,S,k=\"\".concat(m,\"_\").concat((null===(t=null==e?void 0:e.state)||void 0===t?void 0:t.locale)||\"Default\");return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(o,__assign({\"data-model\":s},v,{className:(v.class||v.className||\"\")+\" builder-symbol\"+((null==i?void 0:i.inline)?\" builder-inline-symbol\":\"\")+((null==i?void 0:i.dynamic)||n.props.dynamic?\" builder-dynamic-symbol\":\"\")}),r?n.placeholder:(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderComponent,__assign({},p&&{apiKey:p},(null===(a=e.state)||void 0===a?void 0:a.locale)&&{locale:e.state.locale},{isChild:!0,ref:function(e){return n.ref=e},context:__assign(__assign({},e.context),{symbolId:null===(c=n.props.builderBlock)||void 0===c?void 0:c.id}),model:s,entry:l,data:__assign(__assign(__assign({},u),!!n.props.inheritState&&omit$2(e.state,\"children\")),null===(_=null===(y=null===(b=null===(g=null===(h=null===(f=n.props.builderBlock)||void 0===f?void 0:f.component)||void 0===h?void 0:h.options)||void 0===g?void 0:g.symbol)||void 0===b?void 0:b.content)||void 0===y?void 0:y.data)||void 0===_?void 0:_.state),renderLink:e.renderLink,inlineContent:null==i?void 0:i.inline},d&&{content:d},{key:k,options:__assign(__assign({},!n.isEditingThisSymbol&&{key:k,noEditorUpdates:!0}),\"content\"===_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.singletonInstance.apiEndpoint&&l&&{query:{id:l}}),codegen:!!(null===(x=null==d?void 0:d.data)||void 0===x?void 0:x.blocksJs),hydrate:null===(S=e.state)||void 0===S?void 0:S._hydrate,builderBlock:n.props.builderBlock,dataOnly:n.props.dataOnly,nonce:e.context.nonce}),n.props.children))}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Symbol$1=withBuilder(SymbolComponent,{name:\"Symbol\",noWrap:!0,static:!0,inputs:[{name:\"symbol\",type:\"uiSymbol\"},{name:\"dataOnly\",helperText:\"Make this a data symbol that doesn't display any UI\",type:\"boolean\",defaultValue:!1,advanced:!0,hideFromUI:!0},{name:\"inheritState\",helperText:\"Inherit the parent component state and data\",type:\"boolean\",defaultValue:isShopify,advanced:!0},{name:\"renderToLiquid\",helperText:\"Render this symbols contents to liquid. Turn off to fetch with javascript and use custom targeting\",type:\"boolean\",defaultValue:isShopify,advanced:!0,hideFromUI:!0},{name:\"useChildren\",hideFromUI:!0,type:\"boolean\"}]}),ButtonComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this.props.link?Link:\"span\";return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(e,__assign({role:\"button\",href:this.props.link,target:this.props.openLinkInNewTab?\"_blank\":void 0},this.props.attributes),this.props.text)},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Button=withBuilder(ButtonComponent,{name:\"Core:Button\",image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F81a15681c3e74df09677dfc57a615b13\",defaultStyles:{appearance:\"none\",paddingTop:\"15px\",paddingBottom:\"15px\",paddingLeft:\"25px\",paddingRight:\"25px\",backgroundColor:\"#000000\",color:\"white\",borderRadius:\"4px\",textAlign:\"center\",cursor:\"pointer\"},inputs:[{name:\"text\",type:\"text\",defaultValue:\"Click me!\",bubble:!0},{name:\"link\",type:\"url\",bubble:!0},{name:\"openLinkInNewTab\",type:\"boolean\",defaultValue:!1,friendlyName:\"Open link in new tab\"}],static:!0,noWrap:!0}),SectionComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=null,t.unmountCallbacks=[],t.state={inView:!1},t}return __extends(t,e),Object.defineProperty(t.prototype,\"renderContents\",{get:function(){return!0!==this.props.lazyLoad||this.state.inView},enumerable:!1,configurable:!0}),t.prototype.componentWillUnmount=function(){this.unmountCallbacks.forEach((function(e){return e()}))},t.prototype.componentDidMount=function(){var e=this;if(this.props.lazyLoad)if(\"undefined\"!=typeof IntersectionObserver&&this.ref){var t=new IntersectionObserver((function(t,n){t.forEach((function(t){t.intersectionRatio>0&&(e.setState({inView:!0}),e.ref&&n.unobserve(e.ref))}))}),{rootMargin:\"10px\"});t.observe(this.ref),this.unmountCallbacks.push((function(){e.ref&&t.unobserve(e.ref)}))}else this.setState({inView:!0})},t.prototype.render=function(){var e=this;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"section\",{ref:function(t){return e.ref=t},css:__assign({width:\"100%\",alignSelf:\"stretch\",flexGrow:1,boxSizing:\"border-box\",maxWidth:this.props.maxWidth,display:\"flex\",flexDirection:\"column\",alignItems:\"stretch\",marginLeft:\"auto\",marginRight:\"auto\"},this.renderContents?null:this.props.lazyStyles)},this.renderContents?(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,this.props.children,this.props.builderBlock&&this.props.builderBlock.children&&this.props.builderBlock.children.map((function(e,t){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlock$1,{key:e.id,block:e})}))):null)},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Section=withBuilder(SectionComponent,{name:\"Core:Section\",static:!0,image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F682efef23ace49afac61748dd305c70a\",inputs:[{name:\"maxWidth\",type:\"number\",defaultValue:1200},{name:\"lazyLoad\",type:\"boolean\",defaultValue:!1,advanced:!0,description:\"Only render this section when in view\"}],defaultStyles:{paddingLeft:\"20px\",paddingRight:\"20px\",paddingTop:\"50px\",paddingBottom:\"50px\",marginTop:\"0px\",width:\"100vw\",marginLeft:\"calc(50% - 50vw)\"},canHaveChildren:!0,defaultChildren:[{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{textAlign:\"center\"}},component:{name:\"Text\",options:{text:\"<p><b>I am a section! My content keeps from getting too wide, so that it's easy to read even on big screens.</b></p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur</p>\"}}}]}),StateProviderComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderStoreContext.Consumer,null,(function(t){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderStoreContext.Provider,{value:__assign(__assign({},t),{state:__assign(__assign({},t.state),e.props.state),context:__assign(__assign({},t.context),e.props.context)})},e.props.builderBlock&&e.props.builderBlock.children&&e.props.builderBlock.children.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlock$1,{block:e,key:e.id,index:t,child:!0})})),e.props.children)}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),StateProvider=withBuilder(StateProviderComponent,{name:\"Builder:StateProvider\",canHaveChildren:!0,static:!0,noWrap:!0,hideFromInsertMenu:!0}),prefetched=new Set;function searchToObject(e){var t=(e.search||\"\").substring(1).split(\"&\"),n={};for(var i in t)if(t[i]&&\"string\"==typeof t[i]){var r=t[i].split(\"=\");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return n}var RouterComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.builder=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder,t.routed=!1,t.preloadQueue=0,t.onPopState=function(e){t.updateLocationState()},t.onMouseOverOrTouchStart=function(e){if(!(t.preloadQueue>4)&&!1!==t.props.preloadOnHover){var n=t.findHrefTarget(e);if(n){var i=n.getAttribute(\"href\");if(i){if(!t.isRelative(i)){var r=t.convertToRelative(i);if(!r)return;i=r}if(!i.startsWith(\"#\")&&!prefetched.has(i)){prefetched.add(i);var o=t.parseUrl(i);t.preloadQueue++;var a=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.getUserAttributes();a.urlPath=o.pathname,a.queryString=o.search;var s=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.get(t.model,{userAttributes:a,key:t.model+\":\"+o.pathname+o.search}).subscribe((function(){t.preloadQueue--,s.unsubscribe()}))}}}}},t.onClick=function(e){return __awaiter(t,void 0,void 0,(function(){var t,n,i,r;return __generator(this,(function(o){if(!1===this.props.handleRouting)return[2];if(0!==e.button||e.ctrlKey||e.defaultPrevented||e.metaKey)return[2];if(!(t=this.findHrefTarget(e)))return[2];if(t.target&&\"_client\"!==t.target)return[2];if(!(n=t.getAttribute(\"href\")))return[2];if(this.props.onRoute&&(i={url:n,anchorNode:t,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1},this.props.onRoute(i),i.defaultPrevented))return[2];if(!this.isRelative(n)){if(!(r=this.convertToRelative(n)))return[2];n=r}return n.startsWith(\"#\")||(e.preventDefault(),this.route(n)),[2]}))}))},t.privateState=null,t}return __extends(t,e),t.prototype.route=function(e){var t;return this.routed=!0,\"function\"==typeof(null===(t=window.history)||void 0===t?void 0:t.pushState)?(history.pushState(null,\"\",e),this.updateLocationState(),!0):(location.href=e,!1)},t.prototype.updateLocationState=function(){this.privateState&&this.privateState.update((function(e){e.location=__assign(__assign({},e.location),{pathname:location.pathname,search:location.search,path:location.pathname.split(\"/\").slice(1),query:searchToObject(location)})}))},Object.defineProperty(t.prototype,\"model\",{get:function(){return this.props.model||\"page\"},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){\"undefined\"!=typeof document&&(document.addEventListener(\"click\",this.onClick),window.addEventListener(\"popstate\",this.onPopState),document.addEventListener(\"mouseover\",this.onMouseOverOrTouchStart),document.addEventListener(\"touchstart\",this.onMouseOverOrTouchStart))},t.prototype.componentWillUnmount=function(){\"undefined\"!=typeof document&&(document.removeEventListener(\"click\",this.onClick),document.removeEventListener(\"mouseover\",this.onMouseOverOrTouchStart),window.removeEventListener(\"popstate\",this.onPopState),document.removeEventListener(\"touchstart\",this.onMouseOverOrTouchStart))},t.prototype.render=function(){var e=this,t=this.model;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Consumer,null,(function(n){e.privateState=n;var i=n.state&&n.state.location&&n.state.location.pathname+n.state.location.search;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{className:\"builder-router\",\"data-model\":t},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"style\",{nonce:n.context.nonce},\"\\n                @keyframes builderLoadingSpinner {\\n                  0% {\\n                    transform: rotate(0deg);\\n                  }\\n                  100% {\\n                    transform: rotate(360deg);\\n                  }\\n                }\\n                /* TODO: overridable tag */\\n                .builder-page-loading {\\n                  -webkit-animation: builderLoadingSpinner 1s infinite linear;\\n                  animation: builderLoadingSpinner 1s infinite linear;\\n                  -webkit-transform: translateZ(0);\\n                  transform: translateZ(0);\\n                  border-radius: 50%;\\n                  width: 36px;\\n                  height: 36px;\\n                  margin: 6px auto;\\n                  position: relative;\\n                  border: 1px solid transparent;\\n                  border-left: 1px solid #808284;\\n                }\\n              \"),(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderComponent,{key:i,data:e.props.data,content:e.routed?void 0:e.props.content,modelName:t,options:{key:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing?void 0:e.model+\":\"+i},nonce:n.context.nonce},e.props.children||(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{display:\"flex\"}},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\",{css:{margin:\"40vh auto\"},className:\"builder-page-loading\"}))))}))},t.prototype.findHrefTarget=function(e){for(var t=e.target;t;){if(t instanceof HTMLAnchorElement&&t.getAttribute(\"href\"))return t;if(t===e.currentTarget)break;t=t.parentElement}return null},t.prototype.isRelative=function(e){return!e.match(/^(\\/\\/|https?:\\/\\/)/i)},t.prototype.parseUrl=function(e){var t=document.createElement(\"a\");return t.href=e,t},t.prototype.convertToRelative=function(e){var t=this.parseUrl(location.href),n=this.parseUrl(e);if(t.host===n.host){var i=n.pathname+(n.search?n.search:\"\");return i.startsWith(\"#\")?null:i||\"/\"}return null},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Router=withBuilder(RouterComponent,{name:\"Core:Router\",hideFromInsertMenu:!0,inputs:[{name:\"model\",type:\"string\",defaultValue:\"page\",advanced:!0},{name:\"handleRouting\",type:\"boolean\",defaultValue:!0,advanced:!0},{name:\"preloadOnHover\",type:\"boolean\",defaultValue:!0,advanced:!0},{name:\"onRoute\",type:\"function\",advanced:!0}]});function Mutation(e){var t,n,i=react__WEBPACK_IMPORTED_MODULE_2___default().useRef(null);useWaitForSelector(e.selector,(function(t){\"afterEnd\"!==e.type&&(t.innerHTML=\"\"),t.appendChild(i.current.firstElementChild)}));var r=null===(t=e.builderBlock)||void 0===t?void 0:t.children;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\",{style:{display:\"none\"},ref:i},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlocks,{style:{display:\"inline\"},child:!0,parentElementId:null===(n=e.builderBlock)||void 0===n?void 0:n.id,dataPath:\"this.children\",blocks:r}))}function useWaitForSelector(e,t){react__WEBPACK_IMPORTED_MODULE_2___default().useLayoutEffect((function(){try{var n=document.querySelector(e);if(n)return void t(n)}catch(e){console.warn(e)}var i=new MutationObserver((function(){try{var n=document.querySelector(e);n&&(i.disconnect(),t(n))}catch(e){console.warn(e)}}));return i.observe(document.body,{attributes:!0,subtree:!0,characterData:!0}),function(){i.disconnect()}}),[e])}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(Mutation,{name:\"Builder:Mutation\",canHaveChildren:!0,noWrap:!0,hideFromInsertMenu:!0,inputs:[{name:\"type\",type:\"string\",defaultValue:\"replace\",enum:[{label:\"Replace\",value:\"replace\",helperText:\"Replace the contents of this site region with content from Builder\"},{label:\"Append\",value:\"afterEnd\",helperText:\"Append Builder content after the chosen site region\"}]},{name:\"selector\",type:\"builder:domSelector\"}]});var get=function(e,t,n){var i=String.prototype.split.call(t,/[,[\\].]+?/).filter(Boolean).reduce((function(e,t){return null!=e?e[t]:e}),e);return void 0===i||i===e?n:i},MULTIPART_CONTENT_TYPE=\"multipart/form-data\",JSON_CONTENT_TYPE=\"application/json\",ENCODED_CONTENT_TYPE=\"application/x-www-form-urlencoded\",FormComponent=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ref=null,t.state={state:\"unsubmitted\",responseData:null,formErrorMessage:\"\"},t}return __extends(t,e),Object.defineProperty(t.prototype,\"submissionState\",{get:function(){return _builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&this.props.previewState||this.state.state},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this;return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Consumer,null,(function(t){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderStoreContext.Provider,{value:__assign(__assign({},t),{state:__assign(__assign({},t.state),{formErrorMessage:e.state.formErrorMessage})})},(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"form\",__assign({},e.props.validate?{}:{noValidate:!0},{ref:function(t){return e.ref=t},action:!e.props.sendWithJs&&e.props.action?e.props.action:void 0,method:e.props.method,name:e.props.name,onSubmit:function(t){var n,i=e.props.sendWithJs||\"email\"===e.props.sendSubmissionsTo;if(\"zapier\"===e.props.sendSubmissionsTo)t.preventDefault();else if(i){if(!e.props.action&&\"email\"!==e.props.sendSubmissionsTo)return void t.preventDefault();t.preventDefault();var r=t.currentTarget,o=e.props.customHeaders||{},a=void 0,s=new FormData(r),l=Array.from(t.currentTarget.querySelectorAll(\"input,select,textarea\")).filter((function(e){return!!e.name})).filter((function(e){return!!e.name&&(\"radio\"!==e.type||e.checked)})).map((function(e){var t,n=e.name;if(e instanceof HTMLInputElement)if(\"radio\"===e.type){if(e.checked)return{key:n,value:t=e.value}}else if(\"checkbox\"===e.type)t=e.checked;else if(\"number\"===e.type||\"range\"===e.type){var i=e.valueAsNumber;isNaN(i)||(t=i)}else t=\"file\"===e.type?e.files:e.value;else t=e.value;return{key:n,value:t}})),u=e.props.contentType;if(\"email\"===e.props.sendSubmissionsTo&&(u=MULTIPART_CONTENT_TYPE),Array.from(l).forEach((function(e){var t=e.value;(t instanceof File||Array.isArray(t)&&t[0]instanceof File||t instanceof FileList)&&(u=MULTIPART_CONTENT_TYPE)})),u===MULTIPART_CONTENT_TYPE)a=s;else if(u===JSON_CONTENT_TYPE){var d={};Array.from(l).forEach((function(e){var t=e.value,n=e.key;set(d,n,t)})),a=JSON.stringify(d)}else{if(u!==ENCODED_CONTENT_TYPE)return void console.error(\"Unsupported content type: \",u);a=Array.from(l).map((function(e){var t=e.value,n=e.key;return encodeURIComponent(n)+\"=\"+encodeURIComponent(t)})).join(\"&\")}u&&u!==MULTIPART_CONTENT_TYPE&&(i&&(null===(n=e.props.action)||void 0===n?void 0:n.includes(\"zapier.com\"))||(o[\"content-type\"]=u));var c=new CustomEvent(\"presubmit\",{detail:{body:a}});if(e.ref&&(e.ref.dispatchEvent(c),c.defaultPrevented))return;e.setState(__assign(__assign({},e.state),{state:\"sending\"}));var p=\"\".concat(\"dev\"===_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.env?\"http://localhost:5000\":\"https://builder.io\",\"/api/v1/form-submit?apiKey=\").concat(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.apiKey,\"&to=\").concat(btoa(e.props.sendSubmissionsToEmail||\"\"),\"&name=\").concat(encodeURIComponent(e.props.name||\"\"));fetch(\"email\"===e.props.sendSubmissionsTo?p:e.props.action,{body:a,headers:o,method:e.props.method||\"post\"}).then((function(t){return __awaiter(e,void 0,void 0,(function(){var e,n,i,r,o;return __generator(this,(function(a){switch(a.label){case 0:return(n=t.headers.get(\"content-type\"))&&-1!==n.indexOf(JSON_CONTENT_TYPE)?[4,t.json()]:[3,2];case 1:return e=a.sent(),[3,4];case 2:return[4,t.text()];case 3:e=a.sent(),a.label=4;case 4:if(!t.ok&&this.props.errorMessagePath&&(i=get(e,this.props.errorMessagePath))&&(\"string\"!=typeof i&&(i=JSON.stringify(i)),this.setState(__assign(__assign({},this.state),{formErrorMessage:i}))),this.setState(__assign(__assign({},this.state),{responseData:e,state:t.ok?\"success\":\"error\"})),t.ok){if(r=new CustomEvent(\"submit:success\",{detail:{res:t,body:e}}),this.ref){if(this.ref.dispatchEvent(r),r.defaultPrevented)return[2];!1!==this.props.resetFormOnSubmit&&this.ref.reset()}this.props.successUrl&&(this.ref?(o=new CustomEvent(\"route\",{detail:{url:this.props.successUrl}}),this.ref.dispatchEvent(o),o.defaultPrevented||(location.href=this.props.successUrl)):location.href=this.props.successUrl)}return[2]}}))}))}),(function(t){var n=new CustomEvent(\"submit:error\",{detail:{error:t}});e.ref&&(e.ref.dispatchEvent(n),n.defaultPrevented)||e.setState(__assign(__assign({},e.state),{responseData:t,state:\"error\"}))}))}}},e.props.attributes),e.props.builderBlock&&e.props.builderBlock.children&&e.props.builderBlock.children.map((function(e,t){return (0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlock$1,{key:e.id,block:e})})),\"error\"===e.submissionState&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlocks,{dataPath:\"errorMessage\",blocks:e.props.errorMessage}),\"sending\"===e.submissionState&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlocks,{dataPath:\"sendingMessage\",blocks:e.props.sendingMessage}),\"error\"===e.submissionState&&e.state.responseData&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"pre\",{className:\"builder-form-error-text\",css:{padding:10,color:\"red\",textAlign:\"center\"}},JSON.stringify(e.state.responseData,null,2)),\"success\"===e.submissionState&&(0,_emotion_core__WEBPACK_IMPORTED_MODULE_1__.jsx)(BuilderBlocks,{dataPath:\"successMessage\",blocks:e.props.successMessage})))}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Form=withBuilder(FormComponent,{name:\"Form:Form\",defaults:{responsiveStyles:{large:{marginTop:\"15px\",paddingBottom:\"15px\"}}},image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fef36d2a846134910b64b88e6d18c5ca5\",inputs:[{name:\"sendSubmissionsTo\",type:\"string\",enum:[{label:\"Send to email\",value:\"email\",helperText:\"Send form submissions to the email address of your choosing\"},{label:\"Custom\",value:\"custom\",helperText:\"Handle where the form requests go manually with a little code, e.g. to your own custom backend\"}],defaultValue:\"email\"},{name:\"sendSubmissionsToEmail\",type:\"string\",required:!0,defaultValue:\"your@email.com\",showIf:'options.get(\"sendSubmissionsTo\") === \"email\"'},{name:\"sendWithJs\",type:\"boolean\",helperText:\"Set to false to use basic html form action\",defaultValue:!0,showIf:'options.get(\"sendSubmissionsTo\") === \"custom\"'},{name:\"name\",type:\"string\",defaultValue:\"My form\"},{name:\"action\",type:\"string\",helperText:\"URL to send the form data to\",showIf:'options.get(\"sendSubmissionsTo\") === \"custom\"'},{name:\"contentType\",type:\"string\",defaultValue:JSON_CONTENT_TYPE,advanced:!0,enum:[JSON_CONTENT_TYPE,MULTIPART_CONTENT_TYPE,ENCODED_CONTENT_TYPE],showIf:'options.get(\"sendSubmissionsTo\") === \"custom\" && options.get(\"sendWithJs\") === true'},{name:\"method\",type:\"string\",showIf:'options.get(\"sendSubmissionsTo\") === \"custom\"',defaultValue:\"POST\",advanced:!0},{name:\"previewState\",type:\"string\",enum:[\"unsubmitted\",\"sending\",\"success\",\"error\"],defaultValue:\"unsubmitted\",helperText:'Choose a state to edit, e.g. choose \"success\" to show what users see on success and edit the message',showIf:'options.get(\"sendSubmissionsTo\") !== \"zapier\" && options.get(\"sendWithJs\") === true'},{name:\"successUrl\",type:\"url\",helperText:\"Optional URL to redirect the user to on form submission success\",showIf:'options.get(\"sendSubmissionsTo\") !== \"zapier\" && options.get(\"sendWithJs\") === true'},{name:\"resetFormOnSubmit\",type:\"boolean\",showIf:function(e){return\"custom\"===e.get(\"sendSubmissionsTo\")&&!0===e.get(\"sendWithJs\")},advanced:!0},{name:\"successMessage\",type:\"uiBlocks\",hideFromUI:!0,defaultValue:[{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Text\",options:{text:\"<span>Thanks!</span>\"}}}]},{name:\"validate\",type:\"boolean\",defaultValue:!0,advanced:!0},{name:\"errorMessagePath\",type:\"text\",advanced:!0,helperText:'Path to where to get the error message from in a JSON response to display to the user, e.g. \"error.message\" for a response like { \"error\": { \"message\": \"this username is taken\" }}'},{name:\"errorMessage\",type:\"uiBlocks\",hideFromUI:!0,defaultValue:[{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},bindings:{\"component.options.text\":\"state.formErrorMessage || block.component.options.text\"},component:{name:\"Text\",options:{text:\"<span>Form submission error :( Please check your answers and try again</span>\"}}}]},{name:\"sendingMessage\",type:\"uiBlocks\",hideFromUI:!0,defaultValue:[{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Text\",options:{text:\"<span>Sending...</span>\"}}}]},__assign(__assign({name:\"customHeaders\",type:\"map\"},{valueType:{type:\"string\"}}),{advanced:!0,showIf:'options.get(\"sendSubmissionsTo\") === \"custom\" && options.get(\"sendWithJs\") === true'})],noWrap:!0,canHaveChildren:!0,defaultChildren:[{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Text\",options:{text:\"<span>Enter your name</span>\"}}},{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Form:Input\",options:{name:\"name\",placeholder:\"Jane Doe\"}}},{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Text\",options:{text:\"<span>Enter your email</span>\"}}},{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Form:Input\",options:{name:\"email\",placeholder:\"jane@doe.com\"}}},{\"@type\":\"@builder.io/sdk:Element\",responsiveStyles:{large:{marginTop:\"10px\"}},component:{name:\"Form:SubmitButton\",options:{text:\"Submit\"}}}]}),FormInputComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"input\",__assign({key:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&this.props.defaultValue?this.props.defaultValue:\"default-key\",placeholder:this.props.placeholder,type:this.props.type,name:this.props.name},void 0===this.props.value?{defaultValue:this.props.defaultValue}:{value:this.props.value},{required:this.props.required},this.props.attributes))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),FormInput=withBuilder(FormInputComponent,{name:\"Form:Input\",image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fad6f37889d9e40bbbbc72cdb5875d6ca\",inputs:[{name:\"type\",type:\"text\",enum:[\"text\",\"number\",\"email\",\"url\",\"checkbox\",\"radio\",\"range\",\"date\",\"datetime-local\",\"search\",\"tel\",\"time\",\"file\",\"month\",\"week\",\"password\",\"color\",\"hidden\"],defaultValue:\"text\"},{name:\"name\",type:\"string\",required:!0,helperText:'Every input in a form needs a unique name describing what it takes, e.g. \"email\"'},{name:\"placeholder\",type:\"string\",defaultValue:\"Hello there\",helperText:\"Text to display when there is no value\"},{name:\"defaultValue\",type:\"string\"},{name:\"value\",type:\"string\",advanced:!0},{name:\"required\",type:\"boolean\",helperText:\"Is this input required to be filled out to submit a form\",defaultValue:!1}],noWrap:!0,static:!0,defaultStyles:{paddingTop:\"10px\",paddingBottom:\"10px\",paddingLeft:\"10px\",paddingRight:\"10px\",borderRadius:\"3px\",borderWidth:\"1px\",borderStyle:\"solid\",borderColor:\"#ccc\"}}),FormSubmitButtonComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"button\",__assign({type:\"submit\"},this.props.attributes),this.props.text)},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),FormSubmitButton=withBuilder(FormSubmitButtonComponent,{name:\"Form:SubmitButton\",image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Fdf2820ffed1f4349a94c40b3221f5b98\",defaultStyles:{appearance:\"none\",paddingTop:\"15px\",paddingBottom:\"15px\",paddingLeft:\"25px\",paddingRight:\"25px\",backgroundColor:\"#3898EC\",color:\"white\",borderRadius:\"4px\",cursor:\"pointer\"},inputs:[{name:\"text\",type:\"text\",defaultValue:\"Click me\"}],static:!0,noWrap:!0}),LabelComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"label\",__assign({htmlFor:this.props.for},this.props.attributes),this.props.text&&react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"span\",{className:\"builder-label-text\",dangerouslySetInnerHTML:{__html:this.props.text}}),this.props.builderBlock&&this.props.builderBlock.children&&this.props.builderBlock.children.map((function(e){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlock$1,{key:e.id,block:e})})))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Label=withBuilder(LabelComponent,{name:\"Form:Label\",image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F9322342f04b545fb9a8091cd801dfb5b\",inputs:[{name:\"text\",type:\"html\",richText:!0,defaultValue:\"Label\"},{name:\"for\",type:\"text\",helperText:\"The name of the input this label is for\",advanced:!0}],noWrap:!0,static:!0,canHaveChildren:!0}),FormSelectComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){var e=this.props.options;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"select\",__assign({value:this.props.value,key:_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&this.props.defaultValue?this.props.defaultValue:\"default-key\",defaultValue:this.props.defaultValue,name:this.props.name,required:this.props.required},this.props.attributes),e&&e.map((function(e){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"option\",{value:e.value},e.name||e.value)})))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),FormSelect=withBuilder(FormSelectComponent,{name:\"Form:Select\",image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2F83acca093fb24aaf94dee136e9a4b045\",defaultStyles:{alignSelf:\"flex-start\"},inputs:[{name:\"options\",type:\"list\",required:!0,subFields:[{name:\"value\",type:\"text\",required:!0},{name:\"name\",type:\"text\"}],defaultValue:[{value:\"option 1\"},{value:\"option 2\"}]},{name:\"name\",type:\"string\",required:!0,helperText:'Every select in a form needs a unique name describing what it gets, e.g. \"email\"'},{name:\"defaultValue\",type:\"string\"},{name:\"value\",type:\"string\",advanced:!0},{name:\"required\",type:\"boolean\",defaultValue:!1}],static:!0,noWrap:!0}),TextAreaComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"textarea\",__assign({placeholder:this.props.placeholder,name:this.props.name,value:this.props.value,defaultValue:this.props.defaultValue,required:this.props.required},this.props.attributes))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),TextArea=withBuilder(TextAreaComponent,{name:\"Form:TextArea\",image:\"https://cdn.builder.io/api/v1/image/assets%2FIsxPKMo2gPRRKeakUztj1D6uqed2%2Ff74a2f3de58c4c3e939204e5b6b8f6c3\",inputs:[{advanced:!0,name:\"value\",type:\"string\"},{name:\"name\",type:\"string\",required:!0,helperText:'Every input in a form needs a unique name describing what it gets, e.g. \"email\"'},{name:\"defaultValue\",type:\"string\"},{name:\"placeholder\",type:\"string\",defaultValue:\"Hello there\"},{name:\"required\",type:\"boolean\",defaultValue:!1}],defaultStyles:{paddingTop:\"10px\",paddingBottom:\"10px\",paddingLeft:\"10px\",paddingRight:\"10px\",borderRadius:\"3px\",borderWidth:\"1px\",borderStyle:\"solid\",borderColor:\"#ccc\"},static:!0,noWrap:!0}),ImgComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getSrcSet=function(){var e=this.props.image;if(e&&\"string\"==typeof e&&e.match(/builder\\.io/))return getSrcSet(e)},t.prototype.render=function(){var e=this.props.attributes||{},t=this.getSrcSet(),n=e.style,i=__rest(e,[\"style\"]),r={objectFit:this.props.backgroundSize,objectPosition:this.props.backgroundPosition,aspectRatio:this.props.aspectRatio},o=__assign(__assign({},r),n);return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"img\",__assign({loading:\"lazy\"},i,{src:this.props.image||e.src,srcSet:t,alt:this.props.altText,title:this.props.title,style:o,className:\"builder-raw-img\"}))},t}((react__WEBPACK_IMPORTED_MODULE_2___default().Component)),Img=withBuilder(ImgComponent,{name:\"Raw:Img\",hideFromInsertMenu:!0,image:\"https://firebasestorage.googleapis.com/v0/b/builder-3b0a2.appspot.com/o/images%2Fbaseline-insert_photo-24px.svg?alt=media&token=4e5d0ef4-f5e8-4e57-b3a9-38d63a9b9dc4\",inputs:[{name:\"image\",bubble:!0,type:\"file\",allowedFileTypes:IMAGE_FILE_TYPES,required:!0},{name:\"backgroundSize\",type:\"text\",defaultValue:\"cover\",enum:[{label:\"contain\",value:\"contain\",helperText:\"The image should never get cropped\"},{label:\"cover\",value:\"cover\",helperText:\"The image should fill it's box, cropping when needed\"}]},{name:\"backgroundPosition\",type:\"text\",defaultValue:\"center\",enum:[\"center\",\"top\",\"left\",\"right\",\"bottom\",\"top left\",\"top right\",\"bottom left\",\"bottom right\"]},{name:\"altText\",type:\"string\",helperText:\"Text to display when the user has images off\"},{name:\"title\",type:\"string\",helperText:\"Text to display when hovering over the asset\"},{name:\"aspectRatio\",type:\"number\",helperText:\"This is the ratio of height/width, e.g. set to 1.5 for a 300px wide and 200px tall photo. Set to 0 to not force the image to maintain it's aspect ratio\",advanced:!0,defaultValue:.7041}],noWrap:!0}),RawText=function(e){var t=e.attributes||{};return react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"span\",{className:(null==t?void 0:t.class)||(null==t?void 0:t.className),dangerouslySetInnerHTML:{__html:e.text||\"\"}})};_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(RawText,{name:\"Builder:RawText\",hideFromInsertMenu:!0,inputs:[{name:\"text\",bubble:!0,type:\"longText\",required:!0}]});var filterWithCustomTargetingScript='function filterWithCustomTargeting(e,t,n,r){var i={query:t,startDate:n,endDate:r},o=e.date&&new Date(e.date)||new Date;return!(i.startDate&&new Date(i.startDate)>o)&&(!(i.endDate&&new Date(i.endDate)<o)&&(!i.query||!i.query.length||i.query.every((function(t){return objectMatchesQuery(e,t)}))))}function isString(e){return\"string\"==typeof e}function isNumber(e){return\"number\"==typeof e}function objectMatchesQuery(e,t){return function(){var n=t.property,r=t.operator,i=t.value;if(t&&\"urlPath\"===t.property&&t.value&&\"string\"==typeof t.value&&\"/\"!==t.value&&t.value.endsWith(\"/\")&&(i=t.value.slice(0,-1)),!n||!r)return!0;if(Array.isArray(i))return\"isNot\"===r?i.every((function(t){return objectMatchesQuery(e,{property:n,operator:r,value:t})})):!!i.find((function(t){return objectMatchesQuery(e,{property:n,operator:r,value:t})}));var o=e[n];if(Array.isArray(o))return o.includes(i);switch(r){case\"is\":return o===i;case\"isNot\":return o!==i;case\"contains\":return(isString(o)||Array.isArray(o))&&o.includes(String(i));case\"startsWith\":return isString(o)&&o.startsWith(String(i));case\"endsWith\":return isString(o)&&o.endsWith(String(i));case\"greaterThan\":return isNumber(o)&&isNumber(i)&&o>i;case\"lessThan\":return isNumber(o)&&isNumber(i)&&o<i;case\"greaterThanOrEqualTo\":return isNumber(o)&&isNumber(i)&&o>=i;case\"lessThanOrEqualTo\":return isNumber(o)&&isNumber(i)&&o<=i}return!1}()}';function filterWithCustomTargeting(e,t,n,i){var r={query:t,startDate:n,endDate:i},o=e.date&&new Date(e.date)||new Date;return!(r.startDate&&new Date(r.startDate)>o)&&(!(r.endDate&&new Date(r.endDate)<o)&&(!r.query||!r.query.length||r.query.every((function(t){return objectMatchesQuery(e,t)}))))}function isString(e){return\"string\"==typeof e}function isNumber(e){return\"number\"==typeof e}function objectMatchesQuery(e,t){return function(){var n=t.property,i=t.operator,r=t.value;if(t&&\"urlPath\"===t.property&&t.value&&\"string\"==typeof t.value&&\"/\"!==t.value&&t.value.endsWith(\"/\")&&(r=t.value.slice(0,-1)),!n||!i)return!0;if(Array.isArray(r))return\"isNot\"===i?r.every((function(t){return objectMatchesQuery(e,{property:n,operator:i,value:t})})):!!r.find((function(t){return objectMatchesQuery(e,{property:n,operator:i,value:t})}));var o=e[n];if(Array.isArray(o))return o.includes(r);switch(i){case\"is\":return o===r;case\"isNot\":return o!==r;case\"contains\":return(isString(o)||Array.isArray(o))&&o.includes(String(r));case\"startsWith\":return isString(o)&&o.startsWith(String(r));case\"endsWith\":return isString(o)&&o.endsWith(String(r));case\"greaterThan\":return isNumber(o)&&isNumber(r)&&o>r;case\"lessThan\":return isNumber(o)&&isNumber(r)&&o<r;case\"greaterThanOrEqualTo\":return isNumber(o)&&isNumber(r)&&o>=r;case\"lessThanOrEqualTo\":return isNumber(o)&&isNumber(r)&&o<=r}return!1}()}function PersonalizationContainer(e){var t,n,i,r,o,a,s,l,u,d,c,p,f,m,h,v,g,b,y,_,x,S=Boolean(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isBrowser&&(null===(t=window.__hydrated)||void 0===t?void 0:t[null===(n=e.builderBlock)||void 0===n?void 0:n.id])),k=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),B=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(S),w=B[0],C=B[1],E=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),R=E[0],T=E[1],I=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);I[0];var j=I[1],O=(0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(BuilderStoreContext);if((0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){var e;C(!0),T(!0);var t=_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.userAttributesChanged.subscribe((function(){j((function(e){return e+1}))})),n=[function(){return t.unsubscribe()}];if(!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&!_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing){var i=P[0];null===(e=k.current)||void 0===e||e.dispatchEvent(new CustomEvent(\"builder.variantLoaded\",{detail:{variant:i||\"default\",content:O.content},bubbles:!0}));var r=new IntersectionObserver((function(e){e.forEach((function(e){var t;e.isIntersecting&&(null===(t=k.current)||void 0===t||t.dispatchEvent(new CustomEvent(\"builder.variantDisplayed\",{detail:{variant:i||\"default\",content:O.content},bubbles:!0})))}))}));r.observe(k.current),n.push((function(){return r.disconnect()}))}return function(){n.forEach((function(e){return e()}))}}),[]),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isServer)return react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",__assign({},e.attributes,{style:__assign({opacity:1,transition:\"opacity 0.2s ease-in-out\"},null===(i=e.attributes)||void 0===i?void 0:i.style),className:\"builder-personalization-container \".concat(e.attributes.className)}),null===(r=e.variants)||void 0===r?void 0:r.map((function(t,n){var i,r;return react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"template\",{key:n,\"data-variant-id\":(null===(i=e.builderBlock)||void 0===i?void 0:i.id)+n},react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlocks,{blocks:t.blocks,parentElementId:null===(r=e.builderBlock)||void 0===r?void 0:r.id,dataPath:\"component.options.variants.\".concat(n,\".blocks\"),child:!0}))})),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"script\",{nonce:O.context.nonce,id:\"variants-script-\".concat(null===(o=e.builderBlock)||void 0===o?void 0:o.id),dangerouslySetInnerHTML:{__html:getPersonalizationScript(e.variants,(null===(a=e.builderBlock)||void 0===a?void 0:a.id)||\"none\",null===(s=e.builderState.state)||void 0===s?void 0:s.locale)}}),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlocks,{blocks:null===(l=e.builderBlock)||void 0===l?void 0:l.children,parentElementId:null===(u=e.builderBlock)||void 0===u?void 0:u.id,dataPath:\"this.children\",child:!0})),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"script\",{nonce:O.context.nonce,dangerouslySetInnerHTML:{__html:\"\\n         window.__hydrated = window.__hydrated || {};\\n         window.__hydrated['\".concat(null===(d=e.builderBlock)||void 0===d?void 0:d.id,\"'] = true;\\n        \").replace(/\\s+/g,\" \")}}));var P=(e.variants||[]).filter((function(t){var n;return filterWithCustomTargeting(__assign(__assign({},(null===(n=e.builderState.state)||void 0===n?void 0:n.locale)?{locale:e.builderState.state.locale}:{}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.builder.getUserAttributes()),t.query,t.startDate,t.endDate)}));return react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment),null,react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\",__assign({ref:k},e.attributes,{style:__assign({opacity:w?1:0,transition:\"opacity 0.2s ease-in-out\"},null===(c=e.attributes)||void 0===c?void 0:c.style),className:\"builder-personalization-container \".concat(e.attributes.className).concat(w?\"\":\" builder-personalization-container-loading\")}),R&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&\"number\"==typeof e.previewingIndex&&e.previewingIndex<((null===(p=e.variants)||void 0===p?void 0:p.length)||0)?react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlocks,{blocks:null===(m=null===(f=e.variants)||void 0===f?void 0:f[e.previewingIndex])||void 0===m?void 0:m.blocks,parentElementId:null===(h=e.builderBlock)||void 0===h?void 0:h.id,dataPath:\"component.options.variants.\".concat(e.previewingIndex,\".blocks\"),child:!0}):R&&_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing&&\"number\"!=typeof e.previewingIndex||!w||!P.length?react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlocks,{blocks:null===(v=e.builderBlock)||void 0===v?void 0:v.children,parentElementId:null===(g=e.builderBlock)||void 0===g?void 0:g.id,dataPath:\"this.children\",child:!0}):react__WEBPACK_IMPORTED_MODULE_2___default().createElement(BuilderBlocks,{blocks:null===(b=P[0])||void 0===b?void 0:b.blocks,parentElementId:null===(y=e.builderBlock)||void 0===y?void 0:y.id,dataPath:\"component.options.variants.\".concat(null===(_=e.variants)||void 0===_?void 0:_.indexOf(P[0]),\".blocks\"),child:!0})),react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"script\",{nonce:O.context.nonce,dangerouslySetInnerHTML:{__html:\"\\n         window.__hydrated = window.__hydrated || {};\\n         window.__hydrated['\".concat(null===(x=e.builderBlock)||void 0===x?void 0:x.id,\"'] = true;\\n        \").replace(/\\s+/g,\" \")}}))}function getPersonalizationScript(e,t,n){return\"\\n      (function() {\\n        function getCookie(name) {\\n          var nameEQ = name + \\\"=\\\";\\n          var ca = document.cookie.split(';');\\n          for(var i=0;i < ca.length;i++) {\\n              var c = ca[i];\\n              while (c.charAt(0)==' ') c = c.substring(1,c.length);\\n              if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\\n          }\\n          return null;\\n        }\\n        function removeVariants() {\\n          variants.forEach(function (template, index) {\\n            document.querySelector('template[data-variant-id=\\\"' + \\\"\".concat(t,\"\\\" + index + '\\\"]').remove();\\n          });\\n          document.getElementById('variants-script-\").concat(t,\"').remove();\\n        }\\n\\n        var attributes = JSON.parse(getCookie(\\\"\").concat(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.attributesCookieName,'\") || \"{}\");\\n        ').concat(n?'attributes.locale = \"'.concat(n,'\";'):\"\",\"\\n        var variants = \").concat(JSON.stringify(null==e?void 0:e.map((function(e){return{query:e.query,startDate:e.startDate,endDate:e.endDate}}))),\";\\n        var winningVariantIndex = variants.findIndex(function(variant) {\\n          return filterWithCustomTargeting(\\n            attributes,\\n            variant.query,\\n            variant.startDate,\\n            variant.endDate\\n          );\\n        });\\n        var isDebug = location.href.includes('builder.debug=true');\\n        if (isDebug) {\\n          console.debug('PersonalizationContainer', {\\n            attributes: attributes,\\n            variants: variants,\\n            winningVariantIndex: winningVariantIndex,\\n            });\\n        }\\n        if (winningVariantIndex !== -1) {\\n          var winningVariant = document.querySelector('template[data-variant-id=\\\"' + \\\"\").concat(t,\"\\\" + winningVariantIndex + '\\\"]');\\n          if (winningVariant) {\\n            var parentNode = winningVariant.parentNode;\\n            var newParent = parentNode.cloneNode(false);\\n            newParent.appendChild(winningVariant.content.firstChild);\\n            parentNode.parentNode.replaceChild(newParent, parentNode);\\n            if (isDebug) {\\n              console.debug('PersonalizationContainer', 'Winning variant Replaced:', winningVariant);\\n            }\\n          }\\n        } else if (variants.length > 0) {\\n          removeVariants();\\n        }\\n        \").concat(filterWithCustomTargetingScript,\"\\n      })();\\n    \").replace(/\\s+/g,\" \")}function useIsPreviewing(){var e=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),t=e[0],n=e[1];return (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){(_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isEditing||_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isPreviewing)&&n(!0)}),[]),t}_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.registerComponent(PersonalizationContainer,{name:\"PersonalizationContainer\",noWrap:!0,friendlyName:\"Dynamic Container\",image:\"https://cdn.builder.io/api/v1/image/assets%2FYJIGb4i01jvw0SRdL5Bt%2F37229ed30d8c41dfb10b8cca1992053a\",canHaveChildren:!0,inputs:[{name:\"variants\",defaultValue:[],behavior:\"personalizationVariantList\",type:\"list\",subFields:[{name:\"name\",type:\"text\",localized:!1},{name:\"query\",friendlyName:\"Targeting rules\",type:\"BuilderQuery\",defaultValue:[],localized:!1},{name:\"startDate\",type:\"date\",localized:!1},{name:\"endDate\",type:\"date\",localized:!1},{name:\"blocks\",type:\"UiBlocks\",hideFromUI:!0,defaultValue:[]}]}]}),_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.isReact=!0,_builder_io_sdk__WEBPACK_IMPORTED_MODULE_0__.Builder.sdkInfo={name:\"react\",version:SDK_VERSION};\n//# sourceMappingURL=builder-react.es5.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJ1aWxkZXIuaW8vcmVhY3QvZGlzdC9idWlsZGVyLXJlYWN0LmVzNS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVWLDJCQUEyQixxRkFBcUYsZ0NBQWdDLHVLQUF1SyxPQUFPLGdDQUFnQyw2Q0FBNkMsYUFBYSxnQ0FBZ0MsY0FBYyxnQkFBZ0Isc0VBQXNFLFFBQVEsd0JBQXdCLHdIQUF3SCxhQUFhLG1CQUFtQix5RkFBeUYsd0JBQXdCLDJDQUEyQyxpQ0FBaUMsSUFBSSx1RkFBdUYsU0FBUyx5QkFBeUIscUJBQXFCLFNBQVMsc0ZBQXNGLDZEQUE2RCxRQUFRLHNDQUFzQyxXQUFXLDZGQUE2RixTQUFTLDZCQUE2QixtRkFBbUYsNkZBQTZGLDBCQUEwQixLQUFLLG9EQUFvRCw4Q0FBOEMseUJBQXlCLDhGQUE4Riw0QkFBNEIsMENBQTBDLGNBQWMsSUFBSSxhQUFhLFNBQVMsTUFBTSxjQUFjLElBQUksY0FBYyxTQUFTLE1BQU0sY0FBYyxNQUFNLGlFQUFpRSxLQUFLLGNBQWMsK0JBQStCLEdBQUcsMEJBQTBCLGVBQWUsd0JBQXdCLHFCQUFxQixZQUFZLGlCQUFpQixVQUFVLGlDQUFpQywyREFBMkQsWUFBWSxJQUFJLGNBQWMsbUJBQW1CLG1CQUFtQiw0REFBNEQsS0FBSyx1QkFBdUIsS0FBSyxrSEFBa0gseUNBQXlDLGtCQUFrQixNQUFNLHlCQUF5QixvQkFBb0IsOEJBQThCLFNBQVMsa0NBQWtDLFNBQVMsMEVBQTBFLElBQUksU0FBUyx5Q0FBeUMsYUFBYSxNQUFNLDJCQUEyQixpQkFBaUIsTUFBTSxvQkFBb0IsMkJBQTJCLE1BQU0sK0JBQStCLFNBQVMsY0FBYyxTQUFTLFlBQVksUUFBUSxNQUFNLHFCQUFxQixPQUFPLGdDQUFnQyxVQUFVLDhCQUE4QixvREFBb0QsSUFBSSxxRUFBcUUsa0RBQWtELG9EQUFvRCwwQkFBMEIscUNBQXFD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TSwwREFBNEIsaUJBQWlCLE1BQU0sZUFBZSxnQkFBZ0Isb0RBQW9ELDZMQUE2TCxLQUFLLG9EQUFPLDJIQUEySCwwREFBNEIsZ0JBQWdCLGtRQUFrUSxLQUFLLG9EQUFPLDhEQUE4RCwwREFBNEIsZ0JBQWdCLG1LQUFtSyxFQUFFLDBEQUE0QixnQkFBZ0IsZ1BBQWdQLEdBQUcsMERBQTRCLFdBQVcsK0NBQStDLCtEQUErRCxvR0FBb0csa0NBQWtDLEdBQUcseUNBQXlDLDRCQUE0QixvQ0FBb0Msc0NBQXNDLDZDQUE2QyxHQUFHLHdCQUF3QixjQUFjLE1BQU0sOEJBQThCLHFFQUFxRSx1RkFBdUYsYUFBYSx3QkFBd0IsV0FBVyxxQ0FBcUMseURBQXlELGdIQUFnSCxhQUFhLEVBQUUsOEVBQThFLFdBQVcsOERBQThELG9EQUFPLGdDQUFnQyxHQUFHLDBEQUEwRCwyRkFBMkYsT0FBTyx1REFBdUQsTUFBTSwwRUFBMEUsNktBQTZLLFdBQVcsRUFBRSxxRUFBcUUsd0JBQXdCLHVEQUF1RCw0SUFBNEksRUFBRSxXQUFXLDJDQUEyQyx5SUFBeUksaUNBQWlDLHlEQUF5RCwwREFBMEQsdUVBQXVFLHdFQUF3RSw0QkFBNEIsdUdBQXVHLGVBQWUsYUFBYSxZQUFZLCtCQUErQiw2QkFBNkIsV0FBVyw4REFBOEQsSUFBSSw2QkFBNkIsMkJBQTJCLE1BQU0sK0NBQVEsbUJBQW1CLE9BQU8sZ0RBQVMsYUFBYSxDQUFDLG9EQUFPLFlBQVksb0RBQU8sc0JBQXNCLFFBQVEsb0RBQU8sNkNBQTZDLG9OQUFvTiw4RkFBOEYscUNBQXFDLEVBQUUsNkZBQTZGLEVBQUUsMENBQTBDLEVBQUUsd0NBQXdDLEVBQUUsNERBQTRELEVBQUUsRUFBRSxFQUFFLG9EQUFPLFlBQVksb0RBQU8sVUFBVSxrQ0FBa2xCO0FBQ3J5c0kiLCJzb3VyY2VzIjpbIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9CWk5vbWFkL25vZGVfbW9kdWxlcy9AYnVpbGRlci5pby9yZWFjdC9kaXN0L2J1aWxkZXItcmVhY3QuZXM1LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtCdWlsZGVyLGJ1aWxkZXIsU3Vic2NyaXB0aW9uLEJlaGF2aW9yU3ViamVjdH1mcm9tXCJAYnVpbGRlci5pby9zZGtcIjtleHBvcnR7QnVpbGRlcixidWlsZGVyLGJ1aWxkZXIgYXMgZGVmYXVsdH1mcm9tXCJAYnVpbGRlci5pby9zZGtcIjtpbXBvcnR7anN4LENsYXNzTmFtZXMsY3NzfWZyb21cIkBlbW90aW9uL2NvcmVcIjtpbXBvcnQqYXMgUmVhY3QgZnJvbVwicmVhY3RcIjtpbXBvcnQgUmVhY3RfX2RlZmF1bHQse3VzZUNvbnRleHQsdXNlUmVmLHVzZVN0YXRlLHVzZUVmZmVjdH1mcm9tXCJyZWFjdFwiO2ltcG9ydCBSZWFjdERPTSBmcm9tXCJyZWFjdC1kb21cIjtpbXBvcnQgaGFzaCBmcm9tXCJoYXNoLXN1bVwiO3ZhciBTREtfVkVSU0lPTj1cIjkuMS4wXCIsX2E7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKG51bGw9PT0oX2E9d2luZG93LnBhcmVudCl8fHZvaWQgMD09PV9hfHxfYS5wb3N0TWVzc2FnZSh7dHlwZTpcImJ1aWxkZXIuaXNSZWFjdFNka1wiLGRhdGE6e3ZhbHVlOiEwLHN1cHBvcnRzUGF0Y2hVcGRhdGVzOlwidjRcIixzdXBwb3J0c0N1c3RvbUJyZWFrcG9pbnRzOiEwLHN1cHBvcnRzWFNtYWxsQnJlYWtwb2ludDohMCxzdXBwb3J0c0dsb2JhbFN5bWJvbHM6ITAsYmxvY2tMZXZlbFBlcnNvbmFsaXphdGlvbjohMCx2ZXJzaW9uOlNES19WRVJTSU9OfX0sXCIqXCIpKTt2YXIgZXh0ZW5kU3RhdGljcz1mdW5jdGlvbihlLHQpe3JldHVybihleHRlbmRTdGF0aWNzPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX0pKGUsdCl9O2Z1bmN0aW9uIF9fZXh0ZW5kcyhlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9ZXh0ZW5kU3RhdGljcyhlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX12YXIgX19hc3NpZ249ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49MSxpPWFyZ3VtZW50cy5sZW5ndGg7bjxpO24rKylmb3IodmFyIHIgaW4gdD1hcmd1bWVudHNbbl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiBfX3Jlc3QoZSx0KXt2YXIgbj17fTtmb3IodmFyIGkgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmdC5pbmRleE9mKGkpPDAmJihuW2ldPWVbaV0pO2lmKG51bGwhPWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPTA7Zm9yKGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyPGkubGVuZ3RoO3IrKyl0LmluZGV4T2YoaVtyXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsaVtyXSkmJihuW2lbcl1dPWVbaVtyXV0pfXJldHVybiBufWZ1bmN0aW9uIF9fZGVjb3JhdGUoZSx0LG4saSl7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoLGE9bzwzP3Q6bnVsbD09PWk/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik6aTtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlhPVJlZmxlY3QuZGVjb3JhdGUoZSx0LG4saSk7ZWxzZSBmb3IodmFyIHM9ZS5sZW5ndGgtMTtzPj0wO3MtLSkocj1lW3NdKSYmKGE9KG88Mz9yKGEpOm8+Mz9yKHQsbixhKTpyKHQsbikpfHxhKTtyZXR1cm4gbz4zJiZhJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLGEpLGF9ZnVuY3Rpb24gX19tZXRhZGF0YShlLHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGUsdCl9ZnVuY3Rpb24gX19hd2FpdGVyKGUsdCxuLGkpe3JldHVybiBuZXcobnx8KG49UHJvbWlzZSkpKChmdW5jdGlvbihyLG8pe2Z1bmN0aW9uIGEoZSl7dHJ5e2woaS5uZXh0KGUpKX1jYXRjaChlKXtvKGUpfX1mdW5jdGlvbiBzKGUpe3RyeXtsKGkudGhyb3coZSkpfWNhdGNoKGUpe28oZSl9fWZ1bmN0aW9uIGwoZSl7dmFyIHQ7ZS5kb25lP3IoZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygbj90Om5ldyBuKChmdW5jdGlvbihlKXtlKHQpfSkpKS50aGVuKGEscyl9bCgoaT1pLmFwcGx5KGUsdHx8W10pKS5uZXh0KCkpfSkpfWZ1bmN0aW9uIF9fZ2VuZXJhdG9yKGUsdCl7dmFyIG4saSxyLG8sYT17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZyWzBdKXRocm93IHJbMV07cmV0dXJuIHJbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gbz17bmV4dDpzKDApLHRocm93OnMoMSkscmV0dXJuOnMoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKG9bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksbztmdW5jdGlvbiBzKHMpe3JldHVybiBmdW5jdGlvbihsKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO28mJihvPTAsc1swXSYmKGE9MCkpLGE7KXRyeXtpZihuPTEsaSYmKHI9MiZzWzBdP2kucmV0dXJuOnNbMF0/aS50aHJvd3x8KChyPWkucmV0dXJuKSYmci5jYWxsKGkpLDApOmkubmV4dCkmJiEocj1yLmNhbGwoaSxzWzFdKSkuZG9uZSlyZXR1cm4gcjtzd2l0Y2goaT0wLHImJihzPVsyJnNbMF0sci52YWx1ZV0pLHNbMF0pe2Nhc2UgMDpjYXNlIDE6cj1zO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpzWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKyssaT1zWzFdLHM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpzPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEocj1hLnRyeXMsKHI9ci5sZW5ndGg+MCYmcltyLmxlbmd0aC0xXSl8fDYhPT1zWzBdJiYyIT09c1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09c1swXSYmKCFyfHxzWzFdPnJbMF0mJnNbMV08clszXSkpe2EubGFiZWw9c1sxXTticmVha31pZig2PT09c1swXSYmYS5sYWJlbDxyWzFdKXthLmxhYmVsPXJbMV0scj1zO2JyZWFrfWlmKHImJmEubGFiZWw8clsyXSl7YS5sYWJlbD1yWzJdLGEub3BzLnB1c2gocyk7YnJlYWt9clsyXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfXM9dC5jYWxsKGUsYSl9Y2F0Y2goZSl7cz1bNixlXSxpPTB9ZmluYWxseXtuPXI9MH1pZig1JnNbMF0pdGhyb3cgc1sxXTtyZXR1cm57dmFsdWU6c1swXT9zWzFdOnZvaWQgMCxkb25lOiEwfX0oW3MsbF0pfX19ZnVuY3Rpb24gX19zcHJlYWRBcnJheShlLHQsbil7aWYobnx8Mj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBpLHI9MCxvPXQubGVuZ3RoO3I8bztyKyspIWkmJnIgaW4gdHx8KGl8fChpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsMCxyKSksaVtyXT10W3JdKTtyZXR1cm4gZS5jb25jYXQoaXx8QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpfVwiZnVuY3Rpb25cIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO3ZhciBmYXN0Q2xvbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpfSxvbWl0JDI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07Zm9yKHZhciBpPU9iamVjdC5hc3NpZ24oe30sZSkscj0wLG89dDtyPG8ubGVuZ3RoO3IrKyl7dmFyIGE9b1tyXTtkZWxldGUgaVthXX1yZXR1cm4gaX0sc2l6ZU5hbWVzPVtcInhzbWFsbFwiLFwic21hbGxcIixcIm1lZGl1bVwiLFwibGFyZ2VcIl0sc2l6ZXM9e3hzbWFsbDp7bWluOjAsZGVmYXVsdDoxNjAsbWF4OjMyMH0sc21hbGw6e21pbjozMjEsZGVmYXVsdDozMjEsbWF4OjY0MH0sbWVkaXVtOnttaW46NjQxLGRlZmF1bHQ6NjQyLG1heDo5OTF9LGxhcmdlOnttaW46OTkwLGRlZmF1bHQ6OTkxLG1heDoxMjAwfSxnZXRXaWR0aEZvclNpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZV0uZGVmYXVsdH0sZ2V0U2l6ZUZvcldpZHRoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49c2l6ZU5hbWVzO3Q8bi5sZW5ndGg7dCsrKXt2YXIgaT1uW3RdO2lmKGU8PXRoaXNbaV0ubWF4KXJldHVybiBpfXJldHVyblwibGFyZ2VcIn19LGdldFNpemVzRm9yQnJlYWtwb2ludHM9ZnVuY3Rpb24oZSl7dmFyIHQ9X19hc3NpZ24oX19hc3NpZ24oe30sc2l6ZXMpLGZhc3RDbG9uZShzaXplcykpO2lmKCFlKXJldHVybiB0O3ZhciBuPWUueHNtYWxsLGk9ZS5zbWFsbCxyPWUubWVkaXVtO2lmKG4pe3ZhciBvPU1hdGguZmxvb3Iobi8yKTt0LnhzbWFsbD17bWF4Om4sbWluOm8sZGVmYXVsdDpvKzF9fWlmKCFpfHwhcilyZXR1cm4gdDt2YXIgYT1uP3QueHNtYWxsLm1heCsxOk1hdGguZmxvb3IoaS8yKTt0LnNtYWxsPXttYXg6aSxtaW46YSxkZWZhdWx0OmErMX07dmFyIHM9dC5zbWFsbC5tYXgrMTt0Lm1lZGl1bT17bWF4OnIsbWluOnMsZGVmYXVsdDpzKzF9O3ZhciBsPXQubWVkaXVtLm1heCsxO3JldHVybiB0LmxhcmdlPXttYXg6MmUzLG1pbjpsLGRlZmF1bHQ6bCsxfSx0fSxzZXQ9ZnVuY3Rpb24oZSx0LG4pe2lmKE9iamVjdChlKSE9PWUpcmV0dXJuIGU7dmFyIGk9QXJyYXkuaXNBcnJheSh0KT90OnQudG9TdHJpbmcoKS5tYXRjaCgvW14uW1xcXV0rL2cpO3JldHVybiBpLnNsaWNlKDAsLTEpLnJlZHVjZSgoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBPYmplY3QoZVt0XSk9PT1lW3RdP2VbdF06ZVt0XT1NYXRoLmFicyhOdW1iZXIoaVtuKzFdKSk+PjA9PStpW24rMV0/W106e319KSxlKVtpW2kubGVuZ3RoLTFdXT1uLGV9LG5vb3A9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sc2FmZUR5bmFtaWNSZXF1aXJlO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mKG51bGw9PT1nbG9iYWxUaGlzfHx2b2lkIDA9PT1nbG9iYWxUaGlzP3ZvaWQgMDpnbG9iYWxUaGlzLnJlcXVpcmUpfHxCdWlsZGVyLmlzU2VydmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlKXRyeXtzYWZlRHluYW1pY1JlcXVpcmU9ZXZhbChcInJlcXVpcmVcIil9Y2F0Y2goZSl7c2FmZUR5bmFtaWNSZXF1aXJlPShudWxsPT09Z2xvYmFsVGhpc3x8dm9pZCAwPT09Z2xvYmFsVGhpcz92b2lkIDA6Z2xvYmFsVGhpcy5yZXF1aXJlKT9nbG9iYWxUaGlzLnJlcXVpcmU6bm9vcH1mdW5jdGlvbiBpc0RlYnVnKCl7cmV0dXJuIEJvb2xlYW4oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHByb2Nlc3MmJnZvaWQgMCE9PXByb2Nlc3MuZW52JiZwcm9jZXNzLmVudi5ERUJVRyl9ZnVuY3Rpb24gaXNOb2RlUnVudGltZSgpe3ZhciBlO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZCb29sZWFuKG51bGw9PT0oZT1udWxsPT09cHJvY2Vzc3x8dm9pZCAwPT09cHJvY2Vzcz92b2lkIDA6cHJvY2Vzcy52ZXJzaW9ucyl8fHZvaWQgMD09PWU/dm9pZCAwOmUubm9kZSl9bnVsbCE9c2FmZUR5bmFtaWNSZXF1aXJlfHwoc2FmZUR5bmFtaWNSZXF1aXJlPW5vb3ApO3ZhciBzaG91bGRGb3JjZUJyb3dzZXJSdW50aW1lSW5Ob2RlPWZ1bmN0aW9uKCl7dmFyIGU7aWYoIWlzTm9kZVJ1bnRpbWUoKSlyZXR1cm4hMTt2YXIgdD1cImFybTY0XCI9PT1wcm9jZXNzLmFyY2gsbj1wcm9jZXNzLnZlcnNpb24uc3RhcnRzV2l0aChcInYyMFwiKSxpPW51bGw9PT0oZT1wcm9jZXNzLmVudi5OT0RFX09QVElPTlMpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmluY2x1ZGVzKFwiLS1uby1ub2RlLXNuYXBzaG90XCIpO3JldHVybiEoIXR8fCFufHxpKSYmKGNvbnNvbGUubG9nKFwiU2tpcHBpbmcgdXNhZ2Ugb2YgYGlzb2xhdGVkLXZtYCB0byBhdm9pZCBjcmFzaGVzIGluIE5vZGUgdjIwIG9uIGFuIGFybTY0IG1hY2hpbmUuXFxuICAgIElmIHlvdSB3b3VsZCBsaWtlIHRvIHVzZSB0aGUgYGlzb2xhdGVkLXZtYCBwYWNrYWdlIG9uIHRoaXMgbWFjaGluZSwgcGxlYXNlIHByb3ZpZGUgdGhlIGBOT0RFX09QVElPTlM9LS1uby1ub2RlLXNuYXBzaG90YCBjb25maWcgdG8geW91ciBOb2RlIHByb2Nlc3MuXFxuICAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vQnVpbGRlcklPL2J1aWxkZXIvYmxvYi9tYWluL3BhY2thZ2VzL3JlYWN0L1JFQURNRS5tZCNub2RlLXYyMC0tbTEtbWFjcy1hcHBsZS1zaWxpY29uLXN1cHBvcnQgZm9yIG1vcmUgaW5mb3JtYXRpb24uXFxuICAgIFwiKSwhMCl9LGZuQ2FjaGU9e30sYXBpPWZ1bmN0aW9uKGUpe3JldHVybiBidWlsZGVyfTtmdW5jdGlvbiBzdHJpbmdUb0Z1bmN0aW9uKGUsdCxuLGkpe2lmKHZvaWQgMD09PXQmJih0PSEwKSwhZXx8IWUudHJpbSgpKXJldHVybiBmdW5jdGlvbigpe307dmFyIHI9ZStcIjpcIit0O2lmKGZuQ2FjaGVbcl0pcmV0dXJuIGZuQ2FjaGVbcl07dmFyIG89dCYmIShlLmluY2x1ZGVzKFwiO1wiKXx8ZS5pbmNsdWRlcyhcIiByZXR1cm4gXCIpfHxlLnRyaW0oKS5zdGFydHNXaXRoKFwicmV0dXJuIFwiKSl8fGUudHJpbSgpLnN0YXJ0c1dpdGgoXCJidWlsZGVyLnJ1blwiKSxhPWZ1bmN0aW9uKCl7fTt0cnl7QnVpbGRlci5pc0Jyb3dzZXImJihhPW5ldyBGdW5jdGlvbihcInN0YXRlXCIsXCJldmVudFwiLFwiYmxvY2tcIixcImJ1aWxkZXJcIixcIkRldmljZVwiLFwidXBkYXRlXCIsXCJCdWlsZGVyXCIsXCJjb250ZXh0XCIsXCJcXG4gICAgICAgICAgdmFyIG5hbWVzID0gW1xcbiAgICAgICAgICAgICdzdGF0ZScsXFxuICAgICAgICAgICAgJ2V2ZW50JyxcXG4gICAgICAgICAgICAnYmxvY2snLFxcbiAgICAgICAgICAgICdidWlsZGVyJyxcXG4gICAgICAgICAgICAnRGV2aWNlJyxcXG4gICAgICAgICAgICAndXBkYXRlJyxcXG4gICAgICAgICAgICAnQnVpbGRlcicsXFxuICAgICAgICAgICAgJ2NvbnRleHQnXFxuICAgICAgICAgIF07XFxuICAgICAgICAgIHZhciByb290U3RhdGUgPSBzdGF0ZTtcXG4gICAgICAgICAgaWYgKHR5cGVvZiBQcm94eSAhPT0gJ3VuZGVmaW5lZCcpIHtcXG4gICAgICAgICAgICByb290U3RhdGUgPSBuZXcgUHJveHkocm9vdFN0YXRlLCB7XFxuICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xcbiAgICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7XFxuICAgICAgICAgICAgICAgIGlmIChuYW1lcy5pbmNsdWRlcyhrZXkpKSB7XFxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XFxuICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgLyogQWxpYXMgKi9cXG4gICAgICAgICAgdmFyIGN0eCA9IGNvbnRleHQ7XFxuICAgICAgICAgIHZhciBsb2cgPSBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO1xcbiAgICAgICAgICB3aXRoIChyb290U3RhdGUpIHtcXG4gICAgICAgICAgICBcIi5jb25jYXQobz9cInJldHVybiAoXCIuY29uY2F0KGUsXCIpO1wiKTplLFwiO1xcbiAgICAgICAgICB9XFxuICAgICAgICBcIikpKX1jYXRjaCh0KXtuJiZuLnB1c2godCk7dmFyIHM9dCYmdC5tZXNzYWdlO3MmJlwic3RyaW5nXCI9PXR5cGVvZiBzJiZpJiYtMT09PWkuaW5kZXhPZihzKSYmaS5wdXNoKHMpLEJ1aWxkZXIuaXNCcm93c2VyJiZjb25zb2xlLndhcm4oXCJGdW5jdGlvbiBjb21waWxlIGVycm9yIGluIFwiLmNvbmNhdChlKSx0KX12YXIgbD1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl0W2ldPWFyZ3VtZW50c1tpXTt0cnl7aWYoQnVpbGRlci5pc0Jyb3dzZXJ8fHNob3VsZEZvcmNlQnJvd3NlclJ1bnRpbWVJbk5vZGUoKSlyZXR1cm4gYS5hcHBseSh2b2lkIDAsdCk7dmFyIHI9Z2V0SXNvbGF0ZUNvbnRleHQoKSxzPXNhZmVEeW5hbWljUmVxdWlyZShcImlzb2xhdGVkLXZtXCIpLGw9ci5ldmFsQ2xvc3VyZVN5bmMobWFrZUZuKGUsbyksdC5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGU/bmV3IHMuUmVmZXJlbmNlKHQ9PT1pbmRleE9mQnVpbGRlckluc3RhbmNlP19fYXNzaWduKF9fYXNzaWduKHt9LGUpLHtnZXRVc2VyQXR0cmlidXRlczpmdW5jdGlvbigpe3JldHVybiBlLmdldFVzZXJBdHRyaWJ1dGVzKFwiXCIpfX0pOmUpOm51bGx9KSkpO3RyeXt2YXIgdT1KU09OLnBhcnNlKGwpO3JldHVybiB1fWNhdGNoKGUpe3JldHVybiBsfX1jYXRjaCh0KXtyZXR1cm4gQnVpbGRlci5pc0Jyb3dzZXI/Y29uc29sZS53YXJuKFwiQnVpbGRlciBjdXN0b20gY29kZSBlcnJvcjpcIix0Lm1lc3NhZ2V8fHQsXCJpblwiLGUsdC5zdGFja3x8dCk6aXNEZWJ1ZygpJiZjb25zb2xlLmRlYnVnKFwiQnVpbGRlciBjdXN0b20gY29kZSBlcnJvcjpcIix0Lm1lc3NhZ2V8fHQsXCJpblwiLGUsdC5zdGFja3x8dCksbiYmbi5wdXNoKHQpLG51bGx9fTtyZXR1cm4gQnVpbGRlci5pc0Jyb3dzZXImJihmbkNhY2hlW3JdPWwpLGx9dmFyIGluZGV4T2ZCdWlsZGVySW5zdGFuY2U9MyxtYWtlRm49ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW58fFtcInN0YXRlXCIsXCJldmVudFwiLFwiYmxvY2tcIixcImJ1aWxkZXJcIixcIkRldmljZVwiLFwidXBkYXRlXCIsXCJCdWlsZGVyXCIsXCJjb250ZXh0XCJdO3JldHVyblwiXFxuXCIuY29uY2F0KFwiXFxuICB2YXIgcmVmVG9Qcm94eSA9IChvYmopID0+IHtcXG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xcbiAgICAgIHJldHVybiBvYmo7XFxuICAgIH1cXG4gICAgcmV0dXJuIG5ldyBQcm94eSh7fSwge1xcbiAgICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XFxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2NvcHlTeW5jJykge1xcbiAgICAgICAgICAgICAgcmV0dXJuICgpID0+IG9iai5jb3B5U3luYygpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBjb25zdCB2YWwgPSBvYmouZ2V0U3luYyhrZXkpO1xcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsPy5jb3B5U3luYyA9PT0gJ2Z1bmN0aW9uJykge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJpbmdpZnkodmFsKSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIHJldHVybiB2YWw7XFxuICAgICAgICB9LFxcbiAgICAgICAgc2V0KHRhcmdldCwga2V5LCB2YWx1ZSkge1xcbiAgICAgICAgICAgIG9iai5zZXRTeW5jKGtleSwgdmFsdWUpO1xcbiAgICAgICAgfSxcXG4gICAgICAgIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XFxuICAgICAgICAgICAgb2JqLmRlbGV0ZVN5bmMoa2V5KTtcXG4gICAgICAgIH1cXG4gICAgICB9KVxcbiAgfVxcblwiLFwiXFxuXCIpLmNvbmNhdChcIlxcbiAgICB2YXIgc3RyaW5naWZ5ID0gKHZhbCkgPT4ge1xcbiAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwpIHtcXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWwuY29weVN5bmMgPyB2YWwuY29weVN5bmMoKSA6IHZhbCk7XFxuICAgICAgfVxcbiAgICAgIHJldHVybiB2YWw7XFxuICAgIH1cXG4gIFwiLFwiXFxuXCIpLmNvbmNhdChpLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm5cInZhciBcIi5jb25jYXQoZSxcIiA9IHJlZlRvUHJveHkoJFwiKS5jb25jYXQodCxcIik7XCIpfSkpLmpvaW4oXCJcXG5cIikpLmNvbmNhdChcIlxcblwiLmNvbmNhdChpLmluY2x1ZGVzKFwiY29udGV4dFwiKT9cInZhciBjdHggPSBjb250ZXh0O1wiOlwiXCIsXCJcXG52YXIgZW5kUmVzdWx0ID0gZnVuY3Rpb24oKSB7XFxuICBcIikuY29uY2F0KHQ/XCJyZXR1cm4gKFwiLmNvbmNhdChlLFwiKTtcIik6ZSxcIjtcXG59O1xcblxcbnJldHVybiBzdHJpbmdpZnkoZW5kUmVzdWx0KCkpO1xcblwiKSl9LGdldElzb2xhdGVDb250ZXh0PWZ1bmN0aW9uKCl7dmFyIGU9QnVpbGRlci5zZXJ2ZXJDb250ZXh0O2V8fChlPW5ldyhzYWZlRHluYW1pY1JlcXVpcmUoXCJpc29sYXRlZC12bVwiKS5Jc29sYXRlKSh7bWVtb3J5TGltaXQ6MTI4fSkuY3JlYXRlQ29udGV4dFN5bmMoKSxCdWlsZGVyLnNldFNlcnZlckNvbnRleHQoZSkpO3ZhciB0PWUuZ2xvYmFsO3JldHVybiB0LnNldFN5bmMoXCJnbG9iYWxcIix0LmRlcmVmSW50bygpKSx0LnNldFN5bmMoXCJsb2dcIiwoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07aXNEZWJ1ZygpJiZjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGUpfSkpLGV9LGlzUHJvbWlzZT1mdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRoZW59LGlzUmVxdWVzdEluZm89ZnVuY3Rpb24oZSl7cmV0dXJuIWlzUHJvbWlzZShlKX0sQnVpbGRlckFzeW5jUmVxdWVzdHNDb250ZXh0PVJlYWN0X19kZWZhdWx0LmNyZWF0ZUNvbnRleHQoe3JlcXVlc3RzOltdLGVycm9yczpbXSxsb2dzOltdfSksQnVpbGRlclN0b3JlQ29udGV4dD1SZWFjdF9fZGVmYXVsdC5jcmVhdGVDb250ZXh0KHtzdGF0ZTp7fSxyb290U3RhdGU6e30sY29udGVudDp7fSxjb250ZXh0Ont9LHVwZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbH19KSxhcHBseVBhdGNoV2l0aE1pbmltYWxNdXRhdGlvbkNoYWluPWZ1bmN0aW9uKGUsdCxuKXtpZih2b2lkIDA9PT1uJiYobj0hMSksT2JqZWN0KGUpIT09ZSlyZXR1cm4gZTt2YXIgaT10LnBhdGgscj10Lm9wLG89dC52YWx1ZSxhPWkuc3BsaXQoL1xcLy8pO1wiXCI9PT1hWzBdJiZhLnNoaWZ0KCk7Zm9yKHZhciBzPW4/ZTpfX2Fzc2lnbih7fSxlKSxsPXMsdT0wO3U8YS5sZW5ndGg7dSsrKXt2YXIgZD11PT09YS5sZW5ndGgtMSxjPWFbdV07aWYoZCl7aWYoXCJyZXBsYWNlXCI9PT1yKWxbY109bztlbHNlIGlmKFwiYWRkXCI9PT1yKXt2YXIgcD1OdW1iZXIoYyk7QXJyYXkuaXNBcnJheShsKT9cIi1cIj09PWM/bC5wdXNoKG8pOmwuc3BsaWNlKHAsMCxvKTpsW2NdPW99ZWxzZSBpZihcInJlbW92ZVwiPT09cil7cD1OdW1iZXIoYyk7QXJyYXkuaXNBcnJheShsKT9sLnNwbGljZShwLDEpOmRlbGV0ZSBsW2NdfX1lbHNle3ZhciBmPWFbdSsxXSxtPU9iamVjdChsW2NdKT09PWxbY10/bFtjXTpTdHJpbmcoTnVtYmVyKGYpKT09PWY/W106e307bD1sW2NdPUFycmF5LmlzQXJyYXkobSk/X19zcHJlYWRBcnJheShbXSxtLCEwKTpfX2Fzc2lnbih7fSxtKX19cmV0dXJuIHN9LGh0bWxFc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIil9LGJsb2NrVG9IdG1sU3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVyblwiPFwiLmNvbmNhdChodG1sRXNjYXBlKGUudGFnTmFtZXx8XCJkaXZcIiksJyBcXG4gICAgY2xhc3M9XCJidWlsZGVyLWJsb2NrICcpLmNvbmNhdChlLmlkLFwiIFwiKS5jb25jYXQoZS5jbGFzc3x8XCJcIiwnXCJcXG4gICAgYnVpbGRlci1pZD1cIicpLmNvbmNhdChlLmlkLCdcIlxcbiAgJykuY29uY2F0KE9iamVjdC5rZXlzKGUucHJvcGVydGllc3x8e30pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuXCJcIi5jb25jYXQoaHRtbEVzY2FwZSh0KSwnPVwiJykuY29uY2F0KGh0bWxFc2NhcGUoZS5wcm9wZXJ0aWVzW3RdKSwnXCInKX0pKS5qb2luKFwiIFwiKSxcIlxcbiAgPlwiKS5jb25jYXQoXCJUZXh0XCI9PT0obnVsbD09PSh0PW51bGw9PWU/dm9pZCAwOmUuY29tcG9uZW50KXx8dm9pZCAwPT09dD92b2lkIDA6dC5uYW1lKT9lLmNvbXBvbmVudC5vcHRpb25zLnRleHQ6ZS5jaGlsZHJlbj9lLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGJsb2NrVG9IdG1sU3RyaW5nKGUpfSkpLmpvaW4oXCJcIik6XCJcIixcIjwvXCIpLmNvbmNhdChlLnRhZ05hbWV8fFwiZGl2XCIsXCI+XCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIil9LExpbms9ZnVuY3Rpb24oZSl7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlclN0b3JlQ29udGV4dC5Db25zdW1lcixudWxsLChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZW5kZXJMaW5rP3QucmVuZGVyTGluayhlKTpSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYVwiLF9fYXNzaWduKHt9LGUpKX0pKX07ZnVuY3Rpb24gdHJhdmVyc2UoZSx0LG4saSxyKXt2b2lkIDA9PT1uJiYobj1udWxsKSx2b2lkIDA9PT1pJiYoaT1udWxsKSx2b2lkIDA9PT1yJiYocj1uZXcgV2Vha1NldCksbnVsbCE9ZSYmXCJvYmplY3RcIj09dHlwZW9mIGU/ci5oYXMoZSl8fChyLmFkZChlKSxBcnJheS5pc0FycmF5KGUpP2UuZm9yRWFjaCgoZnVuY3Rpb24obixpKXt0KG4sKGZ1bmN0aW9uKHQpe2VbaV09dH0pKSx0cmF2ZXJzZShuLHQsZSxpLHIpfSkpOk9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBpPW5bMF0sbz1uWzFdO3QobywoZnVuY3Rpb24odCl7ZVtpXT10fSkpLHRyYXZlcnNlKG8sdCxlLGkscil9KSkpOnQoZSwoZnVuY3Rpb24oZSl7bnVsbCE9PW4mJm51bGwhPT1pJiYobltpXT1lKX0pKX12YXIgaXNMb2NhbGl6ZWRGaWVsZD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwiQGJ1aWxkZXIuaW8vY29yZTpMb2NhbGl6ZWRWYWx1ZVwiPT09ZVtcIkB0eXBlXCJdfSxjb250YWluc0xvY2FsaXplZFZhbHVlcz1mdW5jdGlvbihlKXtpZighZXx8IU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aClyZXR1cm4hMTt2YXIgdD0hMTtyZXR1cm4gdHJhdmVyc2UoZSwoZnVuY3Rpb24oZSl7aXNMb2NhbGl6ZWRGaWVsZChlKSYmKHQ9ITApfSkpLHR9LGV4dHJhY3RMb2NhbGl6ZWRWYWx1ZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkubGVuZ3RoPyh0cmF2ZXJzZShlLChmdW5jdGlvbihlLG4pe3ZhciBpO2lzTG9jYWxpemVkRmllbGQoZSkmJm4obnVsbCE9PShpPWVbdF0pJiZ2b2lkIDAhPT1pP2k6dm9pZCAwKX0pKSxlKTp7fX0sY2FtZWxDYXNlVG9LZWJhYkNhc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZS5yZXBsYWNlKC8oW0EtWl0pL2csKGZ1bmN0aW9uKGUpe3JldHVyblwiLVwiLmNvbmNhdChlWzBdLnRvTG93ZXJDYXNlKCkpfSkpOlwiXCJ9LGtlYmFiQ2FzZVRvQ2FtZWxDYXNlPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1cIlwiKSxlLnJlcGxhY2UoLy0oW2Etel0pL2csKGZ1bmN0aW9uKGUpe3JldHVybiBlWzFdLnRvVXBwZXJDYXNlKCl9KSl9LERldmljZT17ZGVza3RvcDowLHRhYmxldDoxLG1vYmlsZToyfTtmdW5jdGlvbiBkZWVwQ2xvbmVXaXRoQ29uZGl0aW9ucyhlKXtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUpcmV0dXJuIGU7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBkZWVwQ2xvbmVXaXRoQ29uZGl0aW9ucyhlKX0pKTtpZihcIkBidWlsZGVyLmlvL3NkazpFbGVtZW50XCI9PT1lW1wiQHR5cGVcIl0pcmV0dXJuIGU7dmFyIHQ9e307Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJihcIm1ldGFcIj09PW4/dC5tZXRhPWUubWV0YTp0W25dPWRlZXBDbG9uZVdpdGhDb25kaXRpb25zKGVbbl0pKTtyZXR1cm4gdH12YXIgdm9pZEVsZW1lbnRzPW5ldyBTZXQoW1wiYXJlYVwiLFwiYmFzZVwiLFwiYnJcIixcImNvbFwiLFwiZW1iZWRcIixcImhyXCIsXCJpbWdcIixcImlucHV0XCIsXCJsaW5rXCIsXCJtZXRhXCIsXCJwYXJhbVwiLFwic291cmNlXCIsXCJ0cmFja1wiLFwid2JyXCIsXCJ0ZXh0YXJlYVwiXSksbGFzdD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLmxlbmd0aC0xXX07ZnVuY3Rpb24gb21pdCQxKGUsdCl7Zm9yKHZhciBuPU9iamVjdC5hc3NpZ24oe30sZSksaT0wLHI9dDtpPHIubGVuZ3RoO2krKyl7ZGVsZXRlIG5bcltpXV19cmV0dXJuIG59dmFyIGNzc0Nhc2U9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIGU7dmFyIHQ9Y2FtZWxDYXNlVG9LZWJhYkNhc2UoZSk7cmV0dXJuIGVbMF09PT1lWzBdLnRvVXBwZXJDYXNlKCkmJih0PVwiLVwiK3QpLHR9O2Z1bmN0aW9uIGNhcGl0YWxpemUoZSl7aWYoZSlyZXR1cm4gZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSl9dmFyIEJ1aWxkZXJCbG9jayQxPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gQnVpbGRlckJsb2NrKCl7dmFyIF90aGlzPW51bGwhPT1fc3VwZXImJl9zdXBlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIF90aGlzLmh5ZHJhdGVkPSExLF90aGlzLnN0YXRlPXtoYXNFcnJvcjohMSx1cGRhdGVzOjB9LF90aGlzLnByaXZhdGVTdGF0ZT17c3RhdGU6e30scm9vdFN0YXRlOnt9LGNvbnRleHQ6e30sdXBkYXRlOmZ1bmN0aW9uKCl7fX0sX3RoaXMub25XaW5kb3dNZXNzYWdlPWZ1bmN0aW9uKGV2ZW50KXt2YXIgbWVzc2FnZT1ldmVudC5kYXRhO2lmKG1lc3NhZ2Upc3dpdGNoKG1lc3NhZ2UudHlwZSl7Y2FzZVwiYnVpbGRlci5zZWxlY3Rpb25DaGFuZ2VcIjp2YXIgZGF0YT1tZXNzYWdlLmRhdGE7aWYoIWRhdGEpYnJlYWs7dmFyIHNlbGVjdGlvbj1kYXRhLnNlbGVjdGlvbixpZD1fdGhpcy5ibG9jayYmX3RoaXMuYmxvY2suaWQ7aWQmJkFycmF5LmlzQXJyYXkoc2VsZWN0aW9uKSYmc2VsZWN0aW9uLmluZGV4T2YoaWQpPi0xJiZzZXRUaW1lb3V0KChmdW5jdGlvbigpe3dpbmRvdy4kYmxvY2s9X3RoaXMsd2luZG93LiRibG9ja3N8fCh3aW5kb3cuJGJsb2Nrcz1bXSksd2luZG93LiRibG9ja3MucHVzaChfdGhpcyl9KSk7YnJlYWs7Y2FzZVwiYnVpbGRlci5wYXRjaFVwZGF0ZXNcIjp2YXIgZGF0YT1tZXNzYWdlLmRhdGE7aWYoIWRhdGF8fCFkYXRhLmRhdGEpYnJlYWs7dmFyIHBhdGNoZXM9ZGF0YS5kYXRhW190aGlzLmJsb2NrLmlkXTtpZighcGF0Y2hlcylyZXR1cm47bG9jYXRpb24uaHJlZi5pbmNsdWRlcyhcImJ1aWxkZXIuZGVidWc9dHJ1ZVwiKSYmZXZhbChcImRlYnVnZ2VyXCIpO2Zvcih2YXIgX2k9MCxwYXRjaGVzXzE9cGF0Y2hlcztfaTxwYXRjaGVzXzEubGVuZ3RoO19pKyspe3ZhciBwYXRjaD1wYXRjaGVzXzFbX2ldO2FwcGx5UGF0Y2hXaXRoTWluaW1hbE11dGF0aW9uQ2hhaW4oX3RoaXMucHJvcHMuYmxvY2sscGF0Y2gsITApfV90aGlzLnNldFN0YXRlKHt1cGRhdGVzOl90aGlzLnN0YXRlLnVwZGF0ZXMrMX0pfX0sX3RoaXN9cmV0dXJuIF9fZXh0ZW5kcyhCdWlsZGVyQmxvY2ssX3N1cGVyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVpbGRlckJsb2NrLnByb3RvdHlwZSxcInN0b3JlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByaXZhdGVTdGF0ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxCdWlsZGVyQmxvY2suZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yPWZ1bmN0aW9uKGUpe3JldHVybntoYXNFcnJvcjohMH19LEJ1aWxkZXJCbG9jay5wcm90b3R5cGUuY29tcG9uZW50RGlkQ2F0Y2g9ZnVuY3Rpb24oZSx0KXtjb25zb2xlLmVycm9yKFwiQnVpbGRlciBibG9jayBlcnJvcjpcIixlLHQpfSxCdWlsZGVyQmxvY2sucHJvdG90eXBlLnN0cmluZ1RvRnVuY3Rpb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITApLHN0cmluZ1RvRnVuY3Rpb24oZSx0LHRoaXMuX2Vycm9ycyx0aGlzLl9sb2dzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1aWxkZXJCbG9jay5wcm90b3R5cGUsXCJibG9ja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5ibG9ja30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxCdWlsZGVyQmxvY2sucHJvdG90eXBlLmVtb3Rpb25Dc3M9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHIsbyxhLHMsbCx1PXRoaXMuYmxvY2ssZD11LmFuaW1hdGlvbnMmJnUuYW5pbWF0aW9uc1swXTtpZihkJiZcImhvdmVyXCIhPT1kLnRyaWdnZXIpe3ZhciBjPWQmJmQuc3RlcHMmJmQuc3RlcHNbMF0scD1jJiZjLnN0eWxlcztwJiYobD1wKX12YXIgZj1zaXplTmFtZXMuc2xpY2UoKS5yZXZlcnNlKCksbT17fTtpZihlKWZvcih2YXIgaD1Cb29sZWFuKG51bGw9PT0oaT1udWxsPT09KG49bnVsbD09PSh0PXRoaXMucHJpdmF0ZVN0YXRlLmNvbnRleHQuYnVpbGRlckNvbnRlbnQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm1ldGEpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmJyZWFrcG9pbnRzKXx8dm9pZCAwPT09aT92b2lkIDA6aS54c21hbGwpLHY9MCxnPWY7djxnLmxlbmd0aDt2Kyspe3ZhciBiPWdbdl07aWYoaHx8XCJ4c21hbGxcIiE9PWIpaWYoXCJsYXJnZVwiPT09Yil0aGlzLnByb3BzLmVtYWlsTW9kZXx8KG1bXCImLmJ1aWxkZXItYmxvY2tcIl09T2JqZWN0LmFzc2lnbih7fSxlW2JdLGwpKTtlbHNle3ZhciB5PWdldFNpemVzRm9yQnJlYWtwb2ludHMoKG51bGw9PT0obz1udWxsPT09KHI9dGhpcy5wcml2YXRlU3RhdGUuY29udGV4dC5idWlsZGVyQ29udGVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIubWV0YSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uYnJlYWtwb2ludHMpfHx7fSk7bVtcIkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogXCIuY29uY2F0KHlbYl0ubWF4LFwicHgpXCIpXT17XCImLmJ1aWxkZXItYmxvY2tcIjplW2JdfX19dmFyIF89dS5hbmltYXRpb25zJiZ1LmFuaW1hdGlvbnMuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuXCJob3ZlclwiPT09ZS50cmlnZ2VyfSkpO3JldHVybiBfJiYobVtcIjpob3ZlclwiXT0obnVsbD09PShzPW51bGw9PT0oYT1fLnN0ZXBzKXx8dm9pZCAwPT09YT92b2lkIDA6YVsxXSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuc3R5bGVzKXx8e30sbS50cmFuc2l0aW9uPVwiYWxsIFwiLmNvbmNhdChfLmR1cmF0aW9uLFwicyBcIikuY29uY2F0KGNhbWVsQ2FzZVRvS2ViYWJDYXNlKF8uZWFzaW5nKSksXy5kZWxheSYmKG0udHJhbnNpdGlvbkRlbGF5PV8uZGVsYXkrXCJzXCIpKSxtfSxCdWlsZGVyQmxvY2sucHJvdG90eXBlLmV2YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RyaW5nVG9GdW5jdGlvbihlKSh0aGlzLnByaXZhdGVTdGF0ZS5zdGF0ZSx2b2lkIDAsdGhpcy5ibG9jayxidWlsZGVyLERldmljZSx0aGlzLnByaXZhdGVTdGF0ZS51cGRhdGUsQnVpbGRlcix0aGlzLnByaXZhdGVTdGF0ZS5jb250ZXh0KX0sQnVpbGRlckJsb2NrLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe0J1aWxkZXIuaXNFZGl0aW5nJiZyZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMub25XaW5kb3dNZXNzYWdlKX0sQnVpbGRlckJsb2NrLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpczt0aGlzLmh5ZHJhdGVkPSEwO3ZhciBuPXRoaXMuYmxvY2ssaT1uJiZuLmFuaW1hdGlvbnM7aWYoQnVpbGRlci5pc0VkaXRpbmcmJmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5vbldpbmRvd01lc3NhZ2UpLGkpe3ZhciByPXthbmltYXRpb25zOmZhc3RDbG9uZShpKX07aWYobi5iaW5kaW5ncylmb3IodmFyIG8gaW4gbi5iaW5kaW5ncylpZigobnVsbD09PShlPW8udHJpbSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbChvKSkmJm8uc3RhcnRzV2l0aChcImFuaW1hdGlvbnMuXCIpKXt2YXIgYT10aGlzLnN0cmluZ1RvRnVuY3Rpb24obi5iaW5kaW5nc1tvXSk7dm9pZCAwIT09YSYmc2V0KHIsbyxhKHRoaXMucHJpdmF0ZVN0YXRlLnN0YXRlLG51bGwsbixidWlsZGVyLG51bGwsbnVsbCxCdWlsZGVyLHRoaXMucHJpdmF0ZVN0YXRlLmNvbnRleHQpKX1CdWlsZGVyLmFuaW1hdG9yLmJpbmRBbmltYXRpb25zKHIuYW5pbWF0aW9ucy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwiaG92ZXJcIiE9PWUudHJpZ2dlcn0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSxlKSx7ZWxlbWVudElkOnQuYmxvY2suaWR9KX0pKSl9fSxCdWlsZGVyQmxvY2sucHJvdG90eXBlLmdldEVsZW1lbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHIsbyxhLHMsbD10aGlzO3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXQmJih0PXRoaXMucHJpdmF0ZVN0YXRlLnN0YXRlKTt2YXIgdT10aGlzLnByb3BzO3UuY2hpbGQsdS5maWVsZE5hbWU7dmFyIGQsYz10aGlzLmJsb2NrLHA9KGMudGFnTmFtZXx8XCJkaXZcIikudG9Mb3dlckNhc2UoKTtpZihcInRlbXBsYXRlXCI9PT1wKXt2YXIgZj1jLmNoaWxkcmVuP2MuY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYmxvY2tUb0h0bWxTdHJpbmcoZSl9KSkuam9pbihcIiBcIik6XCJcIjtyZXR1cm4gY29uc29sZS5kZWJ1ZyhcInRlbXBsYXRlIGh0bWxcIixmKSxqc3goXCJ0ZW1wbGF0ZVwiLF9fYXNzaWduKHt9LGMucHJvcGVydGllcyx7ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6e19faHRtbDpmfX0pKX12YXIgbT1jLmNvbXBvbmVudCYmKGMuY29tcG9uZW50Lm5hbWV8fGMuY29tcG9uZW50LmNvbXBvbmVudCksaD1udWxsO2MuY29tcG9uZW50JiYhYy5jb21wb25lbnQuY2xhc3MmJihjLmNvbXBvbmVudCYmYy5jb21wb25lbnQudGFnP2Q9Yy5jb21wb25lbnQudGFnOihoPUJ1aWxkZXIuY29tcG9uZW50cy5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lPT09bX0pKXx8bnVsbCkmJmguY2xhc3M/ZD1oLmNsYXNzOmgmJmgudGFnP2Q9aC50YWc6KG51bGw9PW0/dm9pZCAwOm0uc3RhcnRzV2l0aChcIkJ1aWxkZXI6XCIpKT9jb25zb2xlLndhcm4oXCJNaXNzaW5nIEBidWlsZGVyLmlvL3dpZGdldHMgaW5zdGFsbGF0aW9uLCBwbGVhc2UgaW5zdGFsbCBhbmQgaW1wb3J0IEBidWlsZGVyLmlvL3dpZGdldHMgdG8gdXNlIFwiLmNvbmNhdChtLnNwbGl0KFwiOlwiKVsxXSxcIiBpbiB5b3VyIGNvbnRlbnQsIG1vcmUgaW5mbyBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vQnVpbGRlcklPL2J1aWxkZXIvdHJlZS9tYWluL3BhY2thZ2VzL3dpZGdldHNcIikpOm0mJmNvbnNvbGUud2FybihcIk1pc3NpbmcgcmVnaXN0cmF0aW9uIGZvciBcIi5jb25jYXQobSxcIiwgaGF2ZSB5b3UgaW5jbHVkZWQgdGhlIHJlZ2lzdHJhdGlvbiBpbiB5b3VyIGJ1bmRsZT9cIikpKTt2YXIgdj1fX2Fzc2lnbihfX2Fzc2lnbih7fSxjLnByb3BlcnRpZXMpLHtzdHlsZTp7fSxyZXNwb25zaXZlU3R5bGVzOmZhc3RDbG9uZShjLnJlc3BvbnNpdmVTdHlsZXN8fHt9KX0pO2lmKHY9X19hc3NpZ24oX19hc3NpZ24oe30sdi5wcm9wZXJ0aWVzKSx2KSxjLmNvbXBvbmVudCYmKHYuY29tcG9uZW50PWRlZXBDbG9uZVdpdGhDb25kaXRpb25zKGMuY29tcG9uZW50KSksYy5iaW5kaW5ncylmb3IodmFyIGcgaW4gYy5iaW5kaW5ncylpZihudWxsPT09KGk9Zy50cmltKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKGcpKXt2YXIgYj10aGlzLnN0cmluZ1RvRnVuY3Rpb24oYy5iaW5kaW5nc1tnXSk7c2V0KHYsZyxiKHQsbnVsbCxjLGFwaSgpLERldmljZSxudWxsLEJ1aWxkZXIsdGhpcy5wcml2YXRlU3RhdGUuY29udGV4dCkpfWlmKHYuaGlkZSlyZXR1cm4gbnVsbDtpZihkZWxldGUgdi5oaWRlLChcInNob3dcImluIHZ8fGMuYmluZGluZ3MmJmMuYmluZGluZ3Muc2hvdykmJiF2LnNob3cpcmV0dXJuIG51bGw7aWYoZGVsZXRlIHYuc2hvdyxjLmFjdGlvbnMpe3ZhciB5PWZ1bmN0aW9uKGUpe2lmKCEobnVsbD09PShyPWUudHJpbSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuY2FsbChlKSkpcmV0dXJuXCJjb250aW51ZVwiO3ZhciBuPWMuYWN0aW9uc1tlXTt2W1wib25cIitjYXBpdGFsaXplKGUpXT1mdW5jdGlvbihlKXt2YXIgaT10O3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBQcm94eSYmKGk9bmV3IFByb3h5KHQse3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bixsLnByaXZhdGVTdGF0ZS5yb290U3RhdGVbdF09biwhMH19KSksbC5zdHJpbmdUb0Z1bmN0aW9uKG4sITEpKGksZSxsLmJsb2NrLGJ1aWxkZXIsRGV2aWNlLGwucHJpdmF0ZVN0YXRlLnVwZGF0ZSxCdWlsZGVyLGwucHJpdmF0ZVN0YXRlLmNvbnRleHQpfX07Zm9yKHZhciBnIGluIGMuYWN0aW9ucyl5KGcpfXZhciBfPSh2LmNvbXBvbmVudHx8di5vcHRpb25zKSYmX19hc3NpZ24oX19hc3NpZ24oe30sdi5vcHRpb25zKSx2LmNvbXBvbmVudC5vcHRpb25zfHx2LmNvbXBvbmVudC5kYXRhKTtjb250YWluc0xvY2FsaXplZFZhbHVlcyhfKSYmKHRoaXMucHJpdmF0ZVN0YXRlLnN0YXRlLmxvY2FsZXx8Y29uc29sZS53YXJuKFwiW0J1aWxkZXIuaW9dIEluIG9yZGVyIHRvIHVzZSBsb2NhbGl6ZWQgZmllbGRzIGluIEJ1aWxkZXIsIHlvdSBtdXN0IHBhc3MgYSBsb2NhbGUgcHJvcCB0byB0aGUgQnVpbGRlckNvbXBvbmVudCBvciB0byBvcHRpb25zIG9iamVjdCB3aGlsZSBmZXRjaGluZyB0aGUgY29udGVudCB0byByZXNvbHZlIGxvY2FsaXplZCBmaWVsZHMuIExlYXJuIG1vcmU6IGh0dHBzOi8vd3d3LmJ1aWxkZXIuaW8vYy9kb2NzL2xvY2FsaXphdGlvbi1pbmxpbmUjdGFyZ2V0aW5nLWFuZC1pbmxpbmUtbG9jYWxpemF0aW9uXCIpLF89ZXh0cmFjdExvY2FsaXplZFZhbHVlcyhfLG51bGwhPT0obz10aGlzLnByaXZhdGVTdGF0ZS5zdGF0ZS5sb2NhbGUpJiZ2b2lkIDAhPT1vP286XCJEZWZhdWx0XCIpKTt2YXIgeD12b2lkRWxlbWVudHMuaGFzKHApLFM9aCYmKGguZnJhZ21lbnR8fGgubm9XcmFwKSxrPShudWxsPT09KGE9di5hdHRyKXx8dm9pZCAwPT09YT92b2lkIDA6YS5zdHlsZSl8fChcInN0cmluZ1wiPT10eXBlb2Ygdi5zdHlsZT92LnN0eWxlOlwiXCIpfHxcIlwiO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBrKXtcIm9iamVjdFwiIT10eXBlb2Ygdi5zdHlsZSYmKHYuc3R5bGU9e30pO2Zvcih2YXIgQj0wLHc9ay5zcGxpdChcIjtcIik7Qjx3Lmxlbmd0aDtCKyspe3ZhciBDPXdbQl0uc3BsaXQoXCI6XCIpO2lmKCFDLmxlbmd0aClyZXR1cm47Zz1DWzBdLGI9Q1sxXTtnJiYoQy5sZW5ndGg+MiYmKGI9Qy5zbGljZSgxKS5qb2luKFwiOlwiKSksdi5zdHlsZVtrZWJhYkNhc2VUb0NhbWVsQ2FzZShnKV09Yil9fXZhciBFPV9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LG9taXQkMSh2LFtcImNsYXNzXCIsXCJjb21wb25lbnRcIixcImF0dHJcIixcInJlc3BvbnNpdmVTdHlsZXNcIl0pKSwoKG49e30pW1wic3RyaW5nXCIhPXR5cGVvZiBwfHxwLmluY2x1ZGVzKFwiLVwiKT9cImNsYXNzXCI6XCJjbGFzc05hbWVcIl09XCJidWlsZGVyLWJsb2NrIFwiLmNvbmNhdCh0aGlzLmlkKS5jb25jYXQoYy5jbGFzcz9cIiBcIi5jb25jYXQoYy5jbGFzcyk6XCJcIikuY29uY2F0KCFjLmNvbXBvbmVudHx8W1wiSW1hZ2VcIixcIlZpZGVvXCIsXCJCYW5uZXJcIl0uaW5kZXhPZihtKT4tMT9cIlwiOlwiIGJ1aWxkZXItaGFzLWNvbXBvbmVudFwiKSsodi5jbGFzcz9cIiBcIit2LmNsYXNzOlwiXCIpKyh0aGlzLmh5ZHJhdGVkJiZCdWlsZGVyLmlzRWRpdGluZyYmKG51bGw9PT0ocz10aGlzLnByaXZhdGVTdGF0ZS5zdGF0ZS5fc3BhY2VyKXx8dm9pZCAwPT09cz92b2lkIDA6cy5wYXJlbnQpPT09Yy5pZD9cIiBidWlsZGVyLXNwYWNlci1wYXJlbnRcIjpcIlwiKSxuLmtleT10aGlzLmlkK2UsbltcImJ1aWxkZXItaWRcIl09dGhpcy5pZCxuKSksMCE9PWUmJntcImJ1aWxkZXItaW5kZXhcIjplfSk7QnVpbGRlci5pc0VkaXRpbmcmJnRoaXMuaHlkcmF0ZWQmJihFW1wiYnVpbGRlci1pbmxpbmUtc3R5bGVzXCJdPXYuYXR0ciYmdi5hdHRyLnN0eWxlP09iamVjdC5rZXlzKHYuc3R5bGUpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4oZT9cIlwiLmNvbmNhdChlLFwiO1wiKTpcIlwiKStcIlwiLmNvbmNhdChjc3NDYXNlKHQpLFwiOlwiKS5jb25jYXQodi5zdHlsZVt0XSxcIjtcIil9KSxcIlwiKTpcIlwiKSwoRS5wcm9wZXJ0aWVzJiZFLnByb3BlcnRpZXMuaHJlZnx8RS5ocmVmKSYmXCJkaXZcIj09PXAmJihwPVwiYVwiKSxcImFcIj09PXAmJihwPUxpbmspO3ZhciBSPWMuY2hpbGRyZW58fEUuY2hpbGRyZW58fFtdO3JldHVybiBqc3goUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsbnVsbCxqc3goQ2xhc3NOYW1lcyxudWxsLChmdW5jdGlvbihlKXt2YXIgdD1lLmNzcztpZihlLmN4LCFsLnByb3BzLmVtYWlsTW9kZSl7dmFyIG49XCIgXCIrdChsLmVtb3Rpb25Dc3Modi5yZXNwb25zaXZlU3R5bGVzKSk7RS5jbGFzcyYmKEUuY2xhc3MrPW4pLEUuY2xhc3NOYW1lJiYoRS5jbGFzc05hbWUrPW4pfXJldHVybiBqc3goQnVpbGRlckFzeW5jUmVxdWVzdHNDb250ZXh0LkNvbnN1bWVyLG51bGwsKGZ1bmN0aW9uKGUpe3JldHVybiBsLl9hc3luY1JlcXVlc3RzPWUmJmUucmVxdWVzdHMsbC5fZXJyb3JzPWUmJmUuZXJyb3JzLGwuX2xvZ3M9ZSYmZS5sb2dzLHg/anN4KHAsX19hc3NpZ24oe30sRSkpOmQmJihTfHxsLnByb3BzLmVtYWlsTW9kZSk/anN4KGQsX19hc3NpZ24oe30sXyx7YXR0cmlidXRlczpFLGJ1aWxkZXJCbG9jazpjLGJ1aWxkZXJTdGF0ZTpsLnByaXZhdGVTdGF0ZX0pKTpqc3gocCxfX2Fzc2lnbih7fSxFKSxkJiZqc3goZCxfX2Fzc2lnbih7YnVpbGRlclN0YXRlOmwucHJpdmF0ZVN0YXRlLGJ1aWxkZXJCbG9jazpjfSxfKSksYy50ZXh0fHx2LnRleHQ/di50ZXh0OiFkJiZSJiZBcnJheS5pc0FycmF5KFIpJiZSLmxlbmd0aD9SLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4ganN4KEJ1aWxkZXJCbG9jayx7a2V5OihsLmlkfHxcIlwiKSt0LGJsb2NrOmUsaW5kZXg6dCxzaXplOmwucHJvcHMuc2l6ZSxmaWVsZE5hbWU6bC5wcm9wcy5maWVsZE5hbWUsY2hpbGQ6bC5wcm9wcy5jaGlsZCxlbWFpbE1vZGU6bC5wcm9wcy5lbWFpbE1vZGV9KX0pKTpudWxsKX0pKX0pKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWlsZGVyQmxvY2sucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ibG9jaztyZXR1cm4gZS5pZCYmIWUuaWQuc3RhcnRzV2l0aChcImJ1aWxkZXJcIik/XCJidWlsZGVyLVwiK2UuaWQ6ZS5pZHx8XCJcIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxCdWlsZGVyQmxvY2sucHJvdG90eXBlLmNvbnRlbnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10aGlzLmJsb2NrO2lmKHRoaXMucHJpdmF0ZVN0YXRlPWUsbi5yZXBlYXQmJm4ucmVwZWF0LmNvbGxlY3Rpb24pe3ZhciBpPW4ucmVwZWF0LmNvbGxlY3Rpb24scj1sYXN0KChpfHxcIlwiKS50cmltKCkuc3BsaXQoXCIoXCIpWzBdLnRyaW0oKS5zcGxpdChcIi5cIikpLG89bi5yZXBlYXQuaXRlbU5hbWV8fChyP3IrXCJJdGVtXCI6XCJpdGVtXCIpLGE9dGhpcy5zdHJpbmdUb0Z1bmN0aW9uKGkpKGUuc3RhdGUsbnVsbCxuLGFwaSgpLERldmljZSxudWxsLEJ1aWxkZXIsdGhpcy5wcml2YXRlU3RhdGUuY29udGV4dCk7cmV0dXJuIEFycmF5LmlzQXJyYXkoYSk/YS5tYXAoKGZ1bmN0aW9uKG4saSl7dmFyIHIsYT1fX2Fzc2lnbihfX2Fzc2lnbih7fSxlLnN0YXRlKSwoKHI9eyRpbmRleDppLCRpdGVtOm59KVtvXT1uLHJbXCIkXCIuY29uY2F0KG8sXCJJbmRleFwiKV09aSxyKSk7cmV0dXJuIGpzeChCdWlsZGVyU3RvcmVDb250ZXh0LlByb3ZpZGVyLHtrZXk6aSx2YWx1ZTpfX2Fzc2lnbihfX2Fzc2lnbih7fSxlKSx7c3RhdGU6YX0pfSx0LmdldEVsZW1lbnQoaSxhKSl9KSk6bnVsbH1yZXR1cm4gdGhpcy5nZXRFbGVtZW50KCl9LEJ1aWxkZXJCbG9jay5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5zdGF0ZS5oYXNFcnJvcj9qc3goXCJzcGFuXCIse2Nzczp7ZGlzcGxheTpcImlubGluZS1ibG9ja1wiLHBhZGRpbmc6NSxjb2xvcjpcIiM5OTlcIixmb250U2l6ZToxMSxmb250U3R5bGU6XCJpdGFsaWNcIn19LFwiQnVpbGRlciBibG9jayBlcnJvciA6KCBDaGVjayBjb25zb2xlIGZvciBkZXRhaWxzXCIpOmpzeChCdWlsZGVyU3RvcmVDb250ZXh0LkNvbnN1bWVyLG51bGwsKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNvbnRlbnRzKHQpfSkpfSxCdWlsZGVyQmxvY2t9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksQnVpbGRlckJsb2Nrcz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Lmh5ZHJhdGVkPSExLHQub25DbGlja0VtcHR5QmxvY2tzPWZ1bmN0aW9uKCl7dmFyIGU7QnVpbGRlci5pc0lmcmFtZSYmdC5ub0Jsb2NrcyYmKG51bGw9PT0oZT13aW5kb3cucGFyZW50KXx8dm9pZCAwPT09ZXx8ZS5wb3N0TWVzc2FnZSh7dHlwZTpcImJ1aWxkZXIuY2xpY2tFbXB0eUJsb2Nrc1wiLGRhdGE6e3BhcmVudEVsZW1lbnRJZDp0LnBhcmVudElkLGRhdGFQYXRoOnQucGF0aH19LFwiKlwiKSl9LHQub25Ib3ZlckVtcHR5QmxvY2tzPWZ1bmN0aW9uKCl7dmFyIGU7QnVpbGRlci5pc0VkaXRpbmcmJnQubm9CbG9ja3MmJihudWxsPT09KGU9d2luZG93LnBhcmVudCl8fHZvaWQgMD09PWV8fGUucG9zdE1lc3NhZ2Uoe3R5cGU6XCJidWlsZGVyLmhvdmVyRW1wdHlCbG9ja3NcIixkYXRhOntwYXJlbnRFbGVtZW50SWQ6dC5wYXJlbnRJZCxkYXRhUGF0aDp0LnBhdGh9fSxcIipcIikpfSx0fXJldHVybiBfX2V4dGVuZHModCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc1Jvb3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucHJvcHMuY2hpbGR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibm9CbG9ja3NcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcy5ibG9ja3M7cmV0dXJuIShlJiZlLmxlbmd0aCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGF0aFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLmRhdGFQYXRofHxcIlwiO3JldHVybiBlLnRyaW0oKSYmKGUuc3RhcnRzV2l0aChcInRoaXMuXCIpP2U9ZS5yZXBsYWNlKFwidGhpcy5cIixcIlwiKTplLnN0YXJ0c1dpdGgoXCJjb21wb25lbnQub3B0aW9ucy5cIil8fChlPVwiY29tcG9uZW50Lm9wdGlvbnMuXCIrZSkpLGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicGFyZW50SWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcHMucGFyZW50RWxlbWVudElkP3RoaXMucHJvcHMucGFyZW50RWxlbWVudElkOnRoaXMucHJvcHMucGFyZW50JiZ0aGlzLnByb3BzLnBhcmVudC5pZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3RoaXMuaHlkcmF0ZWQ9ITB9LHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnByb3BzLmJsb2NrcyxuPXRoaXMucHJvcHMuZW1haWxNb2RlP1wic3BhblwiOlwiZGl2XCI7cmV0dXJuIGpzeChuLF9fYXNzaWduKHtjbGFzc05hbWU6XCJidWlsZGVyLWJsb2Nrc1wiKyh0aGlzLm5vQmxvY2tzP1wiIG5vLWJsb2Nrc1wiOlwiXCIpKyh0aGlzLnByb3BzLmNoaWxkP1wiIGJ1aWxkZXItYmxvY2tzLWNoaWxkXCI6XCJcIikrKHRoaXMucHJvcHMuY2xhc3NOYW1lP1wiIFwiK3RoaXMucHJvcHMuY2xhc3NOYW1lOlwiXCIpLFwiYnVpbGRlci10eXBlXCI6XCJibG9ja3NcIixcImJ1aWxkZXItcGF0aFwiOkJ1aWxkZXIuaXNJZnJhbWUmJnRoaXMuaHlkcmF0ZWQ/dGhpcy5wYXRoOnZvaWQgMCxcImJ1aWxkZXItcGFyZW50LWlkXCI6dGhpcy5wYXJlbnRJZCxjc3M6X19hc3NpZ24oX19hc3NpZ24oe30sIXRoaXMucHJvcHMuZW1haWxNb2RlJiZ7ZGlzcGxheTpcImZsZXhcIixmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIsYWxpZ25JdGVtczpcInN0cmV0Y2hcIn0pLHRoaXMucHJvcHMuc3R5bGUpLG9uQ2xpY2s6ZnVuY3Rpb24oKXtlLm5vQmxvY2tzJiZlLm9uQ2xpY2tFbXB0eUJsb2NrcygpfX0sQnVpbGRlci5pc0VkaXRpbmcmJntvbk1vdXNlRW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZS5vbkhvdmVyRW1wdHlCbG9ja3MoKX19KSx0JiZBcnJheS5pc0FycmF5KHQpJiZ0Lm1hcCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdCYmXCJAYnVpbGRlci5pby9zZGs6RWxlbWVudFwiPT09dFtcIkB0eXBlXCJdP2pzeChCdWlsZGVyQmxvY2skMSx7a2V5OnQuaWQsYmxvY2s6dCxpbmRleDpuLGZpZWxkTmFtZTplLnByb3BzLmZpZWxkTmFtZSxjaGlsZDplLnByb3BzLmNoaWxkLGVtYWlsTW9kZTplLnByb3BzLmVtYWlsTW9kZX0pOnR9KSl8fHQpfSx0LnJlbmRlckludG89ZnVuY3Rpb24oZSxuLGkpe2lmKHZvaWQgMD09PW4mJihuPXt9KSxlKXt2YXIgcj1udWxsO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3I9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTplIGluc3RhbmNlb2YgRWxlbWVudCYmKHI9ZSksUmVhY3RET00ucmVuZGVyKGpzeChCdWlsZGVyU3RvcmVDb250ZXh0LlByb3ZpZGVyLHt2YWx1ZTppfSxqc3godCxfX2Fzc2lnbih7fSxuKSkpLHIpfX0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxOb1dyYXA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hpbGRyZW59O2Z1bmN0aW9uIGdldERhdGEoZSl7aWYodm9pZCAwIT09KG51bGw9PWU/dm9pZCAwOmUuZGF0YSkpe3ZhciB0PWUuZGF0YSxuPXQuYmxvY2tzLGk9dC5ibG9ja3NTdHJpbmcscj1BcnJheS5pc0FycmF5KG4pfHxcInN0cmluZ1wiPT10eXBlb2YgaSxvPV9fYXNzaWduKF9fYXNzaWduKHt9LGUuZGF0YSksciYme2Jsb2NrczpufHxKU09OLnBhcnNlKGkpfSk7cmV0dXJuIGRlbGV0ZSBvLmJsb2Nrc1N0cmluZyxvfX12YXIgdmFyaWFudHNTY3JpcHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIlxcbihmdW5jdGlvbigpIHtcXG4gIGlmICh3aW5kb3cuYnVpbGRlck5vVHJhY2sgfHwgIW5hdmlnYXRvci5jb29raWVFbmFibGVkKSB7XFxuICAgIHJldHVybjtcXG4gIH1cXG5cXG4gIHZhciB2YXJpYW50cyA9IFwiLmNvbmNhdChlLFwiO1xcbiAgZnVuY3Rpb24gcmVtb3ZlVmFyaWFudHMoKSB7XFxuICAgIHZhcmlhbnRzLmZvckVhY2goZnVuY3Rpb24gKHRlbXBsYXRlKSB7XFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGVtcGxhdGVbZGF0YS10ZW1wbGF0ZS12YXJpYW50LWlkPVxcXCInICsgdGVtcGxhdGUuaWQgKyAnXFxcIl0nKS5yZW1vdmUoKTtcXG4gICAgfSk7XFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YXJpYW50cy1zY3JpcHQtXCIpLmNvbmNhdCh0LCdcXCcpLnJlbW92ZSgpO1xcbiAgfVxcblxcbiAgaWYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIikuY29udGVudCA9PT0gXFwndW5kZWZpbmVkXFwnKSB7XFxuICAgIHJlbW92ZVZhcmlhbnRzKCk7XFxuICAgIHJldHVybiA7XFxuICB9XFxuXFxuICBmdW5jdGlvbiBzZXRDb29raWUobmFtZSx2YWx1ZSxkYXlzKSB7XFxuICAgIHZhciBleHBpcmVzID0gXCJcIjtcXG4gICAgaWYgKGRheXMpIHtcXG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcXG4gICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIChkYXlzKjI0KjYwKjYwKjEwMDApKTtcXG4gICAgICAgIGV4cGlyZXMgPSBcIjsgZXhwaXJlcz1cIiArIGRhdGUudG9VVENTdHJpbmcoKTtcXG4gICAgfVxcbiAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9XCIgKyAodmFsdWUgfHwgXCJcIikgICsgZXhwaXJlcyArIFwiOyBwYXRoPS9cIiArIFwiOyBTZWN1cmU7IFNhbWVTaXRlPU5vbmVcIjtcXG4gIH1cXG5cXG4gIGZ1bmN0aW9uIGdldENvb2tpZShuYW1lKSB7XFxuICAgIHZhciBuYW1lRVEgPSBuYW1lICsgXCI9XCI7XFxuICAgIHZhciBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdChcXCc7XFwnKTtcXG4gICAgZm9yKHZhciBpPTA7aSA8IGNhLmxlbmd0aDtpKyspIHtcXG4gICAgICAgIHZhciBjID0gY2FbaV07XFxuICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCk9PVxcJyBcXCcpIGMgPSBjLnN1YnN0cmluZygxLGMubGVuZ3RoKTtcXG4gICAgICAgIGlmIChjLmluZGV4T2YobmFtZUVRKSA9PSAwKSByZXR1cm4gYy5zdWJzdHJpbmcobmFtZUVRLmxlbmd0aCxjLmxlbmd0aCk7XFxuICAgIH1cXG4gICAgcmV0dXJuIG51bGw7XFxuICB9XFxuICB2YXIgY29va2llTmFtZSA9IFxcJ2J1aWxkZXIudGVzdHMuJykuY29uY2F0KHQsXCInO1xcbiAgdmFyIHZhcmlhbnRJbkNvb2tpZSA9IGdldENvb2tpZShjb29raWVOYW1lKTtcXG4gIHZhciBhdmFpbGFibGVJRHMgPSB2YXJpYW50cy5tYXAoZnVuY3Rpb24odnIpIHsgcmV0dXJuIHZyLmlkIH0pLmNvbmNhdCgnXCIpLmNvbmNhdCh0LFwiJyk7XFxuICB2YXIgdmFyaWFudElkO1xcbiAgaWYgKGF2YWlsYWJsZUlEcy5pbmRleE9mKHZhcmlhbnRJbkNvb2tpZSkgPiAtMSkge1xcbiAgICB2YXJpYW50SWQgPSB2YXJpYW50SW5Db29raWU7XFxuICB9XFxuICBpZiAoIXZhcmlhbnRJZCkge1xcbiAgICB2YXIgbiA9IDA7XFxuICAgIHZhciByYW5kb20gPSBNYXRoLnJhbmRvbSgpO1xcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcmlhbnRzLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgdmFyIHZhcmlhbnQgPSB2YXJpYW50c1tpXTtcXG4gICAgICB2YXIgdGVzdFJhdGlvID0gdmFyaWFudC50ZXN0UmF0aW87XFxuICAgICAgbiArPSB0ZXN0UmF0aW87XFxuICAgICAgaWYgKHJhbmRvbSA8IG4pIHtcXG4gICAgICAgIHNldENvb2tpZShjb29raWVOYW1lLCB2YXJpYW50LmlkKTtcXG4gICAgICAgIHZhcmlhbnRJZCA9IHZhcmlhbnQuaWQ7XFxuICAgICAgICBicmVhaztcXG4gICAgICB9XFxuICAgIH1cXG4gICAgaWYgKCF2YXJpYW50SWQpIHtcXG4gICAgICB2YXJpYW50SWQgPSBcXFwiXCIpLmNvbmNhdCh0LCdcIjtcXG4gICAgICBzZXRDb29raWUoY29va2llTmFtZSwgXCInKS5jb25jYXQodCwnXCIpO1xcbiAgICB9XFxuICB9XFxuICBpZiAodmFyaWFudElkICYmIHZhcmlhbnRJZCAhPT0gXCInKS5jb25jYXQodCxcIlxcXCIpIHtcXG4gICAgdmFyIHdpbm5pbmdUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlW2RhdGEtdGVtcGxhdGUtdmFyaWFudC1pZD1cXFwiJyArIHZhcmlhbnRJZCArICdcXFwiXScpO1xcbiAgICBpZiAod2lubmluZ1RlbXBsYXRlKSB7XFxuICAgICAgdmFyIHBhcmVudE5vZGUgPSB3aW5uaW5nVGVtcGxhdGUucGFyZW50Tm9kZTtcXG4gICAgICB2YXIgbmV3UGFyZW50ID0gcGFyZW50Tm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xcbiAgICAgIG5ld1BhcmVudC5hcHBlbmRDaGlsZCh3aW5uaW5nVGVtcGxhdGUuY29udGVudC5maXJzdENoaWxkKTtcXG4gICAgICBwYXJlbnROb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld1BhcmVudCwgcGFyZW50Tm9kZSk7XFxuICAgIH1cXG4gIH0gZWxzZSBpZiAodmFyaWFudHMubGVuZ3RoID4gMCkge1xcbiAgICByZW1vdmVWYXJpYW50cygpO1xcbiAgfVxcbn0pKClcIikucmVwbGFjZSgvXFxzKy9nLFwiIFwiKX0sVmFyaWFudHNQcm92aWRlcj1mdW5jdGlvbihlKXt2YXIgdD1lLmluaXRpYWxDb250ZW50LG49ZS5jaGlsZHJlbixpPWUubm9uY2U7aWYoQnVpbGRlci5pc0Jyb3dzZXImJiFidWlsZGVyLmNhblRyYWNrKXJldHVybiBuKFt0XSk7aWYoIUJvb2xlYW4oT2JqZWN0LmtleXMoKG51bGw9PXQ/dm9pZCAwOnQudmFyaWF0aW9ucyl8fHt9KS5sZW5ndGgpKXJldHVybiBuKFt0XSk7dmFyIHI9T2JqZWN0LmtleXModC52YXJpYXRpb25zKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7aWQ6ZX0sdC52YXJpYXRpb25zW2VdKSx7ZGF0YTpnZXREYXRhKHQudmFyaWF0aW9uc1tlXSl9KX0pKSxvPV9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSxyLCEwKSxbdF0sITEpO2lmKEJ1aWxkZXIuaXNTZXJ2ZXIpe3ZhciBhPUpTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKHQudmFyaWF0aW9uc3x8e30pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2lkOmUsdGVzdFJhdGlvOnQudmFyaWF0aW9uc1tlXS50ZXN0UmF0aW99fSkpKTtyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCxudWxsLG4obywoZnVuY3Rpb24oKXtyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiLHtub25jZTppLGlkOlwidmFyaWFudHMtc2NyaXB0LVwiLmNvbmNhdCh0LmlkKSxkYW5nZXJvdXNseVNldElubmVySFRNTDp7X19odG1sOnZhcmlhbnRzU2NyaXB0KGEsdC5pZCl9fSl9KSkpfXZhciBzPVwiYnVpbGRlci50ZXN0cy5cIi5jb25jYXQodC5pZCksbD1idWlsZGVyLmdldENvb2tpZShzKTtpZighbCYmQnVpbGRlci5pc0Jyb3dzZXIpZm9yKHZhciB1PTAsZD1NYXRoLnJhbmRvbSgpLGM9MDtjPHIubGVuZ3RoO2MrKyl7dmFyIHA9cltjXTtpZihkPCh1Kz1wLnRlc3RSYXRpbykpe2J1aWxkZXIuc2V0Q29va2llKHMscC5pZCksbD1wLmlkO2JyZWFrfX1yZXR1cm4gbHx8KGw9dC5pZCxidWlsZGVyLnNldENvb2tpZShzLGwpKSxuKFtvLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09bH0pKV0pfSxCdWlsZGVyQ29udGVudD1mdW5jdGlvbihfc3VwZXIpe2Z1bmN0aW9uIEJ1aWxkZXJDb250ZW50KCl7dmFyIF90aGlzPW51bGwhPT1fc3VwZXImJl9zdXBlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIF90aGlzLnJlZj1udWxsLF90aGlzLnN0YXRlPXtsb2FkaW5nOiFfdGhpcy5wcm9wcy5jb250ZW50LGRhdGE6Z2V0Q29udGVudFdpdGhJbmZvKF90aGlzLnByb3BzLmNvbnRlbnQpLHVwZGF0ZXM6MX0sX3RoaXMub25XaW5kb3dNZXNzYWdlPWZ1bmN0aW9uKGV2ZW50KXt2YXIgX2EsX2IsaXNUcnVzdGVkPUJ1aWxkZXIuaXNUcnVzdGVkSG9zdEZvckV2ZW50KGV2ZW50KTtpZihpc1RydXN0ZWQpe3ZhciBtZXNzYWdlPWV2ZW50LmRhdGE7aWYobWVzc2FnZSlzd2l0Y2gobWVzc2FnZS50eXBlKXtjYXNlXCJidWlsZGVyLnBhdGNoVXBkYXRlc1wiOmlmKG51bGw9PT0oX2E9X3RoaXMucHJvcHMub3B0aW9ucyl8fHZvaWQgMD09PV9hP3ZvaWQgMDpfYS5ub0VkaXRvclVwZGF0ZXMpcmV0dXJuO3ZhciBkYXRhPW1lc3NhZ2UuZGF0YTtpZighZGF0YXx8IWRhdGEuZGF0YSlicmVhazt2YXIgcGF0Y2hlcz1kYXRhLmRhdGFbbnVsbD09PShfYj1fdGhpcy5zdGF0ZS5kYXRhKXx8dm9pZCAwPT09X2I/dm9pZCAwOl9iLmlkXTtpZighcGF0Y2hlc3x8IXBhdGNoZXMubGVuZ3RoKXJldHVybjtsb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiYnVpbGRlci5kZWJ1Zz10cnVlXCIpJiZldmFsKFwiZGVidWdnZXJcIik7Zm9yKHZhciBuZXdEYXRhPV90aGlzLnN0YXRlLmRhdGEsX2k9MCxwYXRjaGVzXzE9cGF0Y2hlcztfaTxwYXRjaGVzXzEubGVuZ3RoO19pKyspe3ZhciBwYXRjaD1wYXRjaGVzXzFbX2ldO25ld0RhdGE9YXBwbHlQYXRjaFdpdGhNaW5pbWFsTXV0YXRpb25DaGFpbihuZXdEYXRhLHBhdGNoLCExKX1fdGhpcy5zZXRTdGF0ZSh7dXBkYXRlczpfdGhpcy5zdGF0ZS51cGRhdGVzKzEsZGF0YTpuZXdEYXRhfSksX3RoaXMucHJvcHMuY29udGVudExvYWRlZCYmX3RoaXMucHJvcHMuY29udGVudExvYWRlZChuZXdEYXRhLmRhdGEsbmV3RGF0YSl9fX0sX3RoaXMuc3Vic2NyaXB0aW9ucz1uZXcgU3Vic2NyaXB0aW9uLF90aGlzLmZpcnN0TG9hZD0hMCxfdGhpcy5jbGlja2VkPSExLF90aGlzLnRyYWNrZWRJbXByZXNzaW9uPSExLF90aGlzLmludGVyc2VjdGlvbk9ic2VydmVyPW51bGwsX3RoaXMub25DbGljaz1mdW5jdGlvbihlKXt2YXIgdD1lLm5hdGl2ZUV2ZW50LG49X3RoaXMuZGF0YTtuJiYoYnVpbGRlci5hdXRvVHJhY2smJl90aGlzLmJ1aWxkZXIudHJhY2tJbnRlcmFjdGlvbihuLmlkLF90aGlzLnJlbmRlcmVkVmFyaWFudElkLF90aGlzLmNsaWNrZWQsdCx7Y29udGVudDpufSksX3RoaXMuY2xpY2tlZHx8KF90aGlzLmNsaWNrZWQ9ITApKX0sX3RoaXN9cmV0dXJuIF9fZXh0ZW5kcyhCdWlsZGVyQ29udGVudCxfc3VwZXIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWlsZGVyQ29udGVudC5wcm90b3R5cGUsXCJidWlsZGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLmJ1aWxkZXJ8fGJ1aWxkZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1aWxkZXJDb250ZW50LnByb3RvdHlwZSxcIm5hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcztyZXR1cm5cIm1vZGVsXCJpbiBlP2UubW9kZWw6ZS5tb2RlbE5hbWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1aWxkZXJDb250ZW50LnByb3RvdHlwZSxcInJlbmRlcmVkVmFyaWFudElkXCIse2dldDpmdW5jdGlvbigpe3ZhciBlLHQsbj10aGlzLnByb3BzLmlzU3RhdGljP3RoaXMuYnVpbGRlci5nZXRDb29raWUoXCJidWlsZGVyLnRlc3RzLlwiLmNvbmNhdChudWxsPT09KGU9dGhpcy5kYXRhKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pZCkpOm51bGw9PT0odD10aGlzLmRhdGEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnZhcmlhdGlvbklkO2lmKG51bGwhPT1uKXJldHVybiBufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWlsZGVyQ29udGVudC5wcm90b3R5cGUsXCJvcHRpb25zXCIse2dldDpmdW5jdGlvbigpe3ZhciBlLHQsbj1fX2Fzc2lnbih7fSx0aGlzLnByb3BzLm9wdGlvbnN8fHt9KTtyZXR1cm4gbi5rZXl8fCEobnVsbD09PShlPXRoaXMucHJvcHMuY29udGVudCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaWQpfHxCdWlsZGVyLmlzRWRpdGluZ3x8QnVpbGRlci5pc1ByZXZpZXdpbmd8fChuLmtleT10aGlzLnByb3BzLmNvbnRlbnQuaWQpLCF0aGlzLnByb3BzLmNvbnRlbnR8fChudWxsPT09KHQ9bi5pbml0aWFsQ29udGVudCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubGVuZ3RoKXx8IXRoaXMucHJvcHMuaW5saW5lJiZCdWlsZGVyLmlzUHJldmlld2luZ3x8KG4uaW5pdGlhbENvbnRlbnQ9W3RoaXMucHJvcHMuY29udGVudF0pLG59LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1aWxkZXJDb250ZW50LnByb3RvdHlwZSxcImRhdGFcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9KHRoaXMucHJvcHMuaW5saW5lfHwhQnVpbGRlci5pc0Jyb3dzZXJ8fHRoaXMuZmlyc3RMb2FkKSYmdGhpcy5vcHRpb25zLmluaXRpYWxDb250ZW50JiZ0aGlzLm9wdGlvbnMuaW5pdGlhbENvbnRlbnRbMF18fHRoaXMuc3RhdGUuZGF0YTtyZXR1cm4gZ2V0Q29udGVudFdpdGhJbmZvKGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLEJ1aWxkZXJDb250ZW50LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3ZhciBlLHQ7aWYoIXRoaXMucHJvcHMuaW5saW5lfHxCdWlsZGVyLmlzRWRpdGluZ3x8QnVpbGRlci5pc1ByZXZpZXdpbmcpdGhpcy5zdWJzY3JpYmVUb0NvbnRlbnQoKTtlbHNlIGlmKHRoaXMucHJvcHMuaW5saW5lJiYobnVsbD09PSh0PW51bGw9PT0oZT10aGlzLm9wdGlvbnMpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmluaXRpYWxDb250ZW50KXx8dm9pZCAwPT09dD92b2lkIDA6dC5sZW5ndGgpKXt2YXIgbj10aGlzLm9wdGlvbnMuaW5pdGlhbENvbnRlbnRbMF07KG51bGw9PW4/dm9pZCAwOm4uaWQpJiYodGhpcy5idWlsZGVyLmNvbnRlbnRJZD1uLmlkLHRoaXMuYnVpbGRlci50cmFja0ltcHJlc3Npb24obi5pZCx0aGlzLnJlbmRlcmVkVmFyaWFudElkLHZvaWQgMCx7Y29udGVudDpufSkpfUJ1aWxkZXIuaXNFZGl0aW5nJiZhZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMub25XaW5kb3dNZXNzYWdlKX0sQnVpbGRlckNvbnRlbnQucHJvdG90eXBlLnN1YnNjcmliZVRvQ29udGVudD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7XCJfaW5saW5lXCIhPT10aGlzLm5hbWUmJnRoaXMuc3Vic2NyaXB0aW9ucy5hZGQodGhpcy5idWlsZGVyLnF1ZXVlR2V0Q29udGVudCh0aGlzLm5hbWUsdGhpcy5vcHRpb25zKS5zdWJzY3JpYmUoKGZ1bmN0aW9uKHQpe3ZhciBuPXQmJnRbMF07ZS5zZXRTdGF0ZSh7ZGF0YTpuLGxvYWRpbmc6ITF9KTt2YXIgaT0oZS5idWlsZGVyLmVkaXRpbmdNb2RlbHx8ZS5idWlsZGVyLnByZXZpZXdpbmdNb2RlbCk9PT1lLm5hbWU7aWYoIWUucHJvcHMuaW5saW5lJiZlLnByb3BzLmNvbnRlbnQmJmUuZmlyc3RMb2FkJiZpJiYoZS5maXJzdExvYWQ9ITEsZS5zdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKCksZS5zdWJzY3JpYmVUb0NvbnRlbnQoKSksbiYmZS5maXJzdExvYWQmJihlLmZpcnN0TG9hZD0hMSxidWlsZGVyLmF1dG9UcmFjayYmIUJ1aWxkZXIuaXNFZGl0aW5nKSl7dmFyIHI9ITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXImJmUucmVmKXRyeXsoZS5pbnRlcnNlY3Rpb25PYnNlcnZlcj1uZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKHQsaSl7dC5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmludGVyc2VjdGlvblJhdGlvPjAmJiFlLnRyYWNrZWRJbXByZXNzaW9uJiYoZS5idWlsZGVyLnRyYWNrSW1wcmVzc2lvbihuLmlkLGUucmVuZGVyZWRWYXJpYW50SWQsdm9pZCAwLHtjb250ZW50OmUuZGF0YX0pLGUuZGF0YSxlLnRyYWNrZWRJbXByZXNzaW9uPSEwLGUucmVmJiZpLnVub2JzZXJ2ZShlLnJlZikpfSkpfSkpKS5vYnNlcnZlKGUucmVmKSxyPSEwfWNhdGNoKGUpe2NvbnNvbGUud2FybihcIkNvdWxkIG5vdCBiaW5kIGludGVyc2VjdGlvbiBvYnNlcnZlclwiKX1yfHwoZS50cmFja2VkSW1wcmVzc2lvbj0hMCxlLmJ1aWxkZXIudHJhY2tJbXByZXNzaW9uKG4uaWQsZS5yZW5kZXJlZFZhcmlhbnRJZCx2b2lkIDAse2NvbnRlbnQ6bn0pKX1lLnByb3BzLmNvbnRlbnRMb2FkZWQmJmUucHJvcHMuY29udGVudExvYWRlZChuJiZuLmRhdGEsbil9KSwoZnVuY3Rpb24odCl7ZS5wcm9wcy5jb250ZW50RXJyb3ImJihlLnByb3BzLmNvbnRlbnRFcnJvcih0KSxlLnNldFN0YXRlKHtsb2FkaW5nOiExfSkpfSkpKX0sQnVpbGRlckNvbnRlbnQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7QnVpbGRlci5pc0VkaXRpbmcmJnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5vbldpbmRvd01lc3NhZ2UpLHRoaXMuc3Vic2NyaXB0aW9ucy51bnN1YnNjcmliZSgpLHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXImJnRoaXMucmVmJiZ0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnJlZil9LEJ1aWxkZXJDb250ZW50LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMucHJvcHMuZGF0YU9ubHkpcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5zdGF0ZS5sb2FkaW5nLG49dGhpcy5kYXRhLGk9dGhpcy5wcm9wcy5kYXRhT25seT9Ob1dyYXA6XCJkaXZcIjtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChWYXJpYW50c1Byb3ZpZGVyLHtpbml0aWFsQ29udGVudDpuLG5vbmNlOnRoaXMucHJvcHMubm9uY2V9LChmdW5jdGlvbihyLG8pe3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LG51bGwsci5tYXAoKGZ1bmN0aW9uKGEscyl7dmFyIGw9cz09PXIubGVuZ3RoLTE/UmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQ6XCJ0ZW1wbGF0ZVwiO3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LHtrZXk6U3RyaW5nKChudWxsPT1hP3ZvaWQgMDphLmlkKStzKX0sXCJ0ZW1wbGF0ZVwiIT09bCYmKG51bGw9PW8/dm9pZCAwOm8oKSksUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChsLF9fYXNzaWduKHtrZXk6U3RyaW5nKChudWxsPT1hP3ZvaWQgMDphLmlkKStzKX0sXCJ0ZW1wbGF0ZVwiPT09bCYme1wiZGF0YS10ZW1wbGF0ZS12YXJpYW50LWlkXCI6bnVsbD09YT92b2lkIDA6YS5pZH0pLFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoaSxfX2Fzc2lnbih7fSwwPT09cyYmIWUucHJvcHMuZGF0YU9ubHkmJntyZWY6ZnVuY3Rpb24odCl7cmV0dXJuIGUucmVmPXR9fSx7Y2xhc3NOYW1lOlwiYnVpbGRlci1jb250ZW50XCIsb25DbGljazplLm9uQ2xpY2ssXCJidWlsZGVyLWNvbnRlbnQtaWRcIjpudWxsPT1hP3ZvaWQgMDphLmlkLFwiYnVpbGRlci1tb2RlbFwiOmUubmFtZX0pLGUucHJvcHMuY2hpbGRyZW4obnVsbD09YT92b2lkIDA6YS5kYXRhLCFlLnByb3BzLmlubGluZSYmdCxuKSkpKX0pKSl9KSl9LEJ1aWxkZXJDb250ZW50fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLGdldENvbnRlbnRXaXRoSW5mbz1mdW5jdGlvbihlKXt2YXIgdDtpZihlKXt2YXIgbj1idWlsZGVyLmdldENvb2tpZShcImJ1aWxkZXIudGVzdHMuXCIuY29uY2F0KGUuaWQpKSxpPW49PT1lLmlkP2U6bnVsbD09PSh0PWUudmFyaWF0aW9ucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnRbbl0scj0obnVsbD09aT92b2lkIDA6aS5uYW1lKXx8KChudWxsPT1pP3ZvaWQgMDppLmlkKT09PWUuaWQ/XCJEZWZhdWx0IHZhcmlhdGlvblwiOlwiXCIpO3JldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSxlKSx7dmFyaWF0aW9uSWQ6bix0ZXN0VmFyaWF0aW9uSWQ6bix0ZXN0VmFyaWF0aW9uTmFtZTpyfSl9cmV0dXJuIG51bGx9O2Z1bmN0aW9uIHVud3JhcEV4cG9ydHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZWZhdWx0XCIpP2UuZGVmYXVsdDplfWZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGUsdCl7cmV0dXJuIGUodD17ZXhwb3J0czp7fX0sdC5leHBvcnRzKSx0LmV4cG9ydHN9dmFyIG9uQ2hhbmdlXzE9Y3JlYXRlQ29tbW9uanNNb2R1bGUoKGZ1bmN0aW9uKGUsdCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49U3ltYm9sKFwidGFyZ2V0XCIpLGk9U3ltYm9sKFwidW5zdWJzY3JpYmVcIikscj1mdW5jdGlvbihlLHQpe3JldHVybiB0JiZ0LnRvU3RyaW5nJiYoZSYmKGUrPVwiLlwiKSxlKz10LnRvU3RyaW5nKCkpLGV9LG89ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5zbGljZSgpOk9iamVjdC5hc3NpZ24oe30sZSl9LGE9ZnVuY3Rpb24oZSx0LGEpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4gZTt2b2lkIDA9PT1hJiYoYT17fSk7dmFyIHMsbCx1PVN5bWJvbChcIlByb3h5VGFyZ2V0XCIpLGQ9ITEsYz0hMSxwPSExLGY9YS5lcXVhbHN8fE9iamVjdC5pcyxtPW5ldyBXZWFrTWFwLGg9bmV3IFdlYWtNYXAsdj1uZXcgV2Vha01hcCxnPWZ1bmN0aW9uKGUsbixpLGEpe2lmKCFwKWlmKGQpe2lmKGQmJmwmJnZvaWQgMCE9PWkmJnZvaWQgMCE9PWEmJlwibGVuZ3RoXCIhPT1uKXt2YXIgdT1sO2UhPT1zJiZmdW5jdGlvbihlLHQpe2Zvcih2YXIgbjtlOyktMT09PShuPWUuaW5kZXhPZihcIi5cIikpJiYobj1lLmxlbmd0aCksdChlLnNsaWNlKDAsbikpLGU9ZS5zbGljZShuKzEpfShlPWUucmVwbGFjZShzLFwiXCIpLnNsaWNlKDEpLChmdW5jdGlvbihlKXt1W2VdPW8odVtlXSksdT11W2VdfSkpLHVbbl09aX1jPSEwfWVsc2UgdChyKGUsbiksYSxpKX0sYj1mdW5jdGlvbihlLHQpe3ZhciBuPW0/bS5nZXQoZSk6dm9pZCAwO24mJm4uZGVsZXRlKHQpfSx5PWZ1bmN0aW9uKGUsdCl7aWYocClyZXR1cm4gZTtoLnNldChlLHQpO3ZhciBuPXYuZ2V0KGUpO3JldHVybiB2b2lkIDA9PT1uJiYobj1uZXcgUHJveHkoZSx4KSx2LnNldChlLG4pKSxufSxfPWZ1bmN0aW9uKGUpe3JldHVybiBwfHwhMD09PWEuaWdub3JlU3ltYm9scyYmXCJzeW1ib2xcIj09dHlwZW9mIGV9LHg9e2dldDpmdW5jdGlvbihlLHQsbyl7aWYodD09PXV8fHQ9PT1uKXJldHVybiBlO2lmKHQ9PT1pJiZcIlwiPT09aC5nZXQoZSkpcmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBwPSEwLG09bnVsbCxoPW51bGwsdj1udWxsLGV9KGUpO3ZhciBzPVJlZmxlY3QuZ2V0KGUsdCxvKTtpZihmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlfShzKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBSZWdFeHB8fGUgaW5zdGFuY2VvZiBOdW1iZXJ9KHMpfHxcImNvbnN0cnVjdG9yXCI9PT10fHwhMD09PWEuaXNTaGFsbG93KXJldHVybiBzO3ZhciBsPWZ1bmN0aW9uKGUsdCl7dmFyIG49bT9tLmdldChlKTp2b2lkIDA7aWYobilyZXR1cm4gbjtuPW5ldyBNYXAsbS5zZXQoZSxuKTt2YXIgaT1uLmdldCh0KTtyZXR1cm4gaXx8KGk9UmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KSxuLnNldCh0LGkpKSxpfShlLHQpO2lmKGwmJiFsLmNvbmZpZ3VyYWJsZSl7aWYobC5zZXQmJiFsLmdldClyZXR1cm47aWYoITE9PT1sLndyaXRhYmxlKXJldHVybiBzfXJldHVybiB5KHMscihoLmdldChlKSx0KSl9LHNldDpmdW5jdGlvbihlLHQsbixpKXtuJiZ2b2lkIDAhPT1uW3VdJiYobj1uW3VdKTt2YXIgcj1fKHQpLG89cj9udWxsOlJlZmxlY3QuZ2V0KGUsdCxpKSxhPVJlZmxlY3Quc2V0KGVbdV18fGUsdCxuKTtyZXR1cm4gcnx8ZihvLG4pfHxnKGguZ2V0KGUpLHQsbyxuKSxhfSxkZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQsbil7dmFyIGk9UmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsbik7cmV0dXJuIF8odCl8fChiKGUsdCksZyhoLmdldChlKSx0LHZvaWQgMCxuLnZhbHVlKSksaX0sZGVsZXRlUHJvcGVydHk6ZnVuY3Rpb24oZSx0KXtpZighUmVmbGVjdC5oYXMoZSx0KSlyZXR1cm4hMDt2YXIgbj1fKHQpLGk9bj9udWxsOlJlZmxlY3QuZ2V0KGUsdCkscj1SZWZsZWN0LmRlbGV0ZVByb3BlcnR5KGUsdCk7cmV0dXJuIG58fChiKGUsdCksZyhoLmdldChlKSx0LGkpKSxyfSxhcHBseTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dCBpbnN0YW5jZW9mIERhdGU7aWYoaSYmKHQ9dFt1XSksIWQpe2Q9ITAsaSYmKGw9dC52YWx1ZU9mKCkpLChBcnJheS5pc0FycmF5KHQpfHxcIltvYmplY3QgT2JqZWN0XVwiPT09dG9TdHJpbmcuY2FsbCh0KSkmJihsPW8odFt1XSkpLHM9KHM9aC5nZXQoZSkpLnNsaWNlKDAsTWF0aC5tYXgocy5sYXN0SW5kZXhPZihcIi5cIiksMCkpO3ZhciByPVJlZmxlY3QuYXBwbHkoZSx0LG4pO3JldHVybiBkPSExLChjfHxpJiYhZihsLHQudmFsdWVPZigpKSkmJihnKHMsXCJcIixsLHRbdV18fHQpLGw9bnVsbCxjPSExKSxyfXJldHVybiBSZWZsZWN0LmFwcGx5KGUsdCxuKX19LFM9eShlLFwiXCIpO3JldHVybiB0PXQuYmluZChTKSxTfTthLnRhcmdldD1mdW5jdGlvbihlKXtyZXR1cm4gZVtuXXx8ZX0sYS51bnN1YnNjcmliZT1mdW5jdGlvbihlKXtyZXR1cm4gZVtpXXx8ZX0sZS5leHBvcnRzPWEsdC5kZWZhdWx0PWF9KSksb25DaGFuZ2U9dW53cmFwRXhwb3J0cyhvbkNoYW5nZV8xKSxuZXh0VGljaz1CdWlsZGVyLm5leHRUaWNrO2Z1bmN0aW9uIGRlYm91bmNlTmV4dFRpY2soZSx0LG4pe3JldHVybiB2b2lkIDA9PT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2RlYm91bmNlTmV4dFRpY2tJbXBsKGUpOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTpuLmVudW1lcmFibGUsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHQse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOm4uZW51bWVyYWJsZSx2YWx1ZTpkZWJvdW5jZU5leHRUaWNrSW1wbChuLnZhbHVlKX0pLHRoaXNbdF19fX1mdW5jdGlvbiBkZWJvdW5jZU5leHRUaWNrSW1wbChlKXt2YXIgdD1udWxsLG49bnVsbDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10O2lmKHQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpLG49dGhpcyxudWxsIT09ZSlyZXR1cm47bmV4dFRpY2soaSl9O2Z1bmN0aW9uIGkoKXtlLmFwcGx5KG4sdCksdD1udWxsLG49bnVsbH19ZnVuY3Rpb24gdGhyb3R0bGUoZSx0LG4pe3ZhciBpLHIsbzt2b2lkIDA9PT1uJiYobj17fSk7dmFyIGE9bnVsbCxzPTAsbD1mdW5jdGlvbigpe3M9ITE9PT1uLmxlYWRpbmc/MDpEYXRlLm5vdygpLGE9bnVsbCxvPWUuYXBwbHkoaSxyKSxhfHwoaT1yPW51bGwpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdT1EYXRlLm5vdygpO3N8fCExIT09bi5sZWFkaW5nfHwocz11KTt2YXIgZD10LSh1LXMpO3JldHVybiBpPXRoaXMscj1hcmd1bWVudHMsZDw9MHx8ZD50PyhhJiYoY2xlYXJUaW1lb3V0KGEpLGE9bnVsbCkscz11LG89ZS5hcHBseShpLHIpLGF8fChpPXI9bnVsbCkpOmF8fCExPT09bi50cmFpbGluZ3x8KGE9c2V0VGltZW91dChsLGQpKSxvfX12YXIgQnVpbGRlck1ldGFDb250ZXh0PVJlYWN0X19kZWZhdWx0LmNyZWF0ZUNvbnRleHQoe2VtYWlsTW9kZTohMSxhbXBNb2RlOiExLGlzU2VydmVyOiExfSksdHJ5RXZhbD1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciBpPWU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkmJmkudHJpbSgpKXt2YXIgcj0hKGkuaW5jbHVkZXMoXCI7XCIpfHxpLmluY2x1ZGVzKFwiIHJldHVybiBcIikpLG89ZnVuY3Rpb24oKXt9O3RyeXtCdWlsZGVyLmlzQnJvd3NlciYmKG89bmV3IEZ1bmN0aW9uKFwic3RhdGVcIixcInZhciByb290U3RhdGUgPSBzdGF0ZTtcXG4gICAgICAgIGlmICh0eXBlb2YgUHJveHkgIT09ICd1bmRlZmluZWQnKSB7XFxuICAgICAgICAgIHJvb3RTdGF0ZSA9IG5ldyBQcm94eShyb290U3RhdGUsIHtcXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7XFxuICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnc3RhdGUnKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfSk7XFxuICAgICAgICB9XFxuICAgICAgICB3aXRoIChyb290U3RhdGUpIHtcXG4gICAgICAgICAgXCIuY29uY2F0KHI/XCJyZXR1cm4gKFwiLmNvbmNhdChlLFwiKTtcIik6ZSxcIjtcXG4gICAgICAgIH1cIikpKX1jYXRjaChlKXtCdWlsZGVyLmlzQnJvd3NlciYmY29uc29sZS53YXJuKFwiQ291bGQgbm90IGNvbXBpbGUgamF2YXNjcmlwdFwiLGUpfXRyeXtpZihCdWlsZGVyLmlzQnJvd3Nlcnx8c2hvdWxkRm9yY2VCcm93c2VyUnVudGltZUluTm9kZSgpKXJldHVybiBvKHR8fHt9KTt2YXIgYT1zYWZlRHluYW1pY1JlcXVpcmUoXCJpc29sYXRlZC12bVwiKSxzPWdldElzb2xhdGVDb250ZXh0KCk7T2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2VcInN0YXRlXCI6Y2FzZVwiZ2xvYmFsXCI6Y2FzZVwibG9nXCI6Y29uc29sZS53YXJuKFwiTm90IHNldHRpbmcgc3RhdGUuXCIuY29uY2F0KGUsXCIgYXMgZ2xvYmFsIFwiKS5jb25jYXQoZSxcIiBpbiBpc29sYXRlZCB2bVwiKSk7YnJlYWs7ZGVmYXVsdDppZih2b2lkIDA9PT10W2VdKXJldHVybjt0cnl7XCJvYmplY3RcIj09dHlwZW9mIHRbZV0mJm51bGwhPT10W2VdP3MuZ2xvYmFsLnNldFN5bmMoZSxuZXcgYS5FeHRlcm5hbENvcHkodFtlXSkuY29weUludG8oKSk6cy5nbG9iYWwuc2V0U3luYyhlLHRbZV0pfWNhdGNoKHQpe2NvbnNvbGUud2FybihcIkNvdWxkIG5vdCBzZXQgXCIuY29uY2F0KGUsXCIgZm9yIGlzb2xhdGVkLXZtOlwiKSx0KX19fSkpO3ZhciBsPW1ha2VGbihlLHIsW1wic3RhdGVcIl0pLHU9cy5ldmFsQ2xvc3VyZVN5bmMobCxbbmV3IGEuUmVmZXJlbmNlKHR8fHt9KV0pO3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh1KX1jYXRjaChlKXtyZXR1cm4gdX19Y2F0Y2godCl7biYmbi5wdXNoKHQpLEJ1aWxkZXIuaXNCcm93c2VyP2NvbnNvbGUud2FybihcIkJ1aWxkZXIgY3VzdG9tIGNvZGUgZXJyb3I6XCIsdC5tZXNzYWdlLFwiaW5cIixlLHQuc3RhY2spOmlzRGVidWcoKSYmY29uc29sZS5kZWJ1ZyhcIkJ1aWxkZXIgY3VzdG9tIGNvZGUgZXJyb3I6XCIsdC5tZXNzYWdlLFwiaW5cIixlLHQuc3RhY2spfWZpbmFsbHl7aWYoIUJ1aWxkZXIuaXNCcm93c2VyJiYhc2hvdWxkRm9yY2VCcm93c2VyUnVudGltZUluTm9kZSgpKXt2YXIgZD1nZXRJc29sYXRlQ29udGV4dCgpO09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlXCJzdGF0ZVwiOmNhc2VcImdsb2JhbFwiOmNhc2VcImxvZ1wiOmJyZWFrO2RlZmF1bHQ6ZC5nbG9iYWwuZGVsZXRlU3luYyhlKX19KSl9fX19O2Z1bmN0aW9uIHRvRXJyb3IoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBFcnJvcj9lOm5ldyBFcnJvcihTdHJpbmcoZSkpfWZ1bmN0aW9uIGdldEJ1aWxkZXJQaXhlbChlKXtyZXR1cm57aWQ6XCJidWlsZGVyLXBpeGVsLVwiK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNwbGl0KFwiLlwiKVsxXSxcIkB0eXBlXCI6XCJAYnVpbGRlci5pby9zZGs6RWxlbWVudFwiLHRhZ05hbWU6XCJpbWdcIixwcm9wZXJ0aWVzOntyb2xlOlwicHJlc2VudGF0aW9uXCIsXCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwiLHNyYzpcImh0dHBzOi8vY2RuLmJ1aWxkZXIuaW8vYXBpL3YxL3BpeGVsP2FwaUtleT1cIi5jb25jYXQoZSl9LHJlc3BvbnNpdmVTdHlsZXM6e2xhcmdlOntoZWlnaHQ6XCIwXCIsd2lkdGg6XCIwXCIsZGlzcGxheTpcImlubGluZS1ibG9ja1wiLG9wYWNpdHk6XCIwXCIsb3ZlcmZsb3c6XCJoaWRkZW5cIixwb2ludGVyRXZlbnRzOlwibm9uZVwifX19fWZ1bmN0aW9uIHBpY2soZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07dmFyIGk9e307cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7aVt0XT1lW3RdfSkpLGl9ZnVuY3Rpb24gb21pdChlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTt2YXIgaT1fX2Fzc2lnbih7fSxlKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtkZWxldGUgaVtlXX0pKSxpfXZhciBpbnN0YW5jZXNNYXA9bmV3IE1hcCx3cmFwQ29tcG9uZW50PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbixpPXQuYnVpbGRlclRhZ3x8XCJkaXZcIixyPVtcImNoaWxkcmVuXCJdLmNvbmNhdCgobnVsbD09PShuPWUuaW5wdXRzKXx8dm9pZCAwPT09bj92b2lkIDA6bi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWV9KSkpfHxbXSksbz1vbWl0LmFwcGx5KHZvaWQgMCxfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW3RdLHIsITEpLFtcImF0dHJpYnV0ZXNcIl0sITEpKSxhPXQ7cmV0dXJuIGUubm9XcmFwP1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZS5jbGFzcyxfX2Fzc2lnbih7YXR0cmlidXRlczpvfSxhKSk6UmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChpLF9fYXNzaWduKHt9LG8pLFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZS5jbGFzcyxfX2Fzc2lnbih7fSxhKSkpfX0sc2l6ZSQxPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5sZW5ndGh9O2Z1bmN0aW9uIGRlYm91bmNlKGUsdCxuKXt2YXIgaTtyZXR1cm4gdm9pZCAwPT09biYmKG49ITEpLGZ1bmN0aW9uKCl7dmFyIHI9dGhpcyxvPWFyZ3VtZW50cztjbGVhclRpbWVvdXQoaSksaT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2k9bnVsbCxufHxlLmFwcGx5KHIsbyl9KSx0KSxuJiYhaSYmZS5hcHBseShyLG8pfX12YXIgZm9udHNMb2FkZWQ9bmV3IFNldCxmZXRjaCQxO2dsb2JhbFRoaXMuZmV0Y2gmJihmZXRjaCQxPWdsb2JhbFRoaXMuZmV0Y2gpLG51bGwhPWZldGNoJDF8fChmZXRjaCQxPXJlcXVpcmUoXCJub2RlLWZldGNoXCIpKTt2YXIgc2l6ZU1hcD17ZGVza3RvcDpcImxhcmdlXCIsdGFibGV0OlwibWVkaXVtXCIsbW9iaWxlOlwic21hbGxcIix4c21hbGw6XCJ4c21hbGxcIn0sZmV0Y2hDYWNoZT17fTtmdW5jdGlvbiBzZWFyY2hUb09iamVjdCQxKGUpe3ZhciB0PShlLnNlYXJjaHx8XCJcIikuc3Vic3RyaW5nKDEpLnNwbGl0KFwiJlwiKSxuPXt9O2Zvcih2YXIgaSBpbiB0KWlmKHRbaV0mJlwic3RyaW5nXCI9PXR5cGVvZiB0W2ldKXt2YXIgcj10W2ldLnNwbGl0KFwiPVwiKTtuW2RlY29kZVVSSUNvbXBvbmVudChyWzBdKV09ZGVjb2RlVVJJQ29tcG9uZW50KHJbMV0pfXJldHVybiBufXZhciBCdWlsZGVyQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG4saSxyPXRoaXM7KHI9ZS5jYWxsKHRoaXMsdCl8fHRoaXMpLnN1YnNjcmlwdGlvbnM9bmV3IFN1YnNjcmlwdGlvbixyLm9uU3RhdGVDaGFuZ2U9bmV3IEJlaGF2aW9yU3ViamVjdChudWxsKSxyLmFzU2VydmVyPUJ1aWxkZXIuaXNTZXJ2ZXIsci5jb250ZW50UmVmPW51bGwsci5zdHlsZVJlZj1udWxsLHIucm9vdFN0YXRlPUJ1aWxkZXIuaXNTZXJ2ZXI/e306b25DaGFuZ2Uoe30sKGZ1bmN0aW9uKCl7cmV0dXJuIHIudXBkYXRlU3RhdGUoKX0pKSxyLmxhc3RKc0NvZGU9XCJcIixyLmxhc3RIdHRwUmVxdWVzdHM9e30sci5odHRwU3Vic2NyaXB0aW9uUGVyS2V5PXt9LHIuZmlyc3RMb2FkPSEwLHIucmVmPW51bGwsci5tZXNzYWdlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoQnVpbGRlci5pc1RydXN0ZWRIb3N0Rm9yRXZlbnQoZSkpe3ZhciBuPWUuZGF0YTtzd2l0Y2gobi50eXBlKXtjYXNlXCJidWlsZGVyLmNvbmZpZ3VyZVNka1wiOnZhciBpPW4uZGF0YTtpZighaS5jb250ZW50SWR8fGkuY29udGVudElkIT09KG51bGw9PT0odD1yLnVzZUNvbnRlbnQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlkKSlyZXR1cm47ci5zaXplcz1nZXRTaXplc0ZvckJyZWFrcG9pbnRzKGkuYnJlYWtwb2ludHN8fHt9KSxyLnNldFN0YXRlKHtzdGF0ZTpPYmplY3QuYXNzaWduKHIucm9vdFN0YXRlLHtkZXZpY2VTaXplOnIuZGV2aWNlU2l6ZVN0YXRlLGRldmljZTpyLmRldmljZX0pLHVwZGF0ZXM6KHIuc3RhdGUmJnIuc3RhdGUudXBkYXRlc3x8MCkrMSxicmVha3BvaW50czppLmJyZWFrcG9pbnRzfSk7YnJlYWs7Y2FzZVwiYnVpbGRlci51cGRhdGVTcGFjZXJcIjp2YXIgbz1uLmRhdGE7ci5yb290U3RhdGUuX3NwYWNlcixyLnVwZGF0ZVN0YXRlKChmdW5jdGlvbihlKXtlLl9zcGFjZXI9b30pKTticmVhaztjYXNlXCJidWlsZGVyLnJlc2V0U3RhdGVcIjp2YXIgYT1uLmRhdGEscz1hLnN0YXRlO2lmKGEubW9kZWw9PT1yLm5hbWUpe2Zvcih2YXIgbCBpbiByLnJvb3RTdGF0ZSlcImZ1bmN0aW9uXCIhPXR5cGVvZiByLnJvb3RTdGF0ZVtsXSYmZGVsZXRlIHIucm9vdFN0YXRlW2xdO09iamVjdC5hc3NpZ24oci5yb290U3RhdGUscyksci5zZXRTdGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSxyLnN0YXRlKSx7c3RhdGU6ci5yb290U3RhdGUsdXBkYXRlczooci5zdGF0ZSYmci5zdGF0ZS51cGRhdGVzfHwwKSsxfSkpfWJyZWFrO2Nhc2VcImJ1aWxkZXIucmVzZXRTeW1ib2xTdGF0ZVwiOnZhciB1PW4uZGF0YS5zdGF0ZSxkPShzPXUuc3RhdGUsdS5tb2RlbCx1LmlkKTtpZihyLnByb3BzLmJ1aWxkZXJCbG9jayYmci5wcm9wcy5idWlsZGVyQmxvY2s9PT1kKXtmb3IodmFyIGwgaW4gci5yb290U3RhdGUpZGVsZXRlIHIucm9vdFN0YXRlW2xdO09iamVjdC5hc3NpZ24oci5yb290U3RhdGUscyksci5zZXRTdGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSxyLnN0YXRlKSx7c3RhdGU6ci5yb290U3RhdGUsdXBkYXRlczooci5zdGF0ZSYmci5zdGF0ZS51cGRhdGVzfHwwKSsxfSkpfX19fSxyLnJlc2l6ZUZuPWZ1bmN0aW9uKCl7dmFyIGU9ci5kZXZpY2VTaXplU3RhdGU7ZSE9PXIuc3RhdGUuc3RhdGUuZGV2aWNlU2l6ZSYmci5zZXRTdGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSxyLnN0YXRlKSx7dXBkYXRlczooci5zdGF0ZSYmci5zdGF0ZS51cGRhdGVzfHwwKSsxLHN0YXRlOk9iamVjdC5hc3NpZ24oci5yb290U3RhdGUsX19hc3NpZ24oX19hc3NpZ24oe30sci5zdGF0ZS5zdGF0ZSkse2RldmljZVNpemU6ZX0pKX0pKX0sci5yZXNpemVMaXN0ZW5lcj1CdWlsZGVyLmlzRWRpdGluZz90aHJvdHRsZShyLnJlc2l6ZUZuLDIwMCk6ZGVib3VuY2Uoci5yZXNpemVGbiw0MDApLHIubW91bnRlZD0hMSxyLnVwZGF0ZVN0YXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXIucm9vdFN0YXRlO2UmJmUodCksci5tb3VudGVkP3Iuc2V0U3RhdGUoe3VwZGF0ZTpyLnVwZGF0ZVN0YXRlLHN0YXRlOnQsdXBkYXRlczooci5zdGF0ZSYmci5zdGF0ZS51cGRhdGVzfHwwKSsxfSk6ci5zdGF0ZT1fX2Fzc2lnbihfX2Fzc2lnbih7fSxyLnN0YXRlKSx7dXBkYXRlOnIudXBkYXRlU3RhdGUsc3RhdGU6dCx1cGRhdGVzOihyLnN0YXRlJiZyLnN0YXRlLnVwZGF0ZXN8fDApKzF9KSxyLm5vdGlmeVN0YXRlQ2hhbmdlKCl9LHIub25Db250ZW50TG9hZGVkPWZ1bmN0aW9uKGUsdCl7aWYoXCJwYWdlXCI9PT1yLm5hbWUmJkJ1aWxkZXIuaXNCcm93c2VyJiZlKXt2YXIgbj1lLnRpdGxlLGk9ZS5wYWdlVGl0bGUsbz1lLmRlc2NyaXB0aW9uLGE9ZS5wYWdlRGVzY3JpcHRpb247aWYoKG58fGkpJiYoZG9jdW1lbnQudGl0bGU9bnx8aSksb3x8YSl7dmFyIHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiZGVzY3JpcHRpb25cIl0nKTtzfHwoKHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm1ldGFcIikpLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcImRlc2NyaXB0aW9uXCIpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocykpLHMuc2V0QXR0cmlidXRlKFwiY29udGVudFwiLG98fGEpfX1pZihCdWlsZGVyLmlzRWRpdGluZyYmci5ub3RpZnlTdGF0ZUNoYW5nZSgpLHIucHJvcHMuY29udGVudExvYWRlZCYmci5wcm9wcy5jb250ZW50TG9hZGVkKGUsdCksZSYmZS5pbnB1dHMmJkFycmF5LmlzQXJyYXkoZS5pbnB1dHMpJiZlLmlucHV0cy5sZW5ndGgmJihlLnN0YXRlfHwoZS5zdGF0ZT17fSksZS5pbnB1dHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dCYmdC5uYW1lJiZ2b2lkIDAhPT10LmRlZmF1bHRWYWx1ZSYmdm9pZCAwPT09ZS5zdGF0ZVt0Lm5hbWVdJiYoZS5zdGF0ZVt0Lm5hbWVdPXQuZGVmYXVsdFZhbHVlKX0pKSksZSYmZS5zdGF0ZSl7dmFyIGw9X19hc3NpZ24oX19hc3NpZ24oe30sci5zdGF0ZSkse3VwZGF0ZXM6KHIuc3RhdGUmJnIuc3RhdGUudXBkYXRlc3x8MCkrMSxzdGF0ZTpPYmplY3QuYXNzaWduKHIucm9vdFN0YXRlLF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LHIuc3RhdGUuc3RhdGUpLHtsb2NhdGlvbjpyLmxvY2F0aW9uU3RhdGUsZGV2aWNlOnIuZGV2aWNlfSksZS5zdGF0ZSksci5leHRlcm5hbFN0YXRlKSx7ZGV2aWNlU2l6ZTpyLmRldmljZVNpemVTdGF0ZX0pKX0pO3IubW91bnRlZD9yLnNldFN0YXRlKGwpOnIuc3RhdGU9bH1pZihlJiZlLmpzQ29kZSYmIXIub3B0aW9ucy5jb2RlZ2VuKXt2YXIgdT0hMTtpZihCdWlsZGVyLmlzRWRpdGluZyYmKHIubGFzdEpzQ29kZT09PWUuanNDb2RlP3U9ITA6ci5sYXN0SnNDb2RlPWUuanNDb2RlKSwhdSl7dmFyIGQ9ci5zdGF0ZS5zdGF0ZTt0cnl7bmV3IEZ1bmN0aW9uKFwiZGF0YVwiLFwicmVmXCIsXCJzdGF0ZVwiLFwidXBkYXRlXCIsXCJlbGVtZW50XCIsXCJCdWlsZGVyXCIsXCJidWlsZGVyXCIsXCJjb250ZXh0XCIsZS5qc0NvZGUpKGUscixkLHIuc3RhdGUudXBkYXRlLHIucmVmLEJ1aWxkZXIsYnVpbGRlcixyLnN0YXRlLmNvbnRleHQpfWNhdGNoKHQpe3ZhciBjPXRvRXJyb3IodCk7QnVpbGRlci5pc0Jyb3dzZXI/Y29uc29sZS53YXJuKFwiQnVpbGRlciBjdXN0b20gY29kZSBlcnJvcjpcIixjLm1lc3NhZ2UsXCJpblwiLGUuanNDb2RlLGMuc3RhY2spOmlzRGVidWcoKSYmY29uc29sZS5kZWJ1ZyhcIkJ1aWxkZXIgY3VzdG9tIGNvZGUgZXJyb3I6XCIsYy5tZXNzYWdlLFwiaW5cIixlLmpzQ29kZSxjLnN0YWNrKX19fWlmKGUmJmUuaHR0cFJlcXVlc3RzJiYhci5wcm9wcy5ub0FzeW5jJiYhKHU9ITEpKXt2YXIgcD1mdW5jdGlvbih0KXt2YXIgbj1lLmh0dHBSZXF1ZXN0c1t0XTtpZihuJiYoIXIuZGF0YVt0XXx8QnVpbGRlci5pc0VkaXRpbmcpKXt2YXIgaT1cIm9iamVjdFwiPT10eXBlb2YgbiYmXCJAYnVpbGRlci5pby9jb3JlOlJlcXVlc3RcIj09PW5bXCJAdHlwZVwiXTtpZihCdWlsZGVyLmlzQnJvd3Nlcil7dmFyIG89aT9yLmV2YWxFeHByZXNzaW9uKG4ucmVxdWVzdC51cmwpOnIuZXZhbEV4cHJlc3Npb24obik7aWYoQnVpbGRlci5pc0VkaXRpbmcmJnIubGFzdEh0dHBSZXF1ZXN0c1t0XT09PW8pcmV0dXJuXCJjb250aW51ZVwiO3IubGFzdEh0dHBSZXF1ZXN0c1t0XT1vLGk/ci5oYW5kbGVSZXF1ZXN0KHQse3VybDpvLG1ldGhvZDpuLnJlcXVlc3QubWV0aG9kLGJvZHk6bi5yZXF1ZXN0LmJvZHksaGVhZGVyczpuLnJlcXVlc3QuaGVhZGVyc30pOnIuaGFuZGxlUmVxdWVzdCh0LHt1cmw6byxtZXRob2Q6XCJHRVRcIn0pO3ZhciBhPXIuaHR0cFN1YnNjcmlwdGlvblBlcktleVt0XTthJiZhLnVuc3Vic2NyaWJlKCk7dmFyIHM9ci5odHRwU3Vic2NyaXB0aW9uUGVyS2V5W3RdPXIub25TdGF0ZUNoYW5nZS5zdWJzY3JpYmUoKGZ1bmN0aW9uKCl7dmFyIGU9aT9yLmV2YWxFeHByZXNzaW9uKG4ucmVxdWVzdC51cmwpOnIuZXZhbEV4cHJlc3Npb24obik7ZSE9PW8mJihpP3IuaGFuZGxlUmVxdWVzdCh0LHt1cmw6ZSxtZXRob2Q6bi5yZXF1ZXN0Lm1ldGhvZCxib2R5Om4ucmVxdWVzdC5ib2R5LGhlYWRlcnM6bi5yZXF1ZXN0LmhlYWRlcnN9KTpyLmhhbmRsZVJlcXVlc3QodCx7dXJsOmUsbWV0aG9kOlwiR0VUXCJ9KSxyLmxhc3RIdHRwUmVxdWVzdHNbdF09ZSl9KSk7ci5zdWJzY3JpcHRpb25zLmFkZChzKX1lbHNlIGk/ci5oYW5kbGVSZXF1ZXN0KHQse3VybDpyLmV2YWxFeHByZXNzaW9uKG4ucmVxdWVzdC51cmwpLG1ldGhvZDpuLnJlcXVlc3QubWV0aG9kLGJvZHk6bi5yZXF1ZXN0LmJvZHksaGVhZGVyczpuLnJlcXVlc3QuaGVhZGVyc30pOnIuaGFuZGxlUmVxdWVzdCh0LHt1cmw6ci5ldmFsRXhwcmVzc2lvbihuKSxtZXRob2Q6XCJHRVRcIn0pfX07Zm9yKHZhciBmIGluIGUuaHR0cFJlcXVlc3RzKXAoZil9fTt2YXIgbz1yLmlubGluZWRDb250ZW50O28mJm8uY29udGVudCYmKG89by5jb250ZW50KSxyLnNpemVzPWdldFNpemVzRm9yQnJlYWtwb2ludHMoKG51bGw9PT0obj1udWxsPT1vP3ZvaWQgMDpvLm1ldGEpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmJyZWFrcG9pbnRzKXx8e30pO3ZhciBhPW51bGw9PT0oaT1yLmlubGluZWRDb250ZW50KXx8dm9pZCAwPT09aT92b2lkIDA6aS5kYXRhO2EmJkFycmF5LmlzQXJyYXkoYS5pbnB1dHMpJiZhLmlucHV0cy5sZW5ndGg+MCYmKGEuc3RhdGV8fChhLnN0YXRlPXt9KSxhLmlucHV0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtlJiZlLm5hbWUmJnZvaWQgMCE9PWUuZGVmYXVsdFZhbHVlJiZ2b2lkIDA9PT1hLnN0YXRlW2UubmFtZV0mJihhLnN0YXRlW2UubmFtZV09ZS5kZWZhdWx0VmFsdWUpfSkpKSxyLnN0YXRlPXtjb250ZXh0Ol9fYXNzaWduKF9fYXNzaWduKHt9LHQuY29udGV4dCkse2FwaUtleTpyLnByb3BzLmFwaUtleXx8YnVpbGRlci5hcGlLZXksbm9uY2U6ci5wcm9wcy5ub25jZX0pLHN0YXRlOk9iamVjdC5hc3NpZ24oci5yb290U3RhdGUsX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sci5pbmxpbmVkQ29udGVudCYmci5pbmxpbmVkQ29udGVudC5kYXRhJiZyLmlubGluZWRDb250ZW50LmRhdGEuc3RhdGUpLHtpc0Jyb3dzZXI6QnVpbGRlci5pc0Jyb3dzZXIsaXNTZXJ2ZXI6IUJ1aWxkZXIuaXNCcm93c2VyLF9oeWRyYXRlOnQuaHlkcmF0ZSxsb2NhdGlvbjpyLmxvY2F0aW9uU3RhdGUsZGV2aWNlU2l6ZTpyLmRldmljZVNpemVTdGF0ZSxkZXZpY2U6ci5kZXZpY2V9KSxyLmdldEh0bWxEYXRhKCkpLHQuZGF0YSkpLHVwZGF0ZXM6MCxrZXk6MCx1cGRhdGU6ci51cGRhdGVTdGF0ZX07dmFyIHM9ci5wcm9wcy5hcGlLZXk7aWYocyYmcyE9PXIuYnVpbGRlci5hcGlLZXkmJiFpbnN0YW5jZXNNYXAuaGFzKHMpKXt2YXIgbD1uZXcgQnVpbGRlcihzLHZvaWQgMCx2b2lkIDAsITApO2luc3RhbmNlc01hcC5zZXQocyxsKX1pZihyLmlubGluZWRDb250ZW50KXt2YXIgdT1yLmlubGluZWRDb250ZW50LmNvbnRlbnR8fHIuaW5saW5lZENvbnRlbnQ7ci5vbkNvbnRlbnRMb2FkZWQobnVsbD09dT92b2lkIDA6dS5kYXRhLGdldENvbnRlbnRXaXRoSW5mbyh1KSl9cmV0dXJuIHIucmVnaXN0ZXJDdXN0b21Db21wb25lbnRzKCkscn1yZXR1cm4gX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib3B0aW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sdC5kZWZhdWx0cyksdGhpcy5wcm9wcyl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5tb2RlbHx8dGhpcy5wcm9wcy5tb2RlbE5hbWV8fHRoaXMucHJvcHMubmFtZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJlbGVtZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlZn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpbmxpbmVkQ29udGVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtpZighdGhpcy5pc1ByZXZpZXdpbmd8fHRoaXMucHJvcHMuaW5saW5lQ29udGVudClyZXR1cm4gdGhpcy5wcm9wcy5jb250ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImJ1aWxkZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcHMuYXBpS2V5JiZpbnN0YW5jZXNNYXAuZ2V0KHRoaXMucHJvcHMuYXBpS2V5KXx8dGhpcy5wcm9wcy5idWlsZGVyfHxidWlsZGVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmdldEh0bWxEYXRhPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pbmxpbmVkQ29udGVudCYmdGhpcy5pbmxpbmVkQ29udGVudC5pZHx8dGhpcy5wcm9wcy5lbnRyeSx0PWUmJkJ1aWxkZXIuaXNCcm93c2VyJiZkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbZGF0YS1idWlsZGVyLWpzb249XCInLmNvbmNhdChlLCdcIl0sc2NyaXB0W2RhdGEtYnVpbGRlci1zdGF0ZT1cIicpLmNvbmNhdChlLCdcIl0nKSk7aWYodCl0cnl7cmV0dXJuIEpTT04ucGFyc2UodC5pbm5lclRleHQpfWNhdGNoKGUpe2NvbnNvbGUud2FybihcIkNvdWxkIG5vdCBwYXJzZSBCdWlsZGVyLmlvIEhUTUwgZGF0YSB0cmFuc2ZlclwiLGUsdC5pbm5lclRleHQpfXJldHVybnt9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkZXZpY2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVpbGRlci5nZXRVc2VyQXR0cmlidXRlcygpLmRldmljZXx8XCJkZXNrdG9wXCJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibG9jYXRpb25TdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30scGljayh0aGlzLmxvY2F0aW9uLFwicGF0aG5hbWVcIixcImhvc3RuYW1lXCIsXCJzZWFyY2hcIixcImhvc3RcIikpLHtwYXRoOnRoaXMubG9jYXRpb24ucGF0aG5hbWUmJnRoaXMubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoXCIvXCIpLnNsaWNlKDEpfHxcIlwiLHF1ZXJ5OnNlYXJjaFRvT2JqZWN0JDEodGhpcy5sb2NhdGlvbil9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkZXZpY2VTaXplU3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJ1aWxkZXIuaXNCcm93c2VyP3RoaXMuc2l6ZXMuZ2V0U2l6ZUZvcldpZHRoKHdpbmRvdy5pbm5lcldpZHRoKTpzaXplTWFwW3RoaXMuZGV2aWNlXXx8XCJsYXJnZVwifSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucmVuZGVySW50bz1mdW5jdGlvbihlLG4saSxyKXtpZih2b2lkIDA9PT1uJiYobj17fSksdm9pZCAwPT09aSYmKGk9ITApLHZvaWQgMD09PXImJihyPSExKSxjb25zb2xlLmRlYnVnKFwiQnVpbGRlclBhZ2UucmVuZGVySW50b1wiLGUsbixpLHRoaXMpLGUpe3ZhciBvPW51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGU/bz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpOmUgaW5zdGFuY2VvZiBFbGVtZW50JiYobz1lKSxvKXt2YXIgYT1vLmNsYXNzTGlzdC5jb250YWlucyhcImJ1aWxkZXItaHlkcmF0ZWRcIik7aWYoIWF8fHIpe28uY2xhc3NMaXN0LmFkZChcImJ1aWxkZXItaHlkcmF0ZWRcIik7dmFyIHM9aSYmby5pbm5lckhUTUwuaW5jbHVkZXMoXCJidWlsZGVyLWJsb2NrXCIpO2lmKCFvLmNsYXNzTGlzdC5jb250YWlucyhcImJ1aWxkZXItY29tcG9uZW50XCIpKXt2YXIgbD1vLnF1ZXJ5U2VsZWN0b3IoXCIuYnVpbGRlci1hcGktc3R5bGVzXCIpfHwoby5wcmV2aW91c0VsZW1lbnRTaWJsaW5nJiZvLnByZXZpb3VzRWxlbWVudFNpYmxpbmcubWF0Y2hlcyhcIi5idWlsZGVyLWFwaS1zdHlsZXNcIik/by5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOm51bGwpLHU9XCJcIjtpZihsKWwuaW5uZXJIVE1MLnJlcGxhY2UoL1xcL1xcKnN0YXJ0OihbXlxcKl0rPylcXCpcXC8oW1xcc1xcU10qPylcXC9cXCplbmQ6KFteXFwqXSs/KVxcKlxcLy9nLChmdW5jdGlvbihlLHQsbil7dmFyIGk9bnVsbDt0cnl7aT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1lbW90aW9uLWNzcz1cIicuY29uY2F0KHQsJ1wiXScpKX1jYXRjaChlKXtjb25zb2xlLndhcm4oZSl9cmV0dXJuIGk/aS5pbm5lckhUTUw9bjpCdWlsZGVyLmlzRWRpdGluZ3x8KHUrPWUpLGV9KSksQnVpbGRlci5uZXh0VGljaygoZnVuY3Rpb24oKXtsLmlubmVySFRNTD11fSkpO3ZhciBkPW8ucXVlcnlTZWxlY3RvcihcIi5idWlsZGVyLWNvbXBvbmVudFwiKTtkP289ZDpzPSExfWxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcyhcImJ1aWxkZXIuZGVidWc9dHJ1ZVwiKSYmY29uc29sZS5kZWJ1ZyhcImh5ZHJhdGVcIixzLG8pO3ZhciBjPW87aWYoIWEpe3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmViZWdpblwiLHApLHAuYXBwZW5kQ2hpbGQobyksYz1wfWlmKChCdWlsZGVyLmlzRWRpdGluZ3x8QnVpbGRlci5pc0Jyb3dzZXImJmxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcyhcImJ1aWxkZXIucHJldmlldz1cIikpJiYocz0hMSkscyYmbyl7dmFyIGY9UmVhY3RET00ucmVuZGVyKFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodCxfX2Fzc2lnbih7fSxuKSksYyxjLmJ1aWxkZXJSb290UmVmKTtyZXR1cm4gYy5idWlsZGVyUm9vdFJlZj1mLGZ9dmFyIG09UmVhY3RET00ucmVuZGVyKFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodCxfX2Fzc2lnbih7fSxuKSksYyxjLmJ1aWxkZXJSb290UmVmKTtyZXR1cm4gYy5idWlsZGVyUm9vdFJlZj1tLG19Y29uc29sZS5kZWJ1ZyhcIlRyaWVkIHRvIGh5ZHJhdGUgbXVsdGlwbGUgdGltZXNcIil9fX0sdC5wcm90b3R5cGUucmVnaXN0ZXJDdXN0b21Db21wb25lbnRzPWZ1bmN0aW9uKCl7aWYodGhpcy5wcm9wcy5jdXN0b21Db21wb25lbnRzKWZvcih2YXIgZT0wLHQ9dGhpcy5wcm9wcy5jdXN0b21Db21wb25lbnRzO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdO2lmKG4pe3ZhciBpPW4uY29tcG9uZW50LHI9X19yZXN0KG4sW1wiY29tcG9uZW50XCJdKTtCdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50KGkscil9fX0sdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXM7dGhpcy5tb3VudGVkPSEwLHRoaXMuYXNTZXJ2ZXImJih0aGlzLmFzU2VydmVyPSExLHRoaXMudXBkYXRlU3RhdGUoKGZ1bmN0aW9uKGUpe2UuaXNCcm93c2VyPSEwLGUuaXNTZXJ2ZXI9ITF9KSkpLEJ1aWxkZXIuaXNJZnJhbWUmJihudWxsPT09KGU9d2luZG93LnBhcmVudCl8fHZvaWQgMD09PWV8fGUucG9zdE1lc3NhZ2Uoe3R5cGU6XCJidWlsZGVyLnNka0luamVjdGVkXCIsZGF0YTp7bW9kZWxOYW1lOnRoaXMubmFtZSxhcGlLZXk6dGhpcy5wcm9wcy5hcGlLZXl8fGJ1aWxkZXIuYXBpS2V5fX0sXCIqXCIpKSxCdWlsZGVyLmlzQnJvd3NlciYmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5yZXNpemVMaXN0ZW5lciksQnVpbGRlci5pc0VkaXRpbmcmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMubWVzc2FnZUxpc3RlbmVyKSwoQnVpbGRlci5pc0VkaXRpbmd8fEJ1aWxkZXIuaXNQcmV2aWV3aW5nKSYmQnVpbGRlci5uZXh0VGljaygoZnVuY3Rpb24oKXt0LmZpcnN0TG9hZD0hMSx0LnJlbG9hZCgpfSkpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7d2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiYnVpbGRlcjpjb21wb25lbnQ6bG9hZFwiLHtkZXRhaWw6e3JlZjp0fX0pKX0pKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlzUHJldmlld2luZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4oQnVpbGRlci5pc1NlcnZlcnx8QnVpbGRlci5pc0Jyb3dzZXImJkJ1aWxkZXIuaXNQcmV2aWV3aW5nJiYhdGhpcy5maXJzdExvYWQpJiYoYnVpbGRlci5wcmV2aWV3aW5nTW9kZWw9PT10aGlzLm5hbWV8fFwiQlVJTERFUl9TVFVESU9cIj09PWJ1aWxkZXIucHJldmlld2luZ01vZGVsKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5ub3RpZnlTdGF0ZUNoYW5nZT1mdW5jdGlvbigpe2lmKCFCdWlsZGVyLmlzU2VydmVyJiZ0aGlzJiZ0aGlzLnN0YXRlKXt2YXIgZT10aGlzLnN0YXRlLnN0YXRlO3RoaXMucHJvcHMub25TdGF0ZUNoYW5nZSYmdGhpcy5wcm9wcy5vblN0YXRlQ2hhbmdlKGUpLEJ1aWxkZXIuaXNCcm93c2VyJiZ3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJidWlsZGVyOmNvbXBvbmVudDpzdGF0ZUNoYW5nZVwiLHtkZXRhaWw6e3N0YXRlOmUscmVmOnRoaXN9fSkpLHRoaXMub25TdGF0ZUNoYW5nZS5uZXh0KGUpfX0sdC5wcm90b3R5cGUucHJvY2Vzc1N0YXRlRnJvbUFwaT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibG9jYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcHMubG9jYXRpb258fChCdWlsZGVyLmlzQnJvd3Nlcj9sb2NhdGlvbjp7fSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ2V0Q3NzRnJvbUZvbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmZhbWlseSsoZS5raW5kJiYhZS5raW5kLmluY2x1ZGVzKFwiI1wiKT9cIiwgXCIrZS5raW5kOlwiXCIpLGk9bi5zcGxpdChcIixcIilbMF0scj1lLmZpbGVVcmw/ZS5maWxlVXJsOmUuZmlsZXMmJmUuZmlsZXMucmVndWxhcixvPVwiXCI7aWYociYmbiYmaSYmKG8rPSdcXG5AZm9udC1mYWNlIHtcXG4gIGZvbnQtZmFtaWx5OiBcIicuY29uY2F0KG4sJ1wiO1xcbiAgc3JjOiBsb2NhbChcIicpLmNvbmNhdChpLFwiXFxcIiksIHVybCgnXCIpLmNvbmNhdChyLFwiJykgZm9ybWF0KCd3b2ZmMicpO1xcbiAgZm9udC1kaXNwbGF5OiBmYWxsYmFjaztcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxufVxcbiAgICAgICAgXCIpLnRyaW0oKSksZS5maWxlcylmb3IodmFyIGEgaW4gZS5maWxlcyl7aWYoU3RyaW5nKE51bWJlcihhKSk9PT1hKXt2YXIgcz1lLmZpbGVzW2FdO3MmJnMhPT1yJiYobys9J1xcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6IFwiJy5jb25jYXQobixcIlxcXCI7XFxuICBzcmM6IHVybCgnXCIpLmNvbmNhdChzLFwiJykgZm9ybWF0KCd3b2ZmMicpO1xcbiAgZm9udC1kaXNwbGF5OiBmYWxsYmFjaztcXG4gIGZvbnQtd2VpZ2h0OiBcIikuY29uY2F0KGEsXCI7XFxufVxcbiAgICAgICAgICBcIikudHJpbSgpKX19cmV0dXJuIG99LHQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dGhpcy51bnN1YnNjcmliZSgpLEJ1aWxkZXIuaXNCcm93c2VyJiYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLnJlc2l6ZUxpc3RlbmVyKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLm1lc3NhZ2VMaXN0ZW5lcikpfSx0LnByb3RvdHlwZS5nZXRGb250Q3NzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuYnVpbGRlci5hbGxvd0N1c3RvbUZvbnRzJiYobnVsbD09ZT92b2lkIDA6ZS5jdXN0b21Gb250cykmJmUuY3VzdG9tRm9udHMubGVuZ3RoJiZlLmN1c3RvbUZvbnRzLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIHQuZ2V0Q3NzRnJvbUZvbnQobixlKX0pKS5qb2luKFwiIFwiKXx8XCJcIn0sdC5wcm90b3R5cGUuZW5zdXJlRm9udHNMb2FkZWQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5idWlsZGVyLmFsbG93Q3VzdG9tRm9udHMmJihudWxsPT1lP3ZvaWQgMDplLmN1c3RvbUZvbnRzKSYmQXJyYXkuaXNBcnJheShlLmN1c3RvbUZvbnRzKSlmb3IodmFyIHQ9MCxuPWUuY3VzdG9tRm9udHM7dDxuLmxlbmd0aDt0Kyspe3ZhciBpPW5bdF0scj1pLmZpbGVVcmw/aS5maWxlVXJsOmkuZmlsZXMmJmkuZmlsZXMucmVndWxhcjtpZighZm9udHNMb2FkZWQuaGFzKHIpKXt2YXIgbz10aGlzLmdldENzc0Zyb21Gb250KGksZSk7aWYoZm9udHNMb2FkZWQuYWRkKHIpLCFvKWNvbnRpbnVlO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTthLmNsYXNzTmFtZT1cImJ1aWxkZXItY3VzdG9tLWZvbnRcIixhLnNldEF0dHJpYnV0ZShcImRhdGEtYnVpbGRlci1jdXN0b20tZm9udFwiLHIpLGEuaW5uZXJIVE1MPW8sZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhKX19fSx0LnByb3RvdHlwZS5nZXRDc3M9ZnVuY3Rpb24oZSl7dmFyIHQsbj1udWxsPT09KHQ9dGhpcy51c2VDb250ZW50KXx8dm9pZCAwPT09dD92b2lkIDA6dC5pZCxpPShudWxsPT1lP3ZvaWQgMDplLmNzc0NvZGUpfHxcIlwiO3JldHVybiBuJiYoaT1pLnJlcGxhY2UoLyYvZyxcIi5idWlsZGVyLWNvbXBvbmVudC1cIi5jb25jYXQobikpKSxpK3RoaXMuZ2V0Rm9udENzcyhlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZGF0YVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0PV9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LHRoaXMuaW5saW5lZENvbnRlbnQmJihudWxsPT09KGU9dGhpcy5pbmxpbmVkQ29udGVudC5kYXRhKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5zdGF0ZSkpLHRoaXMuZXh0ZXJuYWxTdGF0ZSksdGhpcy5zdGF0ZS5zdGF0ZSk7cmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy5yb290U3RhdGUsdCksdH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnByb3BzLmRhdGEmJmUuZGF0YSE9PXRoaXMucHJvcHMuZGF0YSYmdGhpcy5zdGF0ZS51cGRhdGUoKGZ1bmN0aW9uKGUpe09iamVjdC5hc3NpZ24oZSx0LmV4dGVybmFsU3RhdGUpfSkpLHRoaXMucHJvcHMuY3VzdG9tQ29tcG9uZW50cyYmdGhpcy5wcm9wcy5jdXN0b21Db21wb25lbnRzIT09ZS5jdXN0b21Db21wb25lbnRzJiZ0aGlzLnJlZ2lzdGVyQ3VzdG9tQ29tcG9uZW50cygpLEJ1aWxkZXIuaXNFZGl0aW5nJiZ0aGlzLmlubGluZWRDb250ZW50JiZlLmNvbnRlbnQhPT10aGlzLmlubGluZWRDb250ZW50JiZ0aGlzLm9uQ29udGVudExvYWRlZCh0aGlzLmlubGluZWRDb250ZW50LmRhdGEsdGhpcy5pbmxpbmVkQ29udGVudCl9LHQucHJvdG90eXBlLmNoZWNrU3R5bGVzPWZ1bmN0aW9uKGUpe2lmKHRoaXMuc3R5bGVSZWYpe3ZhciB0PXRoaXMuZ2V0Q3NzKGUpO3RoaXMuc3R5bGVSZWYuaW5uZXJIVE1MIT09dCYmKHRoaXMuc3R5bGVSZWYuaW5uZXJIVE1MPXQpfX0sdC5wcm90b3R5cGUucmVsb2FkPWZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZSh7a2V5OnRoaXMuc3RhdGUua2V5KzF9KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY29udGVudFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmlubGluZWRDb250ZW50O3JldHVybiBlJiZlLmNvbnRlbnQmJihlPV9fYXNzaWduKF9fYXNzaWduKHt9LGUpLHtkYXRhOmUuY29udGVudH0pKSxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImV4dGVybmFsU3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LHRoaXMucHJvcHMuZGF0YSksdGhpcy5wcm9wcy5sb2NhbGU/e2xvY2FsZTp0aGlzLnByb3BzLmxvY2FsZX06e30pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInVzZUNvbnRlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudHx8dGhpcy5zdGF0ZS5jb250ZXh0LmJ1aWxkZXJDb250ZW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxuPXRoaXMuY29udGVudCxpPUJ1aWxkZXIuaXNCcm93c2VyJiZ0aGlzLmV4dGVybmFsU3RhdGUmJnNpemUkMSh0aGlzLmV4dGVybmFsU3RhdGUpJiZoYXNoKHRoaXMuZXh0ZXJuYWxTdGF0ZSkscj1CdWlsZGVyLmlzRWRpdGluZz90aGlzLm5hbWU6dGhpcy5wcm9wcy5lbnRyeTtyJiYhQnVpbGRlci5pc0VkaXRpbmcmJmkmJmkubGVuZ3RoPDMwMCYmKHIrPVwiOlwiK2kpO3ZhciBvPXRoaXMucHJvcHMuZGF0YU9ubHk/UmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQ6XCJkaXZcIixhPW51bGw9PT0oZT10aGlzLnVzZUNvbnRlbnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlkO3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KG8se29uQ2xpY2s6ZnVuY3Rpb24oZSl7IUJ1aWxkZXIuaXNFZGl0aW5nfHx0LnByb3BzLmlzQ2hpbGR8fHQucHJvcHMuc3RvcENsaWNrUHJvcGFnYXRpb25XaGVuRWRpdGluZ3x8ZS5zdG9wUHJvcGFnYXRpb24oKX0sY2xhc3NOYW1lOlwiYnVpbGRlci1jb21wb25lbnQgXCIuY29uY2F0KGE/XCJidWlsZGVyLWNvbXBvbmVudC1cIi5jb25jYXQoYSk6XCJcIiksXCJkYXRhLW5hbWVcIjp0aGlzLm5hbWUsXCJkYXRhLXNvdXJjZVwiOlwiUmVuZGVyZWQgYnkgQnVpbGRlci5pb1wiLGtleTp0aGlzLnN0YXRlLmtleSxyZWY6ZnVuY3Rpb24oZSl7cmV0dXJuIHQucmVmPWV9fSxSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1aWxkZXJNZXRhQ29udGV4dC5Db25zdW1lcixudWxsLChmdW5jdGlvbihlKXtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyTWV0YUNvbnRleHQuUHJvdmlkZXIse3ZhbHVlOlwiYm9vbGVhblwiPT10eXBlb2YgdC5wcm9wcy5hbXBNb2RlP19fYXNzaWduKF9fYXNzaWduKHt9LGUpLHthbXBNb2RlOnQucHJvcHMuYW1wTW9kZX0pOmV9LFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlckFzeW5jUmVxdWVzdHNDb250ZXh0LkNvbnN1bWVyLG51bGwsKGZ1bmN0aW9uKGUpe3ZhciBpO3JldHVybiB0Ll9hc3luY1JlcXVlc3RzPWUmJmUucmVxdWVzdHMsdC5fZXJyb3JzPWUmJmUuZXJyb3JzLHQuX2xvZ3M9ZSYmZS5sb2dzLFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlckNvbnRlbnQse2lzU3RhdGljOnQucHJvcHMuaXNTdGF0aWN8fEJ1aWxkZXIuaXNTdGF0aWMsa2V5OihudWxsPT09KGk9dC5pbmxpbmVkQ29udGVudCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQpfHwoXCJjb250ZW50XCJpbiB0LnByb3BzJiYhdC5pc1ByZXZpZXdpbmc/XCJudWxsLWNvbnRlbnQtcHJvcFwiOlwibm8tY29udGVudC1wcm9wXCIpLGJ1aWxkZXI6dC5idWlsZGVyLHJlZjpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb250ZW50UmVmPWV9LGNvbnRlbnRMb2FkZWQ6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5vbkNvbnRlbnRMb2FkZWQoZSxuKX0sb3B0aW9uczpfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7a2V5OnIsZW50cnk6dC5wcm9wcy5lbnRyeX0sbiYme2luaXRpYWxDb250ZW50OltuXX0pLCFuJiZcImNvbnRlbnRcImluIHQucHJvcHMmJiF0LmlzUHJldmlld2luZyYme2luaXRpYWxDb250ZW50OltdfSksdC5wcm9wcy51cmwmJnt1cmw6dC5wcm9wcy51cmx9KSx0LnByb3BzLm9wdGlvbnMpLHQucHJvcHMubG9jYWxlP3tsb2NhbGU6dC5wcm9wcy5sb2NhbGV9Ont9KSx0Lm9wdGlvbnMuY29kZWdlbiYme2Zvcm1hdDpcInJlYWN0XCJ9KSxpbmxpbmU6dC5wcm9wcy5pbmxpbmVDb250ZW50fHwhdC5pc1ByZXZpZXdpbmcmJlwiY29udGVudFwiaW4gdC5wcm9wcyxjb250ZW50RXJyb3I6dC5wcm9wcy5jb250ZW50RXJyb3IsbW9kZWxOYW1lOnQubmFtZXx8XCJwYWdlXCIsbm9uY2U6dC5wcm9wcy5ub25jZX0sKGZ1bmN0aW9uKGUsbixpKXt2YXIgcjtpZih0LnByb3BzLmRhdGFPbmx5KXJldHVybiBudWxsO2kmJmkuaWQmJih0LnN0YXRlLmJyZWFrcG9pbnRzJiYoaS5tZXRhPWkubWV0YXx8e30saS5tZXRhLmJyZWFrcG9pbnRzPXQuc3RhdGUuYnJlYWtwb2ludHMpLHQuc3RhdGUuY29udGV4dC5idWlsZGVyQ29udGVudD1pKSxCdWlsZGVyLmlzQnJvd3NlciYmQnVpbGRlci5uZXh0VGljaygoZnVuY3Rpb24oKXt0LmNoZWNrU3R5bGVzKGUpfSkpO3ZhciBvPXQub3B0aW9ucy5jb2RlZ2VuO2lmKG8mJiF0LkNvbXBvbmVudCYmKG51bGw9PWU/dm9pZCAwOmUuYmxvY2tzSnMpKXt2YXIgYT1BcnJheS5mcm9tKG5ldyBTZXQoQnVpbGRlci5jb21wb25lbnRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZX0pKSkpLHM9QnVpbGRlci5jb21wb25lbnRzLnNsaWNlKCkucmV2ZXJzZSgpLGw9YS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNsYXNzJiZ0Lm5hbWU9PT1lfSkpfSkpLHU9YS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybihlfHxcIlwiKS5yZXBsYWNlKC9bXlxcd10rL2dpLFwiXCIpfSkpLGQ9bC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB3cmFwQ29tcG9uZW50KGUpfSkpO3QuQ29tcG9uZW50PShuZXcoRnVuY3Rpb24uYmluZC5hcHBseShGdW5jdGlvbixfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW3ZvaWQgMCxcImpzeFwiLFwiX2Nzc1wiLFwiQnVpbGRlclwiLFwiYnVpbGRlclwiLFwiUmVhY3RcIixcInVzZUJ1aWxkZXJTdGF0ZVwiXSx1LCExKSxbZS5ibG9ja3NKc10sITEpKSkpLmFwcGx5KHZvaWQgMCxfX3NwcmVhZEFycmF5KFtqc3gsY3NzLEJ1aWxkZXIsYnVpbGRlcixSZWFjdF9fZGVmYXVsdCxmdW5jdGlvbihlKXt2YXIgdD1SZWFjdF9fZGVmYXVsdC51c2VTdGF0ZSgwKVsxXTtyZXR1cm4gUmVhY3RfX2RlZmF1bHQudXNlU3RhdGUoKGZ1bmN0aW9uKCl7cmV0dXJuIG9uQ2hhbmdlKGUsKGZ1bmN0aW9uKCl7dCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUrMX0pKX0pKX0pKVswXX1dLGQsITEpKX12YXIgYz0obnVsbD09ZT92b2lkIDA6ZS5ibG9ja3MpfHxbXSxwPWMuZmluZCgoZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIG51bGw9PT0odD1lLmlkKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zdGFydHNXaXRoKFwiYnVpbGRlci1waXhlbFwiKX0pKTtyZXR1cm4gZSYmIXAmJmMubGVuZ3RoPjAmJmMucHVzaChnZXRCdWlsZGVyUGl4ZWwoYnVpbGRlci5hcGlLZXkpKSxlP1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixfX2Fzc2lnbih7XCJkYXRhLWJ1aWxkZXItY29tcG9uZW50XCI6dC5uYW1lLFwiZGF0YS1idWlsZGVyLWNvbnRlbnQtaWRcIjppLmlkfSx0LmlzUHJldmlld2luZz97XCJkYXRhLWJ1aWxkZXItdmFyaWF0aW9uLWlkXCI6aS50ZXN0VmFyaWF0aW9uSWR8fGkudmFyaWF0aW9uSWR8fGkuaWR9Ont9KSwhbyYmdC5nZXRDc3MoZSkmJlJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiLHtub25jZTp0LnByb3BzLm5vbmNlLHJlZjpmdW5jdGlvbihlKXtyZXR1cm4gdC5zdHlsZVJlZj1lfSxjbGFzc05hbWU6XCJidWlsZGVyLWN1c3RvbS1zdHlsZXNcIixkYW5nZXJvdXNseVNldElubmVySFRNTDp7X19odG1sOnQuZ2V0Q3NzKGUpfX0pLFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlclN0b3JlQ29udGV4dC5Qcm92aWRlcix7dmFsdWU6X19hc3NpZ24oX19hc3NpZ24oe30sdC5zdGF0ZSkse3Jvb3RTdGF0ZTp0LnJvb3RTdGF0ZSxzdGF0ZTp0LmRhdGEsY29udGVudDppLHJlbmRlckxpbms6dC5wcm9wcy5yZW5kZXJMaW5rfSl9LG8mJnQuQ29tcG9uZW50P1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodC5Db21wb25lbnQse2RhdGE6dC5kYXRhLGNvbnRleHQ6dC5zdGF0ZS5jb250ZXh0fSk6UmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyQmxvY2tzLHtrZXk6U3RyaW5nKCEhKG51bGw9PT0ocj1udWxsPT1lP3ZvaWQgMDplLmJsb2Nrcyl8fHZvaWQgMD09PXI/dm9pZCAwOnIubGVuZ3RoKSksZW1haWxNb2RlOnQucHJvcHMuZW1haWxNb2RlLGZpZWxkTmFtZTpcImJsb2Nrc1wiLGJsb2NrczpjfSkpKTpuP1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7XCJkYXRhLWJ1aWxkZXItY29tcG9uZW50XCI6dC5uYW1lLGNsYXNzTmFtZTpcImJ1aWxkZXItbG9hZGluZ1wifSx0LnByb3BzLmNoaWxkcmVuKTpSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIse1wiZGF0YS1idWlsZGVyLWNvbXBvbmVudFwiOnQubmFtZSxjbGFzc05hbWU6XCJidWlsZGVyLW5vLWNvbnRlbnRcIn0pfSkpfSkpKX0pKSl9LHQucHJvdG90eXBlLmV2YWxFeHByZXNzaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10aGlzLmRhdGE7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKC97eyhbXn1dKyl9fS9nLChmdW5jdGlvbihlLGkpe3JldHVybiB0cnlFdmFsKGksbix0Ll9lcnJvcnMpfSkpfSx0LnByb3RvdHlwZS5oYW5kbGVSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4saSxyLG8sYSxzLGwsdSxkLGM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocCl7cmV0dXJuIG49dC51cmwsaT10Lm1ldGhvZCxyPXQuYm9keSxvPXQuaGVhZGVycyxhPUpTT04uc3RyaW5naWZ5KHt1cmw6bixtZXRob2Q6aSxib2R5OnIsaGVhZGVyczpvfSksQnVpbGRlci5pc0lmcmFtZSYmZmV0Y2hDYWNoZVthXT8odGhpcy51cGRhdGVTdGF0ZSgoZnVuY3Rpb24odCl7dFtlXT1mZXRjaENhY2hlW2FdfSkpLFsyLGZldGNoQ2FjaGVbYV1dKToocz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIoYyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LHMsbCx1LGQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGMpe3N3aXRjaChjLmxhYmVsKXtjYXNlIDA6dD1EYXRlLm5vdygpLEJ1aWxkZXIuaXNCcm93c2VyfHxjb25zb2xlLnRpbWUoXCJGZXRjaCBcIithKSxjLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBjLnRyeXMucHVzaChbMSw0LDUsNl0pLGw9e21ldGhvZDppLGhlYWRlcnM6byxib2R5OnJ9LFwiR0VUXCI9PT1pJiZkZWxldGUgbC5ib2R5LFs0LGZldGNoJDEobixsKV07Y2FzZSAyOnJldHVybls0LGMuc2VudCgpLmpzb24oKV07Y2FzZSAzOnJldHVybiBzPWMuc2VudCgpLFszLDZdO2Nhc2UgNDpyZXR1cm4gdT1jLnNlbnQoKSxkPXRvRXJyb3IodSksdGhpcy5fZXJyb3JzJiZ0aGlzLl9lcnJvcnMucHVzaChkKSx0aGlzLl9sb2dzJiZ0aGlzLl9sb2dzLnB1c2goXCJGZXRjaCB0byBcIi5jb25jYXQoYSxcIiBlcnJvcmVkIGluIFwiKS5jb25jYXQoRGF0ZS5ub3coKS10LFwibXNcIikpLFsyXTtjYXNlIDU6cmV0dXJuIEJ1aWxkZXIuaXNCcm93c2VyfHwoY29uc29sZS50aW1lRW5kKFwiRmV0Y2ggXCIrYSksdGhpcy5fbG9ncyYmdGhpcy5fbG9ncy5wdXNoKFwiRmV0Y2hlZCBcIi5jb25jYXQoYSxcIiBpbiBcIikuY29uY2F0KERhdGUubm93KCktdCxcIm1zXCIpKSksWzddO2Nhc2UgNjpyZXR1cm4gcyYmKEJ1aWxkZXIuaXNJZnJhbWUmJihmZXRjaENhY2hlW2FdPXMpLHRoaXMudXBkYXRlU3RhdGUoKGZ1bmN0aW9uKHQpe3RbZV09c30pKSksWzIsc119fSkpfSkpfSwobD10aGlzLl9hc3luY1JlcXVlc3RzJiZ0aGlzLl9hc3luY1JlcXVlc3RzLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiBpc1JlcXVlc3RJbmZvKGUpJiZlLnVybD09PW59KSkpPygodT1sLnByb21pc2UpLnRoZW4oKGZ1bmN0aW9uKHQpe3QmJmMudXBkYXRlU3RhdGUoKGZ1bmN0aW9uKG4pe25bZV09dH0pKX0pKSxbMix1XSk6KGQ9cygpLEJ1aWxkZXIubmV4dFRpY2soKGZ1bmN0aW9uKCl7Yy5fYXN5bmNSZXF1ZXN0cyYmYy5fYXN5bmNSZXF1ZXN0cy5wdXNoKGQpfSkpLFsyLGRdKSl9KSl9KSl9LHQucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7dGhpcy5zdWJzY3JpcHRpb25zJiYodGhpcy5zdWJzY3JpcHRpb25zLnVuc3Vic2NyaWJlKCksdGhpcy5zdWJzY3JpcHRpb25zPW5ldyBTdWJzY3JpcHRpb24pfSx0LnByb3RvdHlwZS5oYW5kbGVCdWlsZGVyUmVxdWVzdD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMsaT10cnlFdmFsKHQsdGhpcy5kYXRhLHRoaXMuX2Vycm9ycyk7dGhpcy5zdWJzY3JpcHRpb25zJiZ0aGlzLnVuc3Vic2NyaWJlKCksaSYmdGhpcy5zdWJzY3JpcHRpb25zLmFkZCh0aGlzLmJ1aWxkZXIucXVldWVHZXRDb250ZW50KGkubW9kZWwsaSkuc3Vic2NyaWJlKChmdW5jdGlvbih0KXt0JiZuLnVwZGF0ZVN0YXRlKChmdW5jdGlvbihuKXtuW2VdPXR9KSl9KSkpfSx0LmRlZmF1bHRzPXtjb2RlZ2VuOkJvb2xlYW4oQnVpbGRlci5pc0Jyb3dzZXImJmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoXCJidWlsZGVyLmNvZGVnZW49dHJ1ZVwiKSl9LF9fZGVjb3JhdGUoW2RlYm91bmNlTmV4dFRpY2ssX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSx0LnByb3RvdHlwZSxcIm5vdGlmeVN0YXRlQ2hhbmdlXCIsbnVsbCksdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KTtmdW5jdGlvbiBCdWlsZGVyQmxvY2soZSl7cmV0dXJuIGUudHlwZT1cInJlYWN0XCIsQnVpbGRlci5Db21wb25lbnQoZSl9ZnVuY3Rpb24gdXBkYXRlTWV0YWRhdGEoZSx0KXt2YXIgbj1CdWlsZGVyLmNvbXBvbmVudHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/dC5uYW1lPT09ZTp0LmNsYXNzPT09dH0pKXx8bnVsbCxpPXQobik7biYmaT9CdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50KGkuY2xhc3N8fG4uY2xhc3MsaSk6biYmIWl8fCFuJiZpJiZCdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50KGkuY2xhc3MsaSl9ZnVuY3Rpb24gd2l0aEJ1aWxkZXIoZSx0KXtyZXR1cm4gQnVpbGRlckJsb2NrKHQpKGUpLGV9dmFyIGlzQnVpbGRlckVsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEJvb2xlYW4oXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJlwiQGJ1aWxkZXIuaW8vc2RrOkVsZW1lbnRcIj09PShudWxsPT1lP3ZvaWQgMDplW1wiQHR5cGVcIl0pKX0sd2l0aENoaWxkcmVuPWZ1bmN0aW9uKGUpe3ZhciB0PVJlYWN0X19kZWZhdWx0LmZvcndhcmRSZWYoKGZ1bmN0aW9uKHQsbil7dmFyIGkscixvPV9fYXNzaWduKHt9LHQpLGE9dC5jaGlsZHJlbnx8dC5idWlsZGVyQmxvY2smJnQuYnVpbGRlckJsb2NrLmNoaWxkcmVuJiZ0LmJ1aWxkZXJCbG9jay5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1aWxkZXJCbG9jayQxLHtrZXk6ZS5pZCxibG9jazplfSl9KSkscz1udWxsPT09KHI9bnVsbD09PShpPXQuYnVpbGRlckJsb2NrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jb21wb25lbnQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm9wdGlvbnM7cmV0dXJuIHMmJk9iamVjdC5rZXlzKHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXNbZV07QXJyYXkuaXNBcnJheSh0KSYmdC5ldmVyeShpc0J1aWxkZXJFbGVtZW50KT9vW2VdPXQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyQmxvY2skMSx7a2V5OmUuaWQsYmxvY2s6ZX0pfSkpOmlzQnVpbGRlckVsZW1lbnQodCkmJihvW2VdPVJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlckJsb2NrJDEse2Jsb2NrOnR9KSl9KSksUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChlLF9fYXNzaWduKHt9LG8se3JlZjpufSksYSl9KSk7cmV0dXJuIHQuYnVpbGRlck9wdGlvbnM9e2NhbkhhdmVDaGlsZHJlbjohMH0sdH0sbm9XcmFwPWZ1bmN0aW9uKGUpe3ZhciB0PVJlYWN0X19kZWZhdWx0LmZvcndhcmRSZWYoKGZ1bmN0aW9uKHQsbil7dmFyIGk9X19hc3NpZ24oX19hc3NpZ24oe30sdCksdC5hdHRyaWJ1dGVzKTtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChlLF9fYXNzaWduKHt9LGkse3JlZjpufSkpfSkpO3JldHVybiB0LmJ1aWxkZXJPcHRpb25zPXtub1dyYXA6ITB9LHR9LGljb25Vcmw9XCJodHRwczovL2ZpcmViYXNlc3RvcmFnZS5nb29nbGVhcGlzLmNvbS92MC9iL2J1aWxkZXItM2IwYTIuYXBwc3BvdC5jb20vby9pbWFnZXMlMkZiYXNlbGluZS10ZXh0X2ZpZWxkcy0yNHB4JTIwKDEpLnN2Zz9hbHQ9bWVkaWEmdG9rZW49MTIxNzdiNzMtMGVlMy00MmNhLTk4YzYtMGRkMDAzZGUxOTI5XCIsVGV4dENvbXBvbmVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0LnRleHRSZWY9bnVsbCx0fXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3RoaXMudGV4dFJlZiYmIS97eyhbXn1dKyl9fS8udGVzdCh0aGlzLnByb3BzLnRleHQpJiYodGhpcy50ZXh0UmVmLmlubmVySFRNTD10aGlzLnByb3BzLnRleHQpfSx0LnByb3RvdHlwZS5ldmFsRXhwcmVzc2lvbj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFsbG93VGV4dEVkaXQ/U3RyaW5nKGUpOlN0cmluZyhlKS5yZXBsYWNlKC97eyhbXn1dKyl9fS9nLChmdW5jdGlvbihlLG4pe3JldHVybiB0cnlFdmFsKG4sdCl9KSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFsbG93VGV4dEVkaXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJ1aWxkZXIuaXNCcm93c2VyJiZCdWlsZGVyLmlzRWRpdGluZyYmbG9jYXRpb24uc2VhcmNoLmluY2x1ZGVzKFwiYnVpbGRlci5hbGxvd1RleHRFZGl0PXRydWVcIikmJiEodGhpcy5wcm9wcy5idWlsZGVyQmxvY2smJnRoaXMucHJvcHMuYnVpbGRlckJsb2NrLmJpbmRpbmdzJiYodGhpcy5wcm9wcy5idWlsZGVyQmxvY2suYmluZGluZ3NbXCJjb21wb25lbnQub3B0aW9ucy50ZXh0XCJdfHx0aGlzLnByb3BzLmJ1aWxkZXJCbG9jay5iaW5kaW5nc1tcIm9wdGlvbnMudGV4dFwiXXx8dGhpcy5wcm9wcy5idWlsZGVyQmxvY2suYmluZGluZ3MudGV4dCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17b3V0bGluZTpcIm5vbmVcIixcIiYgcDpmaXJzdC1vZi10eXBlLCAmIC5idWlsZGVyLXBhcmFncmFwaDpmaXJzdC1vZi10eXBlXCI6e21hcmdpbjowfSxcIiYgPiBwLCAmIC5idWlsZGVyLXBhcmFncmFwaFwiOntjb2xvcjpcImluaGVyaXRcIixsaW5lSGVpZ2h0OlwiaW5oZXJpdFwiLGxldHRlclNwYWNpbmc6XCJpbmhlcml0XCIsZm9udFdlaWdodDpcImluaGVyaXRcIixmb250U2l6ZTpcImluaGVyaXRcIix0ZXh0QWxpZ246XCJpbmhlcml0XCIsZm9udEZhbWlseTpcImluaGVyaXRcIn19O3JldHVybiBqc3goQnVpbGRlclN0b3JlQ29udGV4dC5Db25zdW1lcixudWxsLChmdW5jdGlvbihuKXt2YXIgaTtyZXR1cm4obnVsbD09PShpPW4uY29udGVudC5tZXRhKXx8dm9pZCAwPT09aT92b2lkIDA6aS5ydGxNb2RlKSYmKHQuZGlyZWN0aW9uPVwicnRsXCIpLGpzeChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCxudWxsLGpzeChcInNwYW5cIixfX2Fzc2lnbih7cmVmOmZ1bmN0aW9uKHQpe2UudGV4dFJlZj10fSxjc3M6dCxjbGFzc05hbWU6XCJidWlsZGVyLXRleHRcIn0se2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MOntfX2h0bWw6ZS5ldmFsRXhwcmVzc2lvbihlLnByb3BzLnRleHR8fGUucHJvcHMuY29udGVudHx8XCJcIixuLnN0YXRlKX19KSkpfSkpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLFRleHQ9d2l0aEJ1aWxkZXIoVGV4dENvbXBvbmVudCx7bmFtZTpcIlRleHRcIixzdGF0aWM6ITAsaW1hZ2U6aWNvblVybCxpbnB1dHM6W3tuYW1lOlwidGV4dFwiLHR5cGU6XCJodG1sXCIscmVxdWlyZWQ6ITAsYXV0b0ZvY3VzOiEwLGJ1YmJsZTohMCxkZWZhdWx0VmFsdWU6XCJFbnRlciBzb21lIHRleHQuLi5cIn1dLGRlZmF1bHRTdHlsZXM6e2xpbmVIZWlnaHQ6XCJub3JtYWxcIixoZWlnaHQ6XCJhdXRvXCIsdGV4dEFsaWduOlwiY2VudGVyXCJ9fSk7ZnVuY3Rpb24gU2xvdChlKXt2YXIgdD1lLm5hbWUsbj11c2VDb250ZXh0KEJ1aWxkZXJTdG9yZUNvbnRleHQpLGk9IW4uY29udGV4dC5zeW1ib2xJZDtyZXR1cm4ganN4KFwiZGl2XCIsX19hc3NpZ24oe2Nzczp7cG9pbnRlckV2ZW50czpcImF1dG9cIn19LGkmJntcImJ1aWxkZXItc2xvdFwiOnR9KSxqc3goQnVpbGRlckJsb2Nrcyx7Y2hpbGQ6ITAscGFyZW50RWxlbWVudElkOm4uY29udGV4dC5zeW1ib2xJZCxkYXRhUGF0aDpcInN5bWJvbC5kYXRhLlwiLmNvbmNhdCh0KSxibG9ja3M6bi5zdGF0ZVt0XXx8W119KSl9QnVpbGRlci5yZWdpc3RlckNvbXBvbmVudChTbG90LHtuYW1lOlwiU2xvdFwiLGRlc2NyaXB0aW9uOlwiQWxsb3cgY2hpbGQgYmxvY2tzIHRvIGJlIGluc2VydGVkIGludG8gdGhpcyBjb250ZW50IHdoZW4gdXNlZCBhcyBhIFN5bWJvbFwiLGRvY3NMaW5rOlwiaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3Mvc3ltYm9scy13aXRoLWJsb2Nrc1wiLGltYWdlOlwiaHR0cHM6Ly9jZG4uYnVpbGRlci5pby9hcGkvdjEvaW1hZ2UvYXNzZXRzJTJGWUpJR2I0aTAxanZ3MFNSZEw1QnQlMkYzYWFkNmRlMzZlYWU0M2I1OWI1MmM4NTE5MGZkZWY1NlwiLGlucHV0czpbe25hbWU6XCJuYW1lXCIsdHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiEwLGRlZmF1bHRWYWx1ZTpcImNoaWxkcmVuXCJ9XX0pO3ZhciBGcmFnbWVudENvbXBvbmVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcHMuYnVpbGRlckJsb2NrJiZ0aGlzLnByb3BzLmJ1aWxkZXJCbG9jay5jaGlsZHJlbiYmdGhpcy5wcm9wcy5idWlsZGVyQmxvY2suY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1aWxkZXJCbG9jayQxLHtibG9jazplLGtleTplLmlkLGluZGV4OnR9KX0pKX0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxGcmFnbWVudD13aXRoQnVpbGRlcihGcmFnbWVudENvbXBvbmVudCx7bmFtZTpcIkNvcmU6RnJhZ21lbnRcIixjYW5IYXZlQ2hpbGRyZW46ITAsbm9XcmFwOiEwLHN0YXRpYzohMCxoaWRlRnJvbUluc2VydE1lbnU6ITB9KSxERUZBVUxUX0FTUEVDVF9SQVRJTyQyPS43MDA0MDQ4NTgyOTk1OTQ4LGRlZmF1bHRCbG9ja3M9W3tcIkB0eXBlXCI6XCJAYnVpbGRlci5pby9zZGs6RWxlbWVudFwiLHJlc3BvbnNpdmVTdHlsZXM6e2xhcmdlOntkaXNwbGF5OlwiZmxleFwiLGZsZXhEaXJlY3Rpb246XCJjb2x1bW5cIixhbGlnbkl0ZW1zOlwic3RyZXRjaFwiLGZsZXhTaHJpbms6XCIwXCIscG9zaXRpb246XCJyZWxhdGl2ZVwiLG1hcmdpblRvcDpcIjMwcHhcIix0ZXh0QWxpZ246XCJjZW50ZXJcIixsaW5lSGVpZ2h0Olwibm9ybWFsXCIsaGVpZ2h0OlwiYXV0b1wiLG1pbkhlaWdodDpcIjIwcHhcIixtaW5XaWR0aDpcIjIwcHhcIixvdmVyZmxvdzpcImhpZGRlblwifX0sY29tcG9uZW50OntuYW1lOlwiSW1hZ2VcIixvcHRpb25zOntpbWFnZTpcImh0dHBzOi8vYnVpbGRlci5pby9hcGkvdjEvaW1hZ2UvYXNzZXRzJTJGcHdnamYwUm9ZV2JkbkpTYnBCQWpYTlJNZTlGMiUyRmZiMjdhN2M3OTAzMjQyOTRhZjhiZTFjMzVmZTMwZjRkXCIsYmFja2dyb3VuZFBvc2l0aW9uOlwiY2VudGVyXCIsYmFja2dyb3VuZFNpemU6XCJjb3ZlclwiLGFzcGVjdFJhdGlvOkRFRkFVTFRfQVNQRUNUX1JBVElPJDJ9fX0se1wiQHR5cGVcIjpcIkBidWlsZGVyLmlvL3NkazpFbGVtZW50XCIscmVzcG9uc2l2ZVN0eWxlczp7bGFyZ2U6e2Rpc3BsYXk6XCJmbGV4XCIsZmxleERpcmVjdGlvbjpcImNvbHVtblwiLGFsaWduSXRlbXM6XCJzdHJldGNoXCIsZmxleFNocmluazpcIjBcIixwb3NpdGlvbjpcInJlbGF0aXZlXCIsbWFyZ2luVG9wOlwiMzBweFwiLHRleHRBbGlnbjpcImNlbnRlclwiLGxpbmVIZWlnaHQ6XCJub3JtYWxcIixoZWlnaHQ6XCJhdXRvXCJ9fSxjb21wb25lbnQ6e25hbWU6XCJUZXh0XCIsb3B0aW9uczp7dGV4dDpcIjxwPkVudGVyIHNvbWUgdGV4dC4uLjwvcD5cIn19fV0sQ29sdW1uc0NvbXBvbmVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY29sdW1uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5jb2x1bW5zfHxbXX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJndXR0ZXJTaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLnByb3BzLnNwYWNlP3RoaXMucHJvcHMuc3BhY2V8fDA6MjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ2V0V2lkdGg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29sdW1uc1tlXSYmdGhpcy5jb2x1bW5zW2VdLndpZHRofHwxMDAvdGhpcy5jb2x1bW5zLmxlbmd0aH0sdC5wcm90b3R5cGUuZ2V0Q29sdW1uV2lkdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jb2x1bW5zLG49dGhpcy5ndXR0ZXJTaXplLGk9dGhpcy5nZXRXaWR0aChlKSxyPW4qKHQubGVuZ3RoLTEpKihpLzEwMCk7cmV0dXJuXCJjYWxjKFwiLmNvbmNhdChpLFwiJSAtIFwiKS5jb25jYXQocixcInB4KVwiKX0sdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscj10aGlzLG89dGhpcy5jb2x1bW5zLGE9dGhpcy5ndXR0ZXJTaXplLHM9KG51bGw9PT0oaT1udWxsPT09KG49bnVsbD09PSh0PXRoaXMucHJvcHMuYnVpbGRlclN0YXRlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jb250ZXh0LmJ1aWxkZXJDb250ZW50KXx8dm9pZCAwPT09bj92b2lkIDA6bi5tZXRhKXx8dm9pZCAwPT09aT92b2lkIDA6aS5icmVha3BvaW50cyl8fHt9LGw9Z2V0U2l6ZXNGb3JCcmVha3BvaW50cyhzKTtyZXR1cm4ganN4KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LG51bGwsanN4KFwiZGl2XCIse2NsYXNzTmFtZTpcImJ1aWxkZXItY29sdW1uc1wiLGNzczpfX2Fzc2lnbih7ZGlzcGxheTpcImZsZXhcIixoZWlnaHQ6XCIxMDAlXCJ9LFwibmV2ZXJcIiE9PXRoaXMucHJvcHMuc3RhY2tDb2x1bW5zQXQmJihlPXt9LGVbXCJAbWVkaWEgKG1heC13aWR0aDogXCIuY29uY2F0KFwidGFibGV0XCIhPT10aGlzLnByb3BzLnN0YWNrQ29sdW1uc0F0P2wuc21hbGwubWF4OmwubWVkaXVtLm1heCxcInB4KVwiKV09e2ZsZXhEaXJlY3Rpb246dGhpcy5wcm9wcy5yZXZlcnNlQ29sdW1uc1doZW5TdGFja2VkP1wiY29sdW1uLXJldmVyc2VcIjpcImNvbHVtblwiLGFsaWduSXRlbXM6XCJzdHJldGNoXCJ9LGUpKX0sby5tYXAoKGZ1bmN0aW9uKGUsdCl7dmFyIG4saSxvPWUubGluaz9MaW5rOlwiZGl2XCI7cmV0dXJuIGpzeChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCx7a2V5OnR9LGpzeChvLF9fYXNzaWduKHtjbGFzc05hbWU6XCJidWlsZGVyLWNvbHVtblwifSxlLmxpbms/e2hyZWY6ZS5saW5rfTpudWxsLHtjc3M6X19hc3NpZ24oKG49e2Rpc3BsYXk6XCJmbGV4XCIsZmxleERpcmVjdGlvbjpcImNvbHVtblwiLGFsaWduSXRlbXM6XCJzdHJldGNoXCIsbGluZUhlaWdodDpcIm5vcm1hbFwifSxuW1wiJiA+IC5idWlsZGVyLWJsb2Nrc1wiXT17ZmxleEdyb3c6MX0sbi53aWR0aD1yLmdldENvbHVtbldpZHRoKHQpLG4ubWFyZ2luTGVmdD0wPT09dD8wOmEsbiksXCJuZXZlclwiIT09ci5wcm9wcy5zdGFja0NvbHVtbnNBdCYmKGk9e30saVtcIkBtZWRpYSAobWF4LXdpZHRoOiBcIi5jb25jYXQoXCJ0YWJsZXRcIiE9PXIucHJvcHMuc3RhY2tDb2x1bW5zQXQ/bC5zbWFsbC5tYXg6bC5tZWRpdW0ubWF4LFwicHgpXCIpXT17d2lkdGg6XCIxMDAlXCIsbWFyZ2luTGVmdDowfSxpKSl9KSxqc3goQnVpbGRlckJsb2Nrcyx7a2V5OnQsY2hpbGQ6ITAscGFyZW50RWxlbWVudElkOnIucHJvcHMuYnVpbGRlckJsb2NrJiZyLnByb3BzLmJ1aWxkZXJCbG9jay5pZCxibG9ja3M6ZS5ibG9ja3MsZGF0YVBhdGg6XCJjb21wb25lbnQub3B0aW9ucy5jb2x1bW5zLlwiLmNvbmNhdCh0LFwiLmJsb2Nrc1wiKX0pKSl9KSkpKX0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxDb2x1bW5zPXdpdGhCdWlsZGVyKENvbHVtbnNDb21wb25lbnQse25hbWU6XCJDb2x1bW5zXCIsc3RhdGljOiEwLGlucHV0czpbe25hbWU6XCJjb2x1bW5zXCIsdHlwZTpcImFycmF5XCIsYnJvYWRjYXN0OiEwLHN1YkZpZWxkczpbe25hbWU6XCJibG9ja3NcIix0eXBlOlwiYXJyYXlcIixoaWRlRnJvbVVJOiEwLGRlZmF1bHRWYWx1ZTpkZWZhdWx0QmxvY2tzfSx7bmFtZTpcIndpZHRoXCIsdHlwZTpcIm51bWJlclwiLGhpZGVGcm9tVUk6ITAsaGVscGVyVGV4dDpcIldpZHRoICUsIGUuZy4gc2V0IHRvIDUwIHRvIGZpbGwgaGFsZiBvZiB0aGUgc3BhY2VcIn0se25hbWU6XCJsaW5rXCIsdHlwZTpcInVybFwiLGhlbHBlclRleHQ6XCJPcHRpb25hbGx5IHNldCBhIHVybCB0aGF0IGNsaWNraW5nIHRoaXMgY29sdW1uIHdpbGwgbGluayB0b1wifV0sZGVmYXVsdFZhbHVlOlt7YmxvY2tzOmRlZmF1bHRCbG9ja3N9LHtibG9ja3M6ZGVmYXVsdEJsb2Nrc31dLG9uQ2hhbmdlOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtuLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZGVsZXRlKFwid2lkdGhcIil9KSl9dmFyIG49ZS5nZXQoXCJjb2x1bW5zXCIpO0FycmF5LmlzQXJyYXkobikmJighbi5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXQoXCJ3aWR0aFwiKX0pKXx8KG4uZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIWUuZ2V0KFwid2lkdGhcIil9KSl8fDEwMCE9PW4ucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK3QuZ2V0KFwid2lkdGhcIil9KSwwKSkmJnQoKSl9fSx7bmFtZTpcInNwYWNlXCIsdHlwZTpcIm51bWJlclwiLGRlZmF1bHRWYWx1ZToyMCxoZWxwZXJUZXh0OlwiU2l6ZSBvZiBnYXAgYmV0d2VlbiBjb2x1bW5zXCIsYWR2YW5jZWQ6ITB9LHtuYW1lOlwic3RhY2tDb2x1bW5zQXRcIix0eXBlOlwic3RyaW5nXCIsZGVmYXVsdFZhbHVlOlwidGFibGV0XCIsaGVscGVyVGV4dDpcIkNvbnZlcnQgaG9yaXpvbnRhbCBjb2x1bW5zIHRvIHZlcnRpY2FsIGF0IHdoYXQgZGV2aWNlIHNpemVcIixlbnVtOltcInRhYmxldFwiLFwibW9iaWxlXCIsXCJuZXZlclwiXSxhZHZhbmNlZDohMH0se25hbWU6XCJyZXZlcnNlQ29sdW1uc1doZW5TdGFja2VkXCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6ITEsaGVscGVyVGV4dDpcIldoZW4gc3RhY2tpbmcgY29sdW1ucyBmb3IgbW9iaWxlIGRldmljZXMsIHJldmVyc2UgdGhlIG9yZGVyaW5nXCIsYWR2YW5jZWQ6ITB9XX0pLEVtYmVkQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuZWxlbWVudFJlZj1udWxsLHQuc2NyaXB0c0luc2VydGVkPW5ldyBTZXQsdC5zY3JpcHRzUnVuPW5ldyBTZXQsdH1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnRlbnQhPT10aGlzLnByb3BzLmNvbnRlbnR9LHQucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLnByb3BzLmNvbnRlbnQhPT1lLmNvbnRlbnQmJnRoaXMuZmluZEFuZFJ1blNjcmlwdHMoKX0sdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt0aGlzLmZpbmRBbmRSdW5TY3JpcHRzKCl9LHQucHJvdG90eXBlLmZpbmRBbmRSdW5TY3JpcHRzPWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50UmVmJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KWZvcih2YXIgZT10aGlzLmVsZW1lbnRSZWYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIiksdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO2lmKG4uc3JjKXtpZih0aGlzLnNjcmlwdHNJbnNlcnRlZC5oYXMobi5zcmMpKWNvbnRpbnVlO3RoaXMuc2NyaXB0c0luc2VydGVkLmFkZChuLnNyYyk7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtpLmFzeW5jPSEwLGkuc3JjPW4uc3JjLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoaSl9ZWxzZXtpZih0aGlzLnNjcmlwdHNSdW4uaGFzKG4uaW5uZXJUZXh0KSljb250aW51ZTt0aGlzLnNjcmlwdHNSdW4uYWRkKG4uaW5uZXJUZXh0KTt0cnl7bmV3IEZ1bmN0aW9uKG4uaW5uZXJUZXh0KSgpfWNhdGNoKGUpe2NvbnNvbGUud2FybihcIkJ1aWxkZXIgY3VzdG9tIGNvZGUgY29tcG9uZW50IGVycm9yOlwiLGUpfX19fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb250ZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBCdWlsZGVyLmlzU2VydmVyPyh0aGlzLnByb3BzLmNvbnRlbnR8fFwiXCIpLnJlcGxhY2UoLzxzY3JpcHRbXFxzXFxTXSo/PFxcL3NjcmlwdD4vZyxcIlwiKTp0aGlzLnByb3BzLmNvbnRlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLHtyZWY6ZnVuY3Rpb24odCl7cmV0dXJuIGUuZWxlbWVudFJlZj10fSxjbGFzc05hbWU6XCJidWlsZGVyLWVtYmVkXCIsZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6e19faHRtbDp0aGlzLmNvbnRlbnR9fSl9LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksRW1iZWQ9d2l0aEJ1aWxkZXIoRW1iZWRDb21wb25lbnQse25hbWU6XCJFbWJlZFwiLHN0YXRpYzohMCxpbnB1dHM6W3tuYW1lOlwidXJsXCIsdHlwZTpcInVybFwiLHJlcXVpcmVkOiEwLGRlZmF1bHRWYWx1ZTpcIlwiLGhlbHBlclRleHQ6XCJlLmcuIGVudGVyIGEgeW91dHViZSB1cmwsIGdvb2dsZSBtYXAsIGV0Y1wifSx7bmFtZTpcImNvbnRlbnRcIix0eXBlOlwiaHRtbFwiLGRlZmF1bHRWYWx1ZTonPGRpdiBzdHlsZT1cInBhZGRpbmc6IDIwcHg7IHRleHQtYWxpZ246IGNlbnRlclwiPihDaG9vc2UgYW4gZW1iZWQgVVJMKTxkaXY+JyxoaWRlRnJvbVVJOiEwfV19KSxnbG9iYWxSZXBsYWNlTm9kZXM9e318fG51bGwsaXNTaG9waWZ5JDE9QnVpbGRlci5pc0Jyb3dzZXImJlwiU2hvcGlmeVwiaW4gd2luZG93O2lmKEJ1aWxkZXIuaXNCcm93c2VyJiZnbG9iYWxSZXBsYWNlTm9kZXMpe3ZhciBjdXN0b21Db2RlUXVlcnlTZWxlY3Rvcl8xPVwiLmJ1aWxkZXItY3VzdG9tLWNvZGVcIjt0cnl7dmFyIGFsbEN1c3RvbUNvZGVFbGVtZW50c18xPUFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjdXN0b21Db2RlUXVlcnlTZWxlY3Rvcl8xKSksYnVpbGRlclRlbXBsYXRlcz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwidGVtcGxhdGVbZGF0YS10ZW1wbGF0ZS12YXJpYW50LWlkXVwiKTtidWlsZGVyVGVtcGxhdGVzLmxlbmd0aCYmQXJyYXkuZnJvbShidWlsZGVyVGVtcGxhdGVzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRlbnQucXVlcnlTZWxlY3RvckFsbChjdXN0b21Db2RlUXVlcnlTZWxlY3Rvcl8xKTt0Lmxlbmd0aCYmKGFsbEN1c3RvbUNvZGVFbGVtZW50c18xPWFsbEN1c3RvbUNvZGVFbGVtZW50c18xLmNvbmNhdChBcnJheS5mcm9tKHQpKSl9KSksYWxsQ3VzdG9tQ29kZUVsZW1lbnRzXzEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnRFbGVtZW50LG49dCYmdC5nZXRBdHRyaWJ1dGUoXCJidWlsZGVyLWlkXCIpO24mJihnbG9iYWxSZXBsYWNlTm9kZXNbbl09Z2xvYmFsUmVwbGFjZU5vZGVzW25dfHxbXSxnbG9iYWxSZXBsYWNlTm9kZXNbbl0ucHVzaChpc1Nob3BpZnkkMT9lOmUuY2xvbmVOb2RlKCEwKSkpfSkpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJCdWlsZGVyIHJlcGxhY2Ugbm9kZXMgZXJyb3I6XCIsZSl9fXZhciBDdXN0b21Db2RlQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG4saT10aGlzO2lmKChpPWUuY2FsbCh0aGlzLHQpfHx0aGlzKS5lbGVtZW50UmVmPW51bGwsaS5vcmlnaW5hbFJlZj1udWxsLGkuc2NyaXB0c0luc2VydGVkPW5ldyBTZXQsaS5zY3JpcHRzUnVuPW5ldyBTZXQsaS5maXJzdExvYWQ9ITAsaS5yZXBsYWNlTm9kZXM9ITEsaS5zdGF0ZT17aHlkcmF0ZWQ6ITF9LEJ1aWxkZXIuaXNCcm93c2VyKXt2YXIgcj1udWxsPT09KG49aS5wcm9wcy5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmlkO2lmKGkucmVwbGFjZU5vZGVzPUJvb2xlYW4oQnVpbGRlci5pc0Jyb3dzZXImJih0LnJlcGxhY2VOb2Rlc3x8aXNTaG9waWZ5JDEpJiZyJiYobnVsbD09Z2xvYmFsUmVwbGFjZU5vZGVzP3ZvaWQgMDpnbG9iYWxSZXBsYWNlTm9kZXNbcl0pKSxpLmZpcnN0TG9hZCYmaS5wcm9wcy5idWlsZGVyQmxvY2spaWYociYmKG51bGw9PWdsb2JhbFJlcGxhY2VOb2Rlcz92b2lkIDA6Z2xvYmFsUmVwbGFjZU5vZGVzW3JdKSl7dmFyIG89Z2xvYmFsUmVwbGFjZU5vZGVzW3JdLnNoaWZ0KCl8fG51bGw7aS5vcmlnaW5hbFJlZj1vLDA9PT1nbG9iYWxSZXBsYWNlTm9kZXNbcl0ubGVuZ3RoJiZkZWxldGUgZ2xvYmFsUmVwbGFjZU5vZGVzW3JdfWVsc2UgaWYoaS5yZXBsYWNlTm9kZXMpe3ZhciBhPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIuY29uY2F0KGkucHJvcHMuYnVpbGRlckJsb2NrLmlkLFwiIC5idWlsZGVyLWN1c3RvbS1jb2RlXCIpKTtpZigxPT09YS5sZW5ndGgpe3ZhciBzPWFbMF07aS5vcmlnaW5hbFJlZj1zLGkub3JpZ2luYWxSZWYucmVtb3ZlKCl9fX1yZXR1cm4gaX1yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNvZGUhPT10aGlzLnByb3BzLmNvZGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5vUmVhY3RSZW5kZXJcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIEJvb2xlYW4oaXNTaG9waWZ5JDEmJihudWxsPT09KGU9dGhpcy5wcm9wcy5jb2RlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5tYXRjaCgve1t7JV0vZykpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpc0h5ZHJhdGluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4haXNTaG9waWZ5JDEmJnRoaXMub3JpZ2luYWxSZWZ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMucHJvcHMuY29kZSE9PWUuY29kZSYmdGhpcy5maW5kQW5kUnVuU2NyaXB0cygpfSx0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5maXJzdExvYWQ9ITEsdGhpcy5yZXBsYWNlTm9kZXN8fCh0aGlzLmlzSHlkcmF0aW5nPyh0aGlzLnNldFN0YXRlKHtoeWRyYXRlZDohMH0pLEJ1aWxkZXIubmV4dFRpY2soKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZmluZEFuZFJ1blNjcmlwdHMoKX0pKSk6dGhpcy5maW5kQW5kUnVuU2NyaXB0cygpKSxCdWlsZGVyLmlzQnJvd3NlciYmdGhpcy5yZXBsYWNlTm9kZXMmJnRoaXMub3JpZ2luYWxSZWYmJnRoaXMuZWxlbWVudFJlZiYmdGhpcy5lbGVtZW50UmVmLmFwcGVuZENoaWxkKHRoaXMub3JpZ2luYWxSZWYpfSx0LnByb3RvdHlwZS5maW5kQW5kUnVuU2NyaXB0cz1mdW5jdGlvbigpe2lmKHRoaXMuZWxlbWVudFJlZiYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdylmb3IodmFyIGU9dGhpcy5lbGVtZW50UmVmLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XTtpZihuLnNyYyl7aWYodGhpcy5zY3JpcHRzSW5zZXJ0ZWQuaGFzKG4uc3JjKSljb250aW51ZTt0aGlzLnNjcmlwdHNJbnNlcnRlZC5hZGQobi5zcmMpO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aS5hc3luYz0hMCxpLnNyYz1uLnNyYyxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGkpfWVsc2UgaWYoIW4udHlwZXx8W1widGV4dC9qYXZhc2NyaXB0XCIsXCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCIsXCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0XCJdLmluY2x1ZGVzKG4udHlwZSkpe2lmKHRoaXMuc2NyaXB0c1J1bi5oYXMobi5pbm5lclRleHQpKWNvbnRpbnVlO3RyeXt0aGlzLnNjcmlwdHNSdW4uYWRkKG4uaW5uZXJUZXh0KSxuZXcgRnVuY3Rpb24obi5pbm5lclRleHQpKCl9Y2F0Y2goZSl7Y29uc29sZS53YXJuKFwiQnVpbGRlciBjdXN0b20gY29kZSBjb21wb25lbnQgZXJyb3I6XCIsZSl9fX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNvZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKEJ1aWxkZXIuaXNTZXJ2ZXJ8fHRoaXMuaXNIeWRyYXRpbmcmJnRoaXMuZmlyc3RMb2FkKSYmdGhpcy5wcm9wcy5zY3JpcHRzQ2xpZW50T25seT8odGhpcy5wcm9wcy5jb2RlfHxcIlwiKS5yZXBsYWNlKC88c2NyaXB0XFxiW148XSooPzooPyE8XFwvc2NyaXB0Pik8W148XSopKjxcXC9zY3JpcHQ+L2dpLFwiXCIpOnRoaXMucHJvcHMuY29kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsX19hc3NpZ24oe3JlZjpmdW5jdGlvbih0KXtyZXR1cm4gZS5lbGVtZW50UmVmPXR9LGNsYXNzTmFtZTpcImJ1aWxkZXItY3VzdG9tLWNvZGVcIn0sIXRoaXMucmVwbGFjZU5vZGVzJiYhdGhpcy5ub1JlYWN0UmVuZGVyJiZ7ZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6e19faHRtbDp0aGlzLmNvZGV9fSkpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLEN1c3RvbUNvZGU9d2l0aEJ1aWxkZXIoQ3VzdG9tQ29kZUNvbXBvbmVudCx7bmFtZTpcIkN1c3RvbSBDb2RlXCIsc3RhdGljOiEwLHJlcXVpcmVkUGVybWlzc2lvbnM6W1wiZWRpdENvZGVcIl0saW5wdXRzOlt7bmFtZTpcImNvZGVcIix0eXBlOlwiaHRtbFwiLHJlcXVpcmVkOiEwLGRlZmF1bHRWYWx1ZTpcIjxwPkhlbGxvIHRoZXJlLCBJIGFtIGN1c3RvbSBIVE1MIGNvZGUhPC9wPlwiLGNvZGU6ITB9LF9fYXNzaWduKHtuYW1lOlwicmVwbGFjZU5vZGVzXCIsdHlwZTpcImJvb2xlYW5cIixoZWxwZXJUZXh0OlwiUHJlc2VydmUgc2VydmVyIHJlbmRlcmVkIGRvbSBub2Rlc1wiLGFkdmFuY2VkOiEwfSxpc1Nob3BpZnkkMSYme2RlZmF1bHRWYWx1ZTohMH0pLF9fYXNzaWduKHtuYW1lOlwic2NyaXB0c0NsaWVudE9ubHlcIix0eXBlOlwiYm9vbGVhblwiLGhlbHBlclRleHQ6XCJPbmx5IHByaW50IGFuZCBydW4gc2NyaXB0cyBvbiB0aGUgY2xpZW50LiBJbXBvcnRhbnQgd2hlbiBzY3JpcHRzIGluZmx1ZW5jZSBET00gdGhhdCBjb3VsZCBiZSByZXBsYWNlZCB3aGVuIGNsaWVudCBsb2Fkc1wiLGFkdmFuY2VkOiEwfSwhaXNTaG9waWZ5JDEmJntkZWZhdWx0VmFsdWU6ITB9KV19KSxJTUFHRV9GSUxFX1RZUEVTPVtcImpwZWdcIixcImpwZ1wiLFwicG5nXCIsXCJzdmdcIixcIndlYnBcIixcImdpZlwiLFwiamZpZlwiLFwicGpwZWdcIixcInBqcFwiLFwiYXBuZ1wiLFwiYXZpZlwiLFwidGlmXCIsXCJ0aWZmXCIsXCJoZWlmXCIsXCJibXBcIixcImVwc1wiLFwicmF3XCIsXCJjcjJcIixcIm5lZlwiLFwib3JmXCIsXCJzcjJcIixcInBzZFwiLFwiaGVpY1wiLFwiZGliXCIsXCJhaVwiXSxWSURFT19GSUxFX1RZUEVTPVtcIm1wNFwiLFwid2VibVwiLFwibWt2XCIsXCJmbHZcIixcInZvYlwiLFwib2d2XCIsXCJvZ2dcIixcImRyY1wiLFwiZ2lmXCIsXCJnaWZ2XCIsXCJtbmdcIixcImF2aVwiLFwibW92XCIsXCJxdFwiLFwibXRzXCIsXCJtMnRzXCIsXCJ0c1wiLFwid212XCIsXCJ5dXZcIixcInJtXCIsXCJybXZiXCIsXCJ2aXZcIixcImFzZlwiLFwiYW12XCIsXCJtNHBcIixcIm1wZWdcIixcIm1wZVwiLFwibTJ2XCIsXCJtNHZcIixcInN2aVwiLFwiM2dwXCIsXCIzZzJcIixcIm14ZlwiLFwicm9xXCIsXCJuc3ZcIixcImY0dlwiLFwiZjRwXCIsXCJmNGFcIixcImY0YlwiXSxpc05ld1JlYWN0PVwidXNlXCJpbiBSZWFjdF9fZGVmYXVsdDtmdW5jdGlvbiByZW1vdmVQcm90b2NvbChlKXtyZXR1cm4gZS5yZXBsYWNlKC9odHRwKHMpPzovLFwiXCIpfWZ1bmN0aW9uIGlzRWxlbWVudEluVmlld3BvcnQoZSl7dmFyIHQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gdC50b3A+PTAmJnQubGVmdD49MCYmdC5ib3R0b208PSh3aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpJiZ0LnJpZ2h0PD0od2luZG93LmlubmVyV2lkdGh8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCl9ZnVuY3Rpb24gZ2V0U2hvcGlmeUltYWdlVXJsKGUsdCl7aWYoIWV8fCEobnVsbD09ZT92b2lkIDA6ZS5tYXRjaCgvY2RuXFwuc2hvcGlmeVxcLmNvbS8pKXx8IXQpcmV0dXJuIGU7aWYoXCJtYXN0ZXJcIj09PXQpcmV0dXJuIHJlbW92ZVByb3RvY29sKGUpO3ZhciBuPWUubWF0Y2goLyhfXFxkK3goXFxkKyk/KT8oXFwuKGpwZ3xqcGVnfGdpZnxwbmd8Ym1wfGJpdG1hcHx0aWZmfHRpZikoXFw/dj1cXGQrKT8pL2kpO2lmKG4pe3ZhciBpPWUuc3BsaXQoblswXSkscj1uWzNdLG89dC5tYXRjaChcInhcIik/dDpcIlwiLmNvbmNhdCh0LFwieFwiKTtyZXR1cm4gcmVtb3ZlUHJvdG9jb2woXCJcIi5jb25jYXQoaVswXSxcIl9cIikuY29uY2F0KG8pLmNvbmNhdChyKSl9cmV0dXJuIG51bGx9dmFyIERFRkFVTFRfQVNQRUNUX1JBVElPJDE9LjcwNDE7ZnVuY3Rpb24gdXBkYXRlUXVlcnlQYXJhbShlLHQsbil7dm9pZCAwPT09ZSYmKGU9XCJcIik7dmFyIGk9bmV3IFJlZ0V4cChcIihbPyZdKVwiK3QrXCI9Lio/KCZ8JClcIixcImlcIikscj0tMSE9PWUuaW5kZXhPZihcIj9cIik/XCImXCI6XCI/XCI7cmV0dXJuIGUubWF0Y2goaSk/ZS5yZXBsYWNlKGksXCIkMVwiK3QrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KG4pK1wiJDJcIik6ZStyK3QrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KG4pfWZ1bmN0aW9uIGdldFNyY1NldChlKXtpZighZSlyZXR1cm4gZTt2YXIgdD1bMTAwLDIwMCw0MDAsODAwLDEyMDAsMTYwMCwyZTNdO2lmKGUubWF0Y2goL2J1aWxkZXJcXC5pby8pKXt2YXIgbj1lLGk9TnVtYmVyKGUuc3BsaXQoXCI/d2lkdGg9XCIpWzFdKTtyZXR1cm4gaXNOYU4oaSl8fChuPVwiXCIuY29uY2F0KG4sXCIgXCIpLmNvbmNhdChpLFwid1wiKSksdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09aX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiXCIuY29uY2F0KHVwZGF0ZVF1ZXJ5UGFyYW0oZSxcIndpZHRoXCIsdCksXCIgXCIpLmNvbmNhdCh0LFwid1wiKX0pKS5jb25jYXQoW25dKS5qb2luKFwiLCBcIil9cmV0dXJuIGUubWF0Y2goL2NkblxcLnNob3BpZnlcXC5jb20vKT90Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuW2dldFNob3BpZnlJbWFnZVVybChlLFwiXCIuY29uY2F0KHQsXCJ4XCIpLmNvbmNhdCh0KSksdF19KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hIWVbMF19KSkubWFwKChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXTtyZXR1cm5cIlwiLmNvbmNhdCh0LFwiIFwiKS5jb25jYXQobixcIndcIil9KSkuY29uY2F0KFtlXSkuam9pbihcIiwgXCIpOmV9dmFyIGdldFNpemVzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLG8sYSxzLGwsdSxkO3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgYz1cIlwiO2lmKGUpe3ZhciBwPWUuc3BsaXQoXCIsXCIpLGY9cC5sZW5ndGg7Yz1wLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZj09PXQrMT9lLnJlcGxhY2UoL1xcKFtcXHNcXFNdKj9cXCkvZyxcIlwiKS50cmltKCk6ZX0pKS5qb2luKFwiLCBcIil9ZWxzZSBpZih0JiZ0LnJlc3BvbnNpdmVTdHlsZXMpe3ZhciBtPVtdLGg9ITEsdj0vXlxcZCsvLGc9Z2V0U2l6ZXNGb3JCcmVha3BvaW50cyhuKTtpZihudWxsPT09KG89bnVsbD09PShyPW51bGw9PT0oaT10LnJlc3BvbnNpdmVTdHlsZXMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnNtYWxsKXx8dm9pZCAwPT09cj92b2lkIDA6ci53aWR0aCl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubWF0Y2godikpe2g9ITA7dmFyIGI9XCIobWF4LXdpZHRoOiBcIi5jb25jYXQoZy5zbWFsbC5tYXgsXCJweClcIikseT1cIlwiLmNvbmNhdChiLFwiIFwiKS5jb25jYXQodC5yZXNwb25zaXZlU3R5bGVzLnNtYWxsLndpZHRoLnJlcGxhY2UoXCIlXCIsXCJ2d1wiKSk7bS5wdXNoKHkpfWlmKG51bGw9PT0obD1udWxsPT09KHM9bnVsbD09PShhPXQucmVzcG9uc2l2ZVN0eWxlcyl8fHZvaWQgMD09PWE/dm9pZCAwOmEubWVkaXVtKXx8dm9pZCAwPT09cz92b2lkIDA6cy53aWR0aCl8fHZvaWQgMD09PWw/dm9pZCAwOmwubWF0Y2godikpe2g9ITA7Yj1cIihtYXgtd2lkdGg6IFwiLmNvbmNhdChnLm1lZGl1bS5tYXgsXCJweClcIikseT1cIlwiLmNvbmNhdChiLFwiIFwiKS5jb25jYXQodC5yZXNwb25zaXZlU3R5bGVzLm1lZGl1bS53aWR0aC5yZXBsYWNlKFwiJVwiLFwidndcIikpO20ucHVzaCh5KX1pZihudWxsPT09KGQ9bnVsbD09PSh1PXQucmVzcG9uc2l2ZVN0eWxlcyl8fHZvaWQgMD09PXU/dm9pZCAwOnUubGFyZ2UpfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLndpZHRoKXt2YXIgXz10LnJlc3BvbnNpdmVTdHlsZXMubGFyZ2Uud2lkdGgucmVwbGFjZShcIiVcIixcInZ3XCIpO20ucHVzaChfKX1lbHNlIGgmJm0ucHVzaChcIjEwMHZ3XCIpO20ubGVuZ3RoJiYoYz1tLmpvaW4oXCIsIFwiKSl9cmV0dXJuIGN9LEltYWdlQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuc3RhdGU9e2ltYWdlTG9hZGVkOiF0LnVzZUxhenlMb2FkaW5nLGxvYWQ6IXQudXNlTGF6eUxvYWRpbmd9LHQucGljdHVyZVJlZj1udWxsLHQuc2Nyb2xsTGlzdGVuZXI9bnVsbCx0LmludGVyc2VjdGlvbk9ic2VydmVyPW51bGwsdH1yZXR1cm4gX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwidXNlTGF6eUxvYWRpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucHJvcHMuaGlnaFByaW9yaXR5JiYoKCFCdWlsZGVyLmlzQnJvd3Nlcnx8IWxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcyhcImJ1aWxkZXIubGF6eUxvYWRJbWFnZXM9ZmFsc2VcIikpJiYoISghQnVpbGRlci5pc0Jyb3dzZXJ8fCFsb2NhdGlvbi5ocmVmLmluY2x1ZGVzKFwiYnVpbGRlci5sYXp5TG9hZEltYWdlcz10cnVlXCIpKXx8dGhpcy5wcm9wcy5sYXp5KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXtCdWlsZGVyLmlzQnJvd3NlciYmKHRoaXMuc2Nyb2xsTGlzdGVuZXImJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuc2Nyb2xsTGlzdGVuZXIpLHRoaXMuc2Nyb2xsTGlzdGVuZXI9bnVsbCksdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlciYmdGhpcy5waWN0dXJlUmVmJiZ0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnBpY3R1cmVSZWYpKX0sdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMucHJvcHMubGF6eSYmQnVpbGRlci5pc0Jyb3dzZXIpaWYodGhpcy5waWN0dXJlUmVmJiZpc0VsZW1lbnRJblZpZXdwb3J0KHRoaXMucGljdHVyZVJlZikpdGhpcy5zZXRTdGF0ZSh7bG9hZDohMH0pO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXImJnRoaXMucGljdHVyZVJlZil7KHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXI9bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChmdW5jdGlvbih0LG4pe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5pbnRlcnNlY3Rpb25SYXRpbz4wJiYoZS5zZXRTdGF0ZSh7bG9hZDohMH0pLGUucGljdHVyZVJlZiYmbi51bm9ic2VydmUoZS5waWN0dXJlUmVmKSl9KSl9KSkpLm9ic2VydmUodGhpcy5waWN0dXJlUmVmKX1lbHNle3ZhciB0PXRocm90dGxlKChmdW5jdGlvbihuKXtpZihlLnBpY3R1cmVSZWYpe3ZhciBpPWUucGljdHVyZVJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPXdpbmRvdy5pbm5lckhlaWdodC8yO2kudG9wPHdpbmRvdy5pbm5lckhlaWdodCtyJiYoZS5zZXRTdGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSxlLnN0YXRlKSx7bG9hZDohMH0pKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHQpLGUuc2Nyb2xsTGlzdGVuZXI9bnVsbCl9fSksNDAwLHtsZWFkaW5nOiExLHRyYWlsaW5nOiEwfSk7dGhpcy5zY3JvbGxMaXN0ZW5lcj10LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdCx7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSksdCgpfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaW1hZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcHMuaW1hZ2V8fHRoaXMucHJvcHMuc3JjfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImxvYWRFYWdlcmx5XCIse2dldDpmdW5jdGlvbigpe3ZhciBlO3JldHVybihudWxsPT09KGU9dGhpcy5wcm9wcy5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlkLnN0YXJ0c1dpdGgoXCJidWlsZGVyLXBpeGVsLVwiKSl8fHRoaXMucHJvcHMuaGlnaFByaW9yaXR5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImZldGNoUHJpb3JpdHlQcm9wXCIse2dldDpmdW5jdGlvbigpe3ZhciBlO3JldHVybihlPXt9KVtpc05ld1JlYWN0P1wiZmV0Y2hQcmlvcml0eVwiOlwiZmV0Y2hwcmlvcml0eVwiXT10aGlzLmxvYWRFYWdlcmx5P1wiaGlnaFwiOlwiYXV0b1wiLGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ2V0U3JjU2V0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pbWFnZTtpZihlJiZcInN0cmluZ1wiPT10eXBlb2YgZSYmIXRoaXMucHJvcHMubm9XZWJwJiYoZS5tYXRjaCgvYnVpbGRlclxcLmlvLyl8fGUubWF0Y2goL2NkblxcLnNob3BpZnlcXC5jb20vKSkpcmV0dXJuIGdldFNyY1NldChlKX0sdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGUsdCxuPXRoaXMsaT10aGlzLnByb3BzLHI9aS5hc3BlY3RSYXRpbyxvPWkubGF6eSxhPWkuYnVpbGRlckJsb2NrLHM9aS5idWlsZGVyU3RhdGUsbD10aGlzLnByb3BzLmJ1aWxkZXJCbG9jayYmdGhpcy5wcm9wcy5idWlsZGVyQmxvY2suY2hpbGRyZW4sdT10aGlzLnByb3BzLnNyY3NldCxkPWdldFNpemVzKHRoaXMucHJvcHMuc2l6ZXMsYSwobnVsbD09PSh0PW51bGw9PT0oZT1udWxsPT1zP3ZvaWQgMDpzLmNvbnRleHQuYnVpbGRlckNvbnRlbnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm1ldGEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmJyZWFrcG9pbnRzKXx8e30pLGM9dGhpcy5pbWFnZTt1JiZjJiZjLmluY2x1ZGVzKFwiYnVpbGRlci5pby9hcGkvdjEvaW1hZ2VcIik/dS5pbmNsdWRlcyhjLnNwbGl0KFwiP1wiKVswXSl8fChjb25zb2xlLmRlYnVnKFwiUmVtb3ZlZCBnaXZlbiBzcmNzZXRcIiksdT10aGlzLmdldFNyY1NldCgpKTpjJiYhdSYmKHU9dGhpcy5nZXRTcmNTZXQoKSk7dmFyIHA9dGhpcy5wcm9wcy5maXRDb250ZW50O3JldHVybiBqc3goQnVpbGRlck1ldGFDb250ZXh0LkNvbnN1bWVyLG51bGwsKGZ1bmN0aW9uKGUpe3ZhciB0LGk9ZS5hbXBNb2RlLGE9aT9cImFtcC1pbWdcIjpcImltZ1wiLHM9KCFvfHxuLnN0YXRlLmxvYWR8fGkpJiZqc3goYSxfX2Fzc2lnbih7fSxpP3tsYXlvdXQ6XCJyZXNwb25zaXZlXCIsaGVpZ2h0Om4ucHJvcHMuaGVpZ2h0fHwocj9NYXRoLnJvdW5kKDFlMypyKTp2b2lkIDApLHdpZHRoOm4ucHJvcHMud2lkdGh8fChyP01hdGgucm91bmQoMWUzL3IpOnZvaWQgMCl9Om51bGwse2FsdDpuLnByb3BzLmFsdFRleHQsdGl0bGU6bi5wcm9wcy50aXRsZSxrZXk6QnVpbGRlci5pc0VkaXRpbmcmJlwic3RyaW5nXCI9PXR5cGVvZiBuLmltYWdlJiZuLmltYWdlLnNwbGl0KFwiP1wiKVswXXx8dm9pZCAwLHJvbGU6bi5wcm9wcy5hbHRUZXh0P3ZvaWQgMDpcInByZXNlbnRhdGlvblwiLGNzczpfX2Fzc2lnbihfX2Fzc2lnbih7b3BhY2l0eTppPzE6bi51c2VMYXp5TG9hZGluZyYmIW4uc3RhdGUuaW1hZ2VMb2FkZWQ/MDoxLHRyYW5zaXRpb246XCJvcGFjaXR5IDAuMnMgZWFzZS1pbi1vdXRcIixvYmplY3RGaXQ6bi5wcm9wcy5iYWNrZ3JvdW5kU2l6ZXx8XCJjb3ZlclwiLG9iamVjdFBvc2l0aW9uOm4ucHJvcHMuYmFja2dyb3VuZFBvc2l0aW9ufHxcImNlbnRlclwifSxyJiYhaSYme3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixoZWlnaHQ6XCIxMDAlXCIsd2lkdGg6XCIxMDAlXCIsbGVmdDowLHRvcDowfSksaSYmKHQ9e30sdFtcIiYgaW1nXCJdPXtvYmplY3RGaXQ6bi5wcm9wcy5iYWNrZ3JvdW5kU2l6ZSxvYmplY3RQb3NpdGlvbjpuLnByb3BzLmJhY2tncm91bmRQb3NpdGlvbn0sdCkpLGxvYWRpbmc6bi5sb2FkRWFnZXJseT9cImVhZ2VyXCI6XCJsYXp5XCJ9LG4uZmV0Y2hQcmlvcml0eVByb3Ase2NsYXNzTmFtZTpcImJ1aWxkZXItaW1hZ2VcIisobi5wcm9wcy5jbGFzc05hbWU/XCIgXCIrbi5wcm9wcy5jbGFzc05hbWU6XCJcIiksc3JjOm4uaW1hZ2V9LCFpJiZ7b25Mb2FkOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2V0U3RhdGUoe2ltYWdlTG9hZGVkOiEwfSl9fSx7c3JjU2V0OnUsc2l6ZXM6IWkmJmQ/ZDp2b2lkIDB9KSk7cmV0dXJuIGpzeChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCxudWxsLGk/czpqc3goXCJwaWN0dXJlXCIse3JlZjpmdW5jdGlvbihlKXtyZXR1cm4gbi5waWN0dXJlUmVmPWV9fSx1JiZ1Lm1hdGNoKC9idWlsZGVyXFwuaW8vKSYmIW4ucHJvcHMubm9XZWJwJiZqc3goXCJzb3VyY2VcIix7c3JjU2V0OnUucmVwbGFjZSgvXFw/L2csXCI/Zm9ybWF0PXdlYnAmXCIpLHR5cGU6XCJpbWFnZS93ZWJwXCJ9KSxzKSwhcnx8aXx8cCYmbCYmbC5sZW5ndGg/bnVsbDpqc3goXCJkaXZcIix7Y2xhc3NOYW1lOlwiYnVpbGRlci1pbWFnZS1zaXplclwiLGNzczp7d2lkdGg6XCIxMDAlXCIscGFkZGluZ1RvcDoxMDAqcitcIiVcIixwb2ludGVyRXZlbnRzOlwibm9uZVwiLGZvbnRTaXplOjB9fSxcIiBcIiksbCYmbC5sZW5ndGg/cD9sLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4ganN4KEJ1aWxkZXJCbG9jayQxLHtrZXk6ZS5pZCxibG9jazplfSl9KSk6anN4KFwiZGl2XCIse2Nzczp7ZGlzcGxheTpcImZsZXhcIixmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIsYWxpZ25JdGVtczpcInN0cmV0Y2hcIixwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDowLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIn19LGwubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBqc3goQnVpbGRlckJsb2NrJDEse2tleTplLmlkLGJsb2NrOmV9KX0pKSk6bnVsbCl9KSl9LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksSW1hZ2U9d2l0aEJ1aWxkZXIoSW1hZ2VDb21wb25lbnQse25hbWU6XCJJbWFnZVwiLHN0YXRpYzohMCxpbWFnZTpcImh0dHBzOi8vZmlyZWJhc2VzdG9yYWdlLmdvb2dsZWFwaXMuY29tL3YwL2IvYnVpbGRlci0zYjBhMi5hcHBzcG90LmNvbS9vL2ltYWdlcyUyRmJhc2VsaW5lLWluc2VydF9waG90by0yNHB4LnN2Zz9hbHQ9bWVkaWEmdG9rZW49NGU1ZDBlZjQtZjVlOC00ZTU3LWIzYTktMzhkNjNhOWI5ZGM0XCIsZGVmYXVsdFN0eWxlczp7cG9zaXRpb246XCJyZWxhdGl2ZVwiLG1pbkhlaWdodDpcIjIwcHhcIixtaW5XaWR0aDpcIjIwcHhcIixvdmVyZmxvdzpcImhpZGRlblwifSxjYW5IYXZlQ2hpbGRyZW46ITAsaW5wdXRzOlt7bmFtZTpcImltYWdlXCIsdHlwZTpcImZpbGVcIixidWJibGU6ITAsYWxsb3dlZEZpbGVUeXBlczpJTUFHRV9GSUxFX1RZUEVTLHJlcXVpcmVkOiEwLGRlZmF1bHRWYWx1ZTpcImh0dHBzOi8vY2RuLmJ1aWxkZXIuaW8vYXBpL3YxL2ltYWdlL2Fzc2V0cyUyRllKSUdiNGkwMWp2dzBTUmRMNUJ0JTJGNzJjODBmMTE0ZGMxNDkwMTkwNTFiNjg1MmE5ZTNiN2FcIixvbkNoYW5nZTpmdW5jdGlvbihlKXtlLmRlbGV0ZShcInNyY3NldFwiKSxlLmRlbGV0ZShcIm5vV2VicFwiKTt2YXIgdCxuLGk9ZS5nZXQoXCJpbWFnZVwiKSxyPWUuZ2V0KFwiYXNwZWN0UmF0aW9cIik7aWYoZmV0Y2goaSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmxvYigpfSkpLnRoZW4oKGZ1bmN0aW9uKHQpe3QudHlwZS5pbmNsdWRlcyhcInN2Z1wiKSYmZS5zZXQoXCJub1dlYnBcIiwhMCl9KSksaSYmKCFyfHwuNzA0MT09PXIpKXJldHVybih0PWksdm9pZCAwPT09biYmKG49NmU0KSxuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxpKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLG89ITE7ci5vbmxvYWQ9ZnVuY3Rpb24oKXtvPSEwLGUocil9LHIuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsKGZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIkltYWdlIGxvYWQgZmFpbGVkXCIsZS5lcnJvciksaShlLmVycm9yKX0pKSxyLnNyYz10LHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7b3x8aShuZXcgRXJyb3IoXCJJbWFnZSBsb2FkIHRpbWVkIG91dFwiKSl9KSxuKX0pKSkudGhlbigoZnVuY3Rpb24odCl7dmFyIG4scj1lLmdldChcImFzcGVjdFJhdGlvXCIpO2UuZ2V0KFwiaW1hZ2VcIikhPT1pfHxyJiYuNzA0MSE9PXJ8fHQud2lkdGgmJnQuaGVpZ2h0JiYoZS5zZXQoXCJhc3BlY3RSYXRpb1wiLChuPXQuaGVpZ2h0L3Qud2lkdGgsTWF0aC5yb3VuZCgxZTMqbikvMWUzKSksZS5zZXQoXCJoZWlnaHRcIix0LmhlaWdodCksZS5zZXQoXCJ3aWR0aFwiLHQud2lkdGgpKX0pKX19LHtuYW1lOlwiYmFja2dyb3VuZFNpemVcIix0eXBlOlwidGV4dFwiLGRlZmF1bHRWYWx1ZTpcImNvdmVyXCIsZW51bTpbe2xhYmVsOlwiY29udGFpblwiLHZhbHVlOlwiY29udGFpblwiLGhlbHBlclRleHQ6XCJUaGUgaW1hZ2Ugc2hvdWxkIG5ldmVyIGdldCBjcm9wcGVkXCJ9LHtsYWJlbDpcImNvdmVyXCIsdmFsdWU6XCJjb3ZlclwiLGhlbHBlclRleHQ6XCJUaGUgaW1hZ2Ugc2hvdWxkIGZpbGwgaXRzIGJveCwgY3JvcHBpbmcgd2hlbiBuZWVkZWRcIn1dfSx7bmFtZTpcImJhY2tncm91bmRQb3NpdGlvblwiLHR5cGU6XCJ0ZXh0XCIsZGVmYXVsdFZhbHVlOlwiY2VudGVyXCIsZW51bTpbXCJjZW50ZXJcIixcInRvcFwiLFwibGVmdFwiLFwicmlnaHRcIixcImJvdHRvbVwiLFwidG9wIGxlZnRcIixcInRvcCByaWdodFwiLFwiYm90dG9tIGxlZnRcIixcImJvdHRvbSByaWdodFwiXX0se25hbWU6XCJhbHRUZXh0XCIsdHlwZTpcInN0cmluZ1wiLGhlbHBlclRleHQ6XCJUZXh0IHRvIGRpc3BsYXkgd2hlbiB0aGUgdXNlciBoYXMgaW1hZ2VzIG9mZlwifSx7bmFtZTpcInRpdGxlXCIsdHlwZTpcInN0cmluZ1wiLGhlbHBlclRleHQ6XCJUZXh0IHRvIGRpc3BsYXkgd2hlbiBob3ZlcmluZyBvdmVyIHRoZSBhc3NldFwifSx7bmFtZTpcImhpZ2hQcmlvcml0eVwiLHR5cGU6XCJib29sZWFuXCIsYWR2YW5jZWQ6ITAsaGVscGVyVGV4dDpcIk1hcmsgdGhpcyBpbWFnZSBhcyBoaWdoIHByaW9yaXR5IGNvbXBhcmVkIHRvIG90aGVyIGltYWdlcyBvbiB0aGUgcGFnZS4gVGhpcyBwcmV2ZW50cyBsYXp5IGxvYWRpbmcgb2YgdGhlIGltYWdlIGFuZCB0ZWxscyB0aGUgYnJvd3NlciB0byBsb2FkIHRoaXMgaW1hZ2UgYmVmb3JlIG90aGVycyBvbiB0aGUgcGFnZS5cIn0se25hbWU6XCJoZWlnaHRcIix0eXBlOlwibnVtYmVyXCIsaGlkZUZyb21VSTohMH0se25hbWU6XCJ3aWR0aFwiLHR5cGU6XCJudW1iZXJcIixoaWRlRnJvbVVJOiEwfSx7bmFtZTpcInNpemVzXCIsdHlwZTpcInN0cmluZ1wiLGhpZGVGcm9tVUk6ITB9LHtuYW1lOlwic3Jjc2V0XCIsdHlwZTpcInN0cmluZ1wiLGhpZGVGcm9tVUk6ITB9LHtuYW1lOlwibGF6eVwiLHR5cGU6XCJib29sZWFuXCIsZGVmYXVsdFZhbHVlOiEwLGhpZGVGcm9tVUk6ITB9LHtuYW1lOlwiZml0Q29udGVudFwiLHR5cGU6XCJib29sZWFuXCIsaGVscGVyVGV4dDpcIldoZW4gY2hpbGQgYmxvY2tzIGFyZSBwcm92aWRlZCwgZml0IHRvIHRoZW0gaW5zdGVhZCBvZiB1c2luZyB0aGUgaW1hZ2UncyBhc3BlY3QgcmF0aW9cIixkZWZhdWx0VmFsdWU6ITB9LHtuYW1lOlwiYXNwZWN0UmF0aW9cIix0eXBlOlwibnVtYmVyXCIsaGVscGVyVGV4dDpcIlRoaXMgaXMgdGhlIHJhdGlvIG9mIGhlaWdodC93aWR0aCwgZS5nLiBzZXQgdG8gMS41IGZvciBhIDMwMHB4IHdpZGUgYW5kIDIwMHB4IHRhbGwgcGhvdG8uIFNldCB0byAwIHRvIG5vdCBmb3JjZSB0aGUgaW1hZ2UgdG8gbWFpbnRhaW4gaXQncyBhc3BlY3QgcmF0aW9cIixhZHZhbmNlZDohMCxkZWZhdWx0VmFsdWU6REVGQVVMVF9BU1BFQ1RfUkFUSU8kMX1dfSksREVGQVVMVF9BU1BFQ1RfUkFUSU89LjcwMDQwNDg1ODI5OTU5NDgsVmlkZW9Db21wb25lbnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC52aWRlbz1udWxsLHQuY29udGFpbmVyUmVmPW51bGwsdC5sYXp5VmlkZW9PYnNlcnZlcj1udWxsLHQuc3RhdGU9e2xvYWQ6IXQubGF6eUxvYWR9LHR9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImxhenlMb2FkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiExIT09dGhpcy5wcm9wcy5sYXp5TG9hZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS51cGRhdGVWaWRlbz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnZpZGVvO2lmKHQpe1tcIm11dGVkXCIsXCJwbGF5c0lubGluZVwiLFwiYXV0b1BsYXlcIl0uZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIGk9bi50b0xvd2VyQ2FzZSgpO2UucHJvcHNbbl0/dC5zZXRBdHRyaWJ1dGUoaSxpKTp0LnJlbW92ZUF0dHJpYnV0ZShpKX0pKX19LHQucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZT1mdW5jdGlvbigpe3RoaXMudXBkYXRlVmlkZW8oKX0sdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMudXBkYXRlVmlkZW8oKSx0aGlzLmxhenlMb2FkJiZCdWlsZGVyLmlzQnJvd3Nlcil7dmFyIHQ9bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChmdW5jdGlvbih0KXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuaXNJbnRlcnNlY3RpbmcmJihlLnNldFN0YXRlKChmdW5jdGlvbihlKXtyZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sZSkse2xvYWQ6ITB9KX0pKSxlLmxhenlWaWRlb09ic2VydmVyJiYoZS5sYXp5VmlkZW9PYnNlcnZlci5kaXNjb25uZWN0KCksZS5sYXp5VmlkZW9PYnNlcnZlcj1udWxsKSl9KSl9KSk7dGhpcy5jb250YWluZXJSZWYmJih0Lm9ic2VydmUodGhpcy5jb250YWluZXJSZWYpLHRoaXMubGF6eVZpZGVvT2JzZXJ2ZXI9dCl9fSx0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe3RoaXMubGF6eVZpZGVvT2JzZXJ2ZXImJih0aGlzLmxhenlWaWRlb09ic2VydmVyLmRpc2Nvbm5lY3QoKSx0aGlzLmxhenlWaWRlb09ic2VydmVyPW51bGwpfSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5wcm9wcyxuPXQuYXNwZWN0UmF0aW8saT10LmNoaWxkcmVuO3JldHVybiBqc3goXCJkaXZcIix7cmVmOmZ1bmN0aW9uKHQpe3JldHVybiBlLmNvbnRhaW5lclJlZj10fSxjc3M6e3Bvc2l0aW9uOlwicmVsYXRpdmVcIn19LGpzeChcInZpZGVvXCIse2tleTp0aGlzLnByb3BzLnZpZGVvfHxcIm5vLXNyY1wiLHBvc3Rlcjp0aGlzLnByb3BzLnBvc3RlckltYWdlLHJlZjpmdW5jdGlvbih0KXtyZXR1cm4gZS52aWRlbz10fSxhdXRvUGxheTp0aGlzLnByb3BzLmF1dG9QbGF5LG11dGVkOnRoaXMucHJvcHMubXV0ZWQsY29udHJvbHM6dGhpcy5wcm9wcy5jb250cm9scyxsb29wOnRoaXMucHJvcHMubG9vcCxwcmVsb2FkOnRoaXMucHJvcHMucHJlbG9hZHx8XCJtZXRhZGF0YVwiLGNsYXNzTmFtZTpcImJ1aWxkZXItdmlkZW9cIixjc3M6X19hc3NpZ24oe3dpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixvYmplY3RGaXQ6dGhpcy5wcm9wcy5maXQsb2JqZWN0UG9zaXRpb246dGhpcy5wcm9wcy5wb3NpdGlvbixib3JkZXJSYWRpdXM6MX0sbj97cG9zaXRpb246XCJhYnNvbHV0ZVwifTpudWxsKX0sKCF0aGlzLmxhenlMb2FkfHx0aGlzLnN0YXRlLmxvYWQpJiZqc3goXCJzb3VyY2VcIix7dHlwZTpcInZpZGVvL21wNFwiLHNyYzp0aGlzLnByb3BzLnZpZGVvfSkpLCFufHx0aGlzLnByb3BzLmZpdENvbnRlbnQmJmk/bnVsbDpqc3goXCJkaXZcIix7Y3NzOnt3aWR0aDpcIjEwMCVcIixwYWRkaW5nVG9wOjEwMCpuK1wiJVwiLHBvaW50ZXJFdmVudHM6XCJub25lXCIsZm9udFNpemU6MH19KSxpJiZ0aGlzLnByb3BzLmZpdENvbnRlbnQ/anN4KFwiZGl2XCIse2Nzczp7ZGlzcGxheTpcImZsZXhcIixmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIsYWxpZ25JdGVtczpcInN0cmV0Y2hcIn19LGkpOmk/anN4KFwiZGl2XCIse2Nzczp7cG9pbnRlckV2ZW50czpcIm5vbmVcIixkaXNwbGF5OlwiZmxleFwiLGZsZXhEaXJlY3Rpb246XCJjb2x1bW5cIixhbGlnbkl0ZW1zOlwic3RyZXRjaFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6MCxsZWZ0OjAsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwifX0saSk6bnVsbCl9LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksVmlkZW89QnVpbGRlci5yZWdpc3RlckNvbXBvbmVudCh3aXRoQ2hpbGRyZW4oVmlkZW9Db21wb25lbnQpLHtuYW1lOlwiVmlkZW9cIixjYW5IYXZlQ2hpbGRyZW46ITAsZGVmYXVsdFN0eWxlczp7bWluSGVpZ2h0OlwiMjBweFwiLG1pbldpZHRoOlwiMjBweFwifSxpbWFnZTpcImh0dHBzOi8vZmlyZWJhc2VzdG9yYWdlLmdvb2dsZWFwaXMuY29tL3YwL2IvYnVpbGRlci0zYjBhMi5hcHBzcG90LmNvbS9vL2ltYWdlcyUyRmJhc2VsaW5lLXZpZGVvY2FtLTI0cHglMjAoMSkuc3ZnP2FsdD1tZWRpYSZ0b2tlbj00OWE4NGU0YS1iMjBlLTQ5NzctYTY1MC0wNDdmOTg2ODc0YmJcIixpbnB1dHM6W3tuYW1lOlwidmlkZW9cIix0eXBlOlwiZmlsZVwiLGFsbG93ZWRGaWxlVHlwZXM6VklERU9fRklMRV9UWVBFUyxidWJibGU6ITAsZGVmYXVsdFZhbHVlOlwiaHR0cHM6Ly9jZG4uYnVpbGRlci5pby9vL2Fzc2V0cyUyRllKSUdiNGkwMWp2dzBTUmRMNUJ0JTJGZDI3NzMxYTUyNjQ2NGRlYmEwMDE2MjE2ZjVmOWU1NzAlMkZjb21wcmVzc2VkP2FwaUtleT1ZSklHYjRpMDFqdncwU1JkTDVCdCZ0b2tlbj1kMjc3MzFhNTI2NDY0ZGViYTAwMTYyMTZmNWY5ZTU3MCZhbHQ9bWVkaWEmb3B0aW1pemVkPXRydWVcIixyZXF1aXJlZDohMH0se25hbWU6XCJwb3N0ZXJJbWFnZVwiLHR5cGU6XCJmaWxlXCIsYWxsb3dlZEZpbGVUeXBlczpJTUFHRV9GSUxFX1RZUEVTLGhlbHBlclRleHQ6XCJJbWFnZSB0byBzaG93IGJlZm9yZSB0aGUgdmlkZW8gcGxheXNcIn0se25hbWU6XCJhdXRvUGxheVwiLHR5cGU6XCJib29sZWFuXCIsZGVmYXVsdFZhbHVlOiEwfSx7bmFtZTpcImNvbnRyb2xzXCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6ITF9LHtuYW1lOlwibXV0ZWRcIix0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHRWYWx1ZTohMH0se25hbWU6XCJsb29wXCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6ITB9LHtuYW1lOlwicGxheXNJbmxpbmVcIix0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHRWYWx1ZTohMH0se25hbWU6XCJmaXRcIix0eXBlOlwidGV4dFwiLGRlZmF1bHRWYWx1ZTpcImNvdmVyXCIsZW51bTpbXCJjb250YWluXCIsXCJjb3ZlclwiLFwiZmlsbFwiLFwiYXV0b1wiXX0se25hbWU6XCJwcmVsb2FkXCIsdHlwZTpcInRleHRcIixkZWZhdWx0VmFsdWU6XCJtZXRhZGF0YVwiLGVudW06W1wiYXV0b1wiLFwibWV0YWRhdGFcIixcIm5vbmVcIl19LHtuYW1lOlwiZml0Q29udGVudFwiLHR5cGU6XCJib29sZWFuXCIsaGVscGVyVGV4dDpcIldoZW4gY2hpbGQgYmxvY2tzIGFyZSBwcm92aWRlZCwgZml0IHRvIHRoZW0gaW5zdGVhZCBvZiB1c2luZyB0aGUgYXNwZWN0IHJhdGlvXCIsZGVmYXVsdFZhbHVlOiEwLGFkdmFuY2VkOiEwfSx7bmFtZTpcInBvc2l0aW9uXCIsdHlwZTpcInRleHRcIixkZWZhdWx0VmFsdWU6XCJjZW50ZXJcIixlbnVtOltcImNlbnRlclwiLFwidG9wXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwiYm90dG9tXCIsXCJ0b3AgbGVmdFwiLFwidG9wIHJpZ2h0XCIsXCJib3R0b20gbGVmdFwiLFwiYm90dG9tIHJpZ2h0XCJdfSx7bmFtZTpcImhlaWdodFwiLHR5cGU6XCJudW1iZXJcIixhZHZhbmNlZDohMH0se25hbWU6XCJ3aWR0aFwiLHR5cGU6XCJudW1iZXJcIixhZHZhbmNlZDohMH0se25hbWU6XCJhc3BlY3RSYXRpb1wiLHR5cGU6XCJudW1iZXJcIixhZHZhbmNlZDohMCxkZWZhdWx0VmFsdWU6REVGQVVMVF9BU1BFQ1RfUkFUSU99LHtuYW1lOlwibGF6eUxvYWRcIix0eXBlOlwiYm9vbGVhblwiLGhlbHBlclRleHQ6J0xvYWQgdGhpcyB2aWRlbyBcImxhemlseVwiIC0gYXMgaW4gb25seSB3aGVuIGEgdXNlciBzY3JvbGxzIG5lYXIgdGhlIHZpZGVvLiBSZWNvbW1lbmRlZCBmb3Igb3B0bWl6ZWQgcGVyZm9ybWFuY2UgYW5kIGJhbmR3aWR0aCBjb25zdW1wdGlvbicsZGVmYXVsdFZhbHVlOiEwLGFkdmFuY2VkOiEwfV19KSxzaXplPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5sZW5ndGh9LGlzU2hvcGlmeT1CdWlsZGVyLmlzQnJvd3NlciYmXCJTaG9waWZ5XCJpbiB3aW5kb3cscmVmcz17fTtpZihCdWlsZGVyLmlzQnJvd3Nlcil0cnl7QXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2J1aWxkZXItc3RhdGljLXN5bWJvbF1cIikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QXR0cmlidXRlKFwiYnVpbGRlci1zdGF0aWMtc3ltYm9sXCIpO3QmJihyZWZzW3RdPWUpfSkpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJCdWlsZGVyIHJlcGxhY2Ugbm9kZXMgZXJyb3I6XCIsZSl9dmFyIFN5bWJvbENvbXBvbmVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0LnJlZj1udWxsLHQuc3RhdGljUmVmPW51bGwsdC5pc0VkaXRpbmdUaGlzU3ltYm9sPSExLHR9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBsYWNlaG9sZGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBqc3goXCJkaXZcIix7Y3NzOntwYWRkaW5nOjEwfX0sXCJTeW1ib2xzIGxldCB5b3UgcmV1c2UgZHluYW1pYyBlbGVtZW50cyBhY3Jvc3MgeW91ciBjb250ZW50LiBQbGVhc2UgY2hvb3NlIGEgbW9kZWwgYW5kIGVudHJ5IGZvciB0aGlzIHN5bWJvbC5cIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt2YXIgZSx0LG4saT10aGlzO3RoaXMudXNlU3RhdGljJiZ0aGlzLnN0YXRpY1JlZiYmcmVmc1tudWxsPT09KGU9dGhpcy5wcm9wcy5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlkXSYmKG51bGw9PT0odD10aGlzLnN0YXRpY1JlZi5wYXJlbnROb2RlKXx8dm9pZCAwPT09dHx8dC5yZXBsYWNlQ2hpbGQocmVmc1tudWxsPT09KG49dGhpcy5wcm9wcy5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmlkXSx0aGlzLnN0YXRpY1JlZikpLEJ1aWxkZXIubmV4dFRpY2soKGZ1bmN0aW9uKCl7dmFyIGU9aS5wcm9wcy5zeW1ib2x8fHt9LHQ9ZS5tb2RlbCxuPWUuZW50cnk7aS5pc0VkaXRpbmdUaGlzU3ltYm9sPUJvb2xlYW4oQnVpbGRlci5pc0VkaXRpbmcmJnQ9PT1idWlsZGVyLmVkaXRpbmdNb2RlbCYmbiYmbG9jYXRpb24uc2VhcmNoLmluY2x1ZGVzKFwib3ZlcnJpZGVzLlwiLmNvbmNhdChuKSkpfSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ1c2VTdGF0aWNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIEJvb2xlYW4oQnVpbGRlci5pc0Jyb3dzZXImJnJlZnNbbnVsbD09PShlPXRoaXMucHJvcHMuYnVpbGRlckJsb2NrKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pZF0mJiEoQnVpbGRlci5pc0VkaXRpbmd8fEJ1aWxkZXIuaXNQcmV2aWV3aW5nKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGUsdCxuPXRoaXM7aWYodGhpcy51c2VTdGF0aWMpcmV0dXJuIGpzeChcImRpdlwiLHtyZWY6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uc3RhdGljUmVmPWV9fSk7dmFyIGk9dGhpcy5wcm9wcy5zeW1ib2wscj0hMTtpfHwocj0hMCk7dmFyIG89dGhpcy5wcm9wcy5kYXRhT25seT9Ob1dyYXA6dGhpcy5wcm9wcy5idWlsZGVyQmxvY2smJnRoaXMucHJvcHMuYnVpbGRlckJsb2NrLnRhZ05hbWV8fFwiZGl2XCIsYT1pfHx7fSxzPWEubW9kZWwsbD1hLmVudHJ5LHU9YS5kYXRhLGQ9YS5jb250ZW50LGM9YS5pbmxpbmUscD1hLm93bmVySWQsZj0obnVsbD09aT92b2lkIDA6aS5keW5hbWljKXx8dGhpcy5wcm9wcy5keW5hbWljO3MmJihsfHxmKXx8KG51bGw9PT0oZT1udWxsPT1kP3ZvaWQgMDpkLmRhdGEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmJsb2Nrc0pzKXx8Y3x8KHI9ITApLHRoaXMuaXNFZGl0aW5nVGhpc1N5bWJvbCYmKHI9ITEpO3ZhciBtPWY/bnVsbD09PSh0PXRoaXMucHJvcHMuYnVpbGRlckJsb2NrKXx8dm9pZCAwPT09dD92b2lkIDA6dC5pZDpbcyxsXS5qb2luKFwiOlwiKSxoPXUmJnNpemUodSkmJmhhc2godSk7bSYmaCYmaC5sZW5ndGg8MzAwJiYobSs9XCI6XCIraCk7dmFyIHY9dGhpcy5wcm9wcy5hdHRyaWJ1dGVzfHx7fTtyZXR1cm4ganN4KEJ1aWxkZXJTdG9yZUNvbnRleHQuQ29uc3VtZXIse2tleTooc3x8XCJubyBtb2RlbFwiKStcIjpcIisobHx8XCJubyBlbnRyeVwiK3RoaXMuaXNFZGl0aW5nVGhpc1N5bWJvbCl9LChmdW5jdGlvbihlKXt2YXIgdCxhLGMsZixoLGcsYix5LF8seCxTLGs9XCJcIi5jb25jYXQobSxcIl9cIikuY29uY2F0KChudWxsPT09KHQ9bnVsbD09ZT92b2lkIDA6ZS5zdGF0ZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubG9jYWxlKXx8XCJEZWZhdWx0XCIpO3JldHVybiBqc3gobyxfX2Fzc2lnbih7XCJkYXRhLW1vZGVsXCI6c30sdix7Y2xhc3NOYW1lOih2LmNsYXNzfHx2LmNsYXNzTmFtZXx8XCJcIikrXCIgYnVpbGRlci1zeW1ib2xcIisoKG51bGw9PWk/dm9pZCAwOmkuaW5saW5lKT9cIiBidWlsZGVyLWlubGluZS1zeW1ib2xcIjpcIlwiKSsoKG51bGw9PWk/dm9pZCAwOmkuZHluYW1pYyl8fG4ucHJvcHMuZHluYW1pYz9cIiBidWlsZGVyLWR5bmFtaWMtc3ltYm9sXCI6XCJcIil9KSxyP24ucGxhY2Vob2xkZXI6anN4KEJ1aWxkZXJDb21wb25lbnQsX19hc3NpZ24oe30scCYme2FwaUtleTpwfSwobnVsbD09PShhPWUuc3RhdGUpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmxvY2FsZSkmJntsb2NhbGU6ZS5zdGF0ZS5sb2NhbGV9LHtpc0NoaWxkOiEwLHJlZjpmdW5jdGlvbihlKXtyZXR1cm4gbi5yZWY9ZX0sY29udGV4dDpfX2Fzc2lnbihfX2Fzc2lnbih7fSxlLmNvbnRleHQpLHtzeW1ib2xJZDpudWxsPT09KGM9bi5wcm9wcy5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLmlkfSksbW9kZWw6cyxlbnRyeTpsLGRhdGE6X19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sdSksISFuLnByb3BzLmluaGVyaXRTdGF0ZSYmb21pdCQyKGUuc3RhdGUsXCJjaGlsZHJlblwiKSksbnVsbD09PShfPW51bGw9PT0oeT1udWxsPT09KGI9bnVsbD09PShnPW51bGw9PT0oaD1udWxsPT09KGY9bi5wcm9wcy5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1mP3ZvaWQgMDpmLmNvbXBvbmVudCl8fHZvaWQgMD09PWg/dm9pZCAwOmgub3B0aW9ucyl8fHZvaWQgMD09PWc/dm9pZCAwOmcuc3ltYm9sKXx8dm9pZCAwPT09Yj92b2lkIDA6Yi5jb250ZW50KXx8dm9pZCAwPT09eT92b2lkIDA6eS5kYXRhKXx8dm9pZCAwPT09Xz92b2lkIDA6Xy5zdGF0ZSkscmVuZGVyTGluazplLnJlbmRlckxpbmssaW5saW5lQ29udGVudDpudWxsPT1pP3ZvaWQgMDppLmlubGluZX0sZCYme2NvbnRlbnQ6ZH0se2tleTprLG9wdGlvbnM6X19hc3NpZ24oX19hc3NpZ24oe30sIW4uaXNFZGl0aW5nVGhpc1N5bWJvbCYme2tleTprLG5vRWRpdG9yVXBkYXRlczohMH0pLFwiY29udGVudFwiPT09QnVpbGRlci5zaW5nbGV0b25JbnN0YW5jZS5hcGlFbmRwb2ludCYmbCYme3F1ZXJ5OntpZDpsfX0pLGNvZGVnZW46ISEobnVsbD09PSh4PW51bGw9PWQ/dm9pZCAwOmQuZGF0YSl8fHZvaWQgMD09PXg/dm9pZCAwOnguYmxvY2tzSnMpLGh5ZHJhdGU6bnVsbD09PShTPWUuc3RhdGUpfHx2b2lkIDA9PT1TP3ZvaWQgMDpTLl9oeWRyYXRlLGJ1aWxkZXJCbG9jazpuLnByb3BzLmJ1aWxkZXJCbG9jayxkYXRhT25seTpuLnByb3BzLmRhdGFPbmx5LG5vbmNlOmUuY29udGV4dC5ub25jZX0pLG4ucHJvcHMuY2hpbGRyZW4pKX0pKX0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxTeW1ib2wkMT13aXRoQnVpbGRlcihTeW1ib2xDb21wb25lbnQse25hbWU6XCJTeW1ib2xcIixub1dyYXA6ITAsc3RhdGljOiEwLGlucHV0czpbe25hbWU6XCJzeW1ib2xcIix0eXBlOlwidWlTeW1ib2xcIn0se25hbWU6XCJkYXRhT25seVwiLGhlbHBlclRleHQ6XCJNYWtlIHRoaXMgYSBkYXRhIHN5bWJvbCB0aGF0IGRvZXNuJ3QgZGlzcGxheSBhbnkgVUlcIix0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHRWYWx1ZTohMSxhZHZhbmNlZDohMCxoaWRlRnJvbVVJOiEwfSx7bmFtZTpcImluaGVyaXRTdGF0ZVwiLGhlbHBlclRleHQ6XCJJbmhlcml0IHRoZSBwYXJlbnQgY29tcG9uZW50IHN0YXRlIGFuZCBkYXRhXCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6aXNTaG9waWZ5LGFkdmFuY2VkOiEwfSx7bmFtZTpcInJlbmRlclRvTGlxdWlkXCIsaGVscGVyVGV4dDpcIlJlbmRlciB0aGlzIHN5bWJvbHMgY29udGVudHMgdG8gbGlxdWlkLiBUdXJuIG9mZiB0byBmZXRjaCB3aXRoIGphdmFzY3JpcHQgYW5kIHVzZSBjdXN0b20gdGFyZ2V0aW5nXCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6aXNTaG9waWZ5LGFkdmFuY2VkOiEwLGhpZGVGcm9tVUk6ITB9LHtuYW1lOlwidXNlQ2hpbGRyZW5cIixoaWRlRnJvbVVJOiEwLHR5cGU6XCJib29sZWFuXCJ9XX0pLEJ1dHRvbkNvbXBvbmVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcy5saW5rP0xpbms6XCJzcGFuXCI7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZSxfX2Fzc2lnbih7cm9sZTpcImJ1dHRvblwiLGhyZWY6dGhpcy5wcm9wcy5saW5rLHRhcmdldDp0aGlzLnByb3BzLm9wZW5MaW5rSW5OZXdUYWI/XCJfYmxhbmtcIjp2b2lkIDB9LHRoaXMucHJvcHMuYXR0cmlidXRlcyksdGhpcy5wcm9wcy50ZXh0KX0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxCdXR0b249d2l0aEJ1aWxkZXIoQnV0dG9uQ29tcG9uZW50LHtuYW1lOlwiQ29yZTpCdXR0b25cIixpbWFnZTpcImh0dHBzOi8vY2RuLmJ1aWxkZXIuaW8vYXBpL3YxL2ltYWdlL2Fzc2V0cyUyRklzeFBLTW8yZ1BSUktlYWtVenRqMUQ2dXFlZDIlMkY4MWExNTY4MWMzZTc0ZGYwOTY3N2RmYzU3YTYxNWIxM1wiLGRlZmF1bHRTdHlsZXM6e2FwcGVhcmFuY2U6XCJub25lXCIscGFkZGluZ1RvcDpcIjE1cHhcIixwYWRkaW5nQm90dG9tOlwiMTVweFwiLHBhZGRpbmdMZWZ0OlwiMjVweFwiLHBhZGRpbmdSaWdodDpcIjI1cHhcIixiYWNrZ3JvdW5kQ29sb3I6XCIjMDAwMDAwXCIsY29sb3I6XCJ3aGl0ZVwiLGJvcmRlclJhZGl1czpcIjRweFwiLHRleHRBbGlnbjpcImNlbnRlclwiLGN1cnNvcjpcInBvaW50ZXJcIn0saW5wdXRzOlt7bmFtZTpcInRleHRcIix0eXBlOlwidGV4dFwiLGRlZmF1bHRWYWx1ZTpcIkNsaWNrIG1lIVwiLGJ1YmJsZTohMH0se25hbWU6XCJsaW5rXCIsdHlwZTpcInVybFwiLGJ1YmJsZTohMH0se25hbWU6XCJvcGVuTGlua0luTmV3VGFiXCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6ITEsZnJpZW5kbHlOYW1lOlwiT3BlbiBsaW5rIGluIG5ldyB0YWJcIn1dLHN0YXRpYzohMCxub1dyYXA6ITB9KSxTZWN0aW9uQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQucmVmPW51bGwsdC51bm1vdW50Q2FsbGJhY2tzPVtdLHQuc3RhdGU9e2luVmlldzohMX0sdH1yZXR1cm4gX19leHRlbmRzKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwicmVuZGVyQ29udGVudHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITAhPT10aGlzLnByb3BzLmxhenlMb2FkfHx0aGlzLnN0YXRlLmluVmlld30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe3RoaXMudW5tb3VudENhbGxiYWNrcy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSkpfSx0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5wcm9wcy5sYXp5TG9hZClpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXImJnRoaXMucmVmKXt2YXIgdD1uZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKHQsbil7dC5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmludGVyc2VjdGlvblJhdGlvPjAmJihlLnNldFN0YXRlKHtpblZpZXc6ITB9KSxlLnJlZiYmbi51bm9ic2VydmUoZS5yZWYpKX0pKX0pLHtyb290TWFyZ2luOlwiMTBweFwifSk7dC5vYnNlcnZlKHRoaXMucmVmKSx0aGlzLnVubW91bnRDYWxsYmFja3MucHVzaCgoZnVuY3Rpb24oKXtlLnJlZiYmdC51bm9ic2VydmUoZS5yZWYpfSkpfWVsc2UgdGhpcy5zZXRTdGF0ZSh7aW5WaWV3OiEwfSl9LHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGpzeChcInNlY3Rpb25cIix7cmVmOmZ1bmN0aW9uKHQpe3JldHVybiBlLnJlZj10fSxjc3M6X19hc3NpZ24oe3dpZHRoOlwiMTAwJVwiLGFsaWduU2VsZjpcInN0cmV0Y2hcIixmbGV4R3JvdzoxLGJveFNpemluZzpcImJvcmRlci1ib3hcIixtYXhXaWR0aDp0aGlzLnByb3BzLm1heFdpZHRoLGRpc3BsYXk6XCJmbGV4XCIsZmxleERpcmVjdGlvbjpcImNvbHVtblwiLGFsaWduSXRlbXM6XCJzdHJldGNoXCIsbWFyZ2luTGVmdDpcImF1dG9cIixtYXJnaW5SaWdodDpcImF1dG9cIn0sdGhpcy5yZW5kZXJDb250ZW50cz9udWxsOnRoaXMucHJvcHMubGF6eVN0eWxlcyl9LHRoaXMucmVuZGVyQ29udGVudHM/anN4KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LG51bGwsdGhpcy5wcm9wcy5jaGlsZHJlbix0aGlzLnByb3BzLmJ1aWxkZXJCbG9jayYmdGhpcy5wcm9wcy5idWlsZGVyQmxvY2suY2hpbGRyZW4mJnRoaXMucHJvcHMuYnVpbGRlckJsb2NrLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4ganN4KEJ1aWxkZXJCbG9jayQxLHtrZXk6ZS5pZCxibG9jazplfSl9KSkpOm51bGwpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLFNlY3Rpb249d2l0aEJ1aWxkZXIoU2VjdGlvbkNvbXBvbmVudCx7bmFtZTpcIkNvcmU6U2VjdGlvblwiLHN0YXRpYzohMCxpbWFnZTpcImh0dHBzOi8vY2RuLmJ1aWxkZXIuaW8vYXBpL3YxL2ltYWdlL2Fzc2V0cyUyRklzeFBLTW8yZ1BSUktlYWtVenRqMUQ2dXFlZDIlMkY2ODJlZmVmMjNhY2U0OWFmYWM2MTc0OGRkMzA1YzcwYVwiLGlucHV0czpbe25hbWU6XCJtYXhXaWR0aFwiLHR5cGU6XCJudW1iZXJcIixkZWZhdWx0VmFsdWU6MTIwMH0se25hbWU6XCJsYXp5TG9hZFwiLHR5cGU6XCJib29sZWFuXCIsZGVmYXVsdFZhbHVlOiExLGFkdmFuY2VkOiEwLGRlc2NyaXB0aW9uOlwiT25seSByZW5kZXIgdGhpcyBzZWN0aW9uIHdoZW4gaW4gdmlld1wifV0sZGVmYXVsdFN0eWxlczp7cGFkZGluZ0xlZnQ6XCIyMHB4XCIscGFkZGluZ1JpZ2h0OlwiMjBweFwiLHBhZGRpbmdUb3A6XCI1MHB4XCIscGFkZGluZ0JvdHRvbTpcIjUwcHhcIixtYXJnaW5Ub3A6XCIwcHhcIix3aWR0aDpcIjEwMHZ3XCIsbWFyZ2luTGVmdDpcImNhbGMoNTAlIC0gNTB2dylcIn0sY2FuSGF2ZUNoaWxkcmVuOiEwLGRlZmF1bHRDaGlsZHJlbjpbe1wiQHR5cGVcIjpcIkBidWlsZGVyLmlvL3NkazpFbGVtZW50XCIscmVzcG9uc2l2ZVN0eWxlczp7bGFyZ2U6e3RleHRBbGlnbjpcImNlbnRlclwifX0sY29tcG9uZW50OntuYW1lOlwiVGV4dFwiLG9wdGlvbnM6e3RleHQ6XCI8cD48Yj5JIGFtIGEgc2VjdGlvbiEgTXkgY29udGVudCBrZWVwcyBmcm9tIGdldHRpbmcgdG9vIHdpZGUsIHNvIHRoYXQgaXQncyBlYXN5IHRvIHJlYWQgZXZlbiBvbiBiaWcgc2NyZWVucy48L2I+PC9wPjxwPkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIHNlZCBkbyBlaXVzbW9kIHRlbXBvciBpbmNpZGlkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmEgYWxpcXVhLiBVdCBlbmltIGFkIG1pbmltIHZlbmlhbSwgcXVpcyBub3N0cnVkIGV4ZXJjaXRhdGlvbiB1bGxhbWNvIGxhYm9yaXMgbmlzaSB1dCBhbGlxdWlwIGV4IGVhIGNvbW1vZG8gY29uc2VxdWF0LiBEdWlzIGF1dGUgaXJ1cmUgZG9sb3IgaW4gcmVwcmVoZW5kZXJpdCBpbiB2b2x1cHRhdGUgdmVsaXQgZXNzZSBjaWxsdW0gZG9sb3JlIGV1IGZ1Z2lhdCBudWxsYSBwYXJpYXR1cjwvcD5cIn19fV19KSxTdGF0ZVByb3ZpZGVyQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1aWxkZXJTdG9yZUNvbnRleHQuQ29uc3VtZXIsbnVsbCwoZnVuY3Rpb24odCl7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlclN0b3JlQ29udGV4dC5Qcm92aWRlcix7dmFsdWU6X19hc3NpZ24oX19hc3NpZ24oe30sdCkse3N0YXRlOl9fYXNzaWduKF9fYXNzaWduKHt9LHQuc3RhdGUpLGUucHJvcHMuc3RhdGUpLGNvbnRleHQ6X19hc3NpZ24oX19hc3NpZ24oe30sdC5jb250ZXh0KSxlLnByb3BzLmNvbnRleHQpfSl9LGUucHJvcHMuYnVpbGRlckJsb2NrJiZlLnByb3BzLmJ1aWxkZXJCbG9jay5jaGlsZHJlbiYmZS5wcm9wcy5idWlsZGVyQmxvY2suY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1aWxkZXJCbG9jayQxLHtibG9jazplLGtleTplLmlkLGluZGV4OnQsY2hpbGQ6ITB9KX0pKSxlLnByb3BzLmNoaWxkcmVuKX0pKX0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxTdGF0ZVByb3ZpZGVyPXdpdGhCdWlsZGVyKFN0YXRlUHJvdmlkZXJDb21wb25lbnQse25hbWU6XCJCdWlsZGVyOlN0YXRlUHJvdmlkZXJcIixjYW5IYXZlQ2hpbGRyZW46ITAsc3RhdGljOiEwLG5vV3JhcDohMCxoaWRlRnJvbUluc2VydE1lbnU6ITB9KSxwcmVmZXRjaGVkPW5ldyBTZXQ7ZnVuY3Rpb24gc2VhcmNoVG9PYmplY3QoZSl7dmFyIHQ9KGUuc2VhcmNofHxcIlwiKS5zdWJzdHJpbmcoMSkuc3BsaXQoXCImXCIpLG49e307Zm9yKHZhciBpIGluIHQpaWYodFtpXSYmXCJzdHJpbmdcIj09dHlwZW9mIHRbaV0pe3ZhciByPXRbaV0uc3BsaXQoXCI9XCIpO25bZGVjb2RlVVJJQ29tcG9uZW50KHJbMF0pXT1kZWNvZGVVUklDb21wb25lbnQoclsxXSl9cmV0dXJuIG59dmFyIFJvdXRlckNvbXBvbmVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0LmJ1aWxkZXI9YnVpbGRlcix0LnJvdXRlZD0hMSx0LnByZWxvYWRRdWV1ZT0wLHQub25Qb3BTdGF0ZT1mdW5jdGlvbihlKXt0LnVwZGF0ZUxvY2F0aW9uU3RhdGUoKX0sdC5vbk1vdXNlT3Zlck9yVG91Y2hTdGFydD1mdW5jdGlvbihlKXtpZighKHQucHJlbG9hZFF1ZXVlPjQpJiYhMSE9PXQucHJvcHMucHJlbG9hZE9uSG92ZXIpe3ZhciBuPXQuZmluZEhyZWZUYXJnZXQoZSk7aWYobil7dmFyIGk9bi5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO2lmKGkpe2lmKCF0LmlzUmVsYXRpdmUoaSkpe3ZhciByPXQuY29udmVydFRvUmVsYXRpdmUoaSk7aWYoIXIpcmV0dXJuO2k9cn1pZighaS5zdGFydHNXaXRoKFwiI1wiKSYmIXByZWZldGNoZWQuaGFzKGkpKXtwcmVmZXRjaGVkLmFkZChpKTt2YXIgbz10LnBhcnNlVXJsKGkpO3QucHJlbG9hZFF1ZXVlKys7dmFyIGE9YnVpbGRlci5nZXRVc2VyQXR0cmlidXRlcygpO2EudXJsUGF0aD1vLnBhdGhuYW1lLGEucXVlcnlTdHJpbmc9by5zZWFyY2g7dmFyIHM9YnVpbGRlci5nZXQodC5tb2RlbCx7dXNlckF0dHJpYnV0ZXM6YSxrZXk6dC5tb2RlbCtcIjpcIitvLnBhdGhuYW1lK28uc2VhcmNofSkuc3Vic2NyaWJlKChmdW5jdGlvbigpe3QucHJlbG9hZFF1ZXVlLS0scy51bnN1YnNjcmliZSgpfSkpfX19fX0sdC5vbkNsaWNrPWZ1bmN0aW9uKGUpe3JldHVybiBfX2F3YWl0ZXIodCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0LG4saSxyO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihvKXtpZighMT09PXRoaXMucHJvcHMuaGFuZGxlUm91dGluZylyZXR1cm5bMl07aWYoMCE9PWUuYnV0dG9ufHxlLmN0cmxLZXl8fGUuZGVmYXVsdFByZXZlbnRlZHx8ZS5tZXRhS2V5KXJldHVyblsyXTtpZighKHQ9dGhpcy5maW5kSHJlZlRhcmdldChlKSkpcmV0dXJuWzJdO2lmKHQudGFyZ2V0JiZcIl9jbGllbnRcIiE9PXQudGFyZ2V0KXJldHVyblsyXTtpZighKG49dC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKSlyZXR1cm5bMl07aWYodGhpcy5wcm9wcy5vblJvdXRlJiYoaT17dXJsOm4sYW5jaG9yTm9kZTp0LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfSxkZWZhdWx0UHJldmVudGVkOiExfSx0aGlzLnByb3BzLm9uUm91dGUoaSksaS5kZWZhdWx0UHJldmVudGVkKSlyZXR1cm5bMl07aWYoIXRoaXMuaXNSZWxhdGl2ZShuKSl7aWYoIShyPXRoaXMuY29udmVydFRvUmVsYXRpdmUobikpKXJldHVyblsyXTtuPXJ9cmV0dXJuIG4uc3RhcnRzV2l0aChcIiNcIil8fChlLnByZXZlbnREZWZhdWx0KCksdGhpcy5yb3V0ZShuKSksWzJdfSkpfSkpfSx0LnByaXZhdGVTdGF0ZT1udWxsLHR9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnJvdXRlPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzLnJvdXRlZD0hMCxcImZ1bmN0aW9uXCI9PXR5cGVvZihudWxsPT09KHQ9d2luZG93Lmhpc3RvcnkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnB1c2hTdGF0ZSk/KGhpc3RvcnkucHVzaFN0YXRlKG51bGwsXCJcIixlKSx0aGlzLnVwZGF0ZUxvY2F0aW9uU3RhdGUoKSwhMCk6KGxvY2F0aW9uLmhyZWY9ZSwhMSl9LHQucHJvdG90eXBlLnVwZGF0ZUxvY2F0aW9uU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLnByaXZhdGVTdGF0ZSYmdGhpcy5wcml2YXRlU3RhdGUudXBkYXRlKChmdW5jdGlvbihlKXtlLmxvY2F0aW9uPV9fYXNzaWduKF9fYXNzaWduKHt9LGUubG9jYXRpb24pLHtwYXRobmFtZTpsb2NhdGlvbi5wYXRobmFtZSxzZWFyY2g6bG9jYXRpb24uc2VhcmNoLHBhdGg6bG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoXCIvXCIpLnNsaWNlKDEpLHF1ZXJ5OnNlYXJjaFRvT2JqZWN0KGxvY2F0aW9uKX0pfSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJtb2RlbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5tb2RlbHx8XCJwYWdlXCJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJihkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uQ2xpY2spLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIix0aGlzLm9uUG9wU3RhdGUpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIix0aGlzLm9uTW91c2VPdmVyT3JUb3VjaFN0YXJ0KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMub25Nb3VzZU92ZXJPclRvdWNoU3RhcnQpKX0sdC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uQ2xpY2spLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIix0aGlzLm9uTW91c2VPdmVyT3JUb3VjaFN0YXJ0KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsdGhpcy5vblBvcFN0YXRlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMub25Nb3VzZU92ZXJPclRvdWNoU3RhcnQpKX0sdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMubW9kZWw7cmV0dXJuIGpzeChCdWlsZGVyU3RvcmVDb250ZXh0LkNvbnN1bWVyLG51bGwsKGZ1bmN0aW9uKG4pe2UucHJpdmF0ZVN0YXRlPW47dmFyIGk9bi5zdGF0ZSYmbi5zdGF0ZS5sb2NhdGlvbiYmbi5zdGF0ZS5sb2NhdGlvbi5wYXRobmFtZStuLnN0YXRlLmxvY2F0aW9uLnNlYXJjaDtyZXR1cm4ganN4KFwiZGl2XCIse2NsYXNzTmFtZTpcImJ1aWxkZXItcm91dGVyXCIsXCJkYXRhLW1vZGVsXCI6dH0sanN4KFwic3R5bGVcIix7bm9uY2U6bi5jb250ZXh0Lm5vbmNlfSxcIlxcbiAgICAgICAgICAgICAgICBAa2V5ZnJhbWVzIGJ1aWxkZXJMb2FkaW5nU3Bpbm5lciB7XFxuICAgICAgICAgICAgICAgICAgMCUge1xcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgIDEwMCUge1xcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcXG4gICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgLyogVE9ETzogb3ZlcnJpZGFibGUgdGFnICovXFxuICAgICAgICAgICAgICAgIC5idWlsZGVyLXBhZ2UtbG9hZGluZyB7XFxuICAgICAgICAgICAgICAgICAgLXdlYmtpdC1hbmltYXRpb246IGJ1aWxkZXJMb2FkaW5nU3Bpbm5lciAxcyBpbmZpbml0ZSBsaW5lYXI7XFxuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBidWlsZGVyTG9hZGluZ1NwaW5uZXIgMXMgaW5maW5pdGUgbGluZWFyO1xcbiAgICAgICAgICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xcbiAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcXG4gICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICAgICAgICAgICAgICAgICAgd2lkdGg6IDM2cHg7XFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzNnB4O1xcbiAgICAgICAgICAgICAgICAgIG1hcmdpbjogNnB4IGF1dG87XFxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgICAgICAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgIzgwODI4NDtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgXCIpLGpzeChCdWlsZGVyQ29tcG9uZW50LHtrZXk6aSxkYXRhOmUucHJvcHMuZGF0YSxjb250ZW50OmUucm91dGVkP3ZvaWQgMDplLnByb3BzLmNvbnRlbnQsbW9kZWxOYW1lOnQsb3B0aW9uczp7a2V5OkJ1aWxkZXIuaXNFZGl0aW5nP3ZvaWQgMDplLm1vZGVsK1wiOlwiK2l9LG5vbmNlOm4uY29udGV4dC5ub25jZX0sZS5wcm9wcy5jaGlsZHJlbnx8anN4KFwiZGl2XCIse2Nzczp7ZGlzcGxheTpcImZsZXhcIn19LGpzeChcImRpdlwiLHtjc3M6e21hcmdpbjpcIjQwdmggYXV0b1wifSxjbGFzc05hbWU6XCJidWlsZGVyLXBhZ2UtbG9hZGluZ1wifSkpKSl9KSl9LHQucHJvdG90eXBlLmZpbmRIcmVmVGFyZ2V0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnRhcmdldDt0Oyl7aWYodCBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50JiZ0LmdldEF0dHJpYnV0ZShcImhyZWZcIikpcmV0dXJuIHQ7aWYodD09PWUuY3VycmVudFRhcmdldClicmVhazt0PXQucGFyZW50RWxlbWVudH1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuaXNSZWxhdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4hZS5tYXRjaCgvXihcXC9cXC98aHR0cHM/OlxcL1xcLykvaSl9LHQucHJvdG90eXBlLnBhcnNlVXJsPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3JldHVybiB0LmhyZWY9ZSx0fSx0LnByb3RvdHlwZS5jb252ZXJ0VG9SZWxhdGl2ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBhcnNlVXJsKGxvY2F0aW9uLmhyZWYpLG49dGhpcy5wYXJzZVVybChlKTtpZih0Lmhvc3Q9PT1uLmhvc3Qpe3ZhciBpPW4ucGF0aG5hbWUrKG4uc2VhcmNoP24uc2VhcmNoOlwiXCIpO3JldHVybiBpLnN0YXJ0c1dpdGgoXCIjXCIpP251bGw6aXx8XCIvXCJ9cmV0dXJuIG51bGx9LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksUm91dGVyPXdpdGhCdWlsZGVyKFJvdXRlckNvbXBvbmVudCx7bmFtZTpcIkNvcmU6Um91dGVyXCIsaGlkZUZyb21JbnNlcnRNZW51OiEwLGlucHV0czpbe25hbWU6XCJtb2RlbFwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6XCJwYWdlXCIsYWR2YW5jZWQ6ITB9LHtuYW1lOlwiaGFuZGxlUm91dGluZ1wiLHR5cGU6XCJib29sZWFuXCIsZGVmYXVsdFZhbHVlOiEwLGFkdmFuY2VkOiEwfSx7bmFtZTpcInByZWxvYWRPbkhvdmVyXCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6ITAsYWR2YW5jZWQ6ITB9LHtuYW1lOlwib25Sb3V0ZVwiLHR5cGU6XCJmdW5jdGlvblwiLGFkdmFuY2VkOiEwfV19KTtmdW5jdGlvbiBNdXRhdGlvbihlKXt2YXIgdCxuLGk9UmVhY3RfX2RlZmF1bHQudXNlUmVmKG51bGwpO3VzZVdhaXRGb3JTZWxlY3RvcihlLnNlbGVjdG9yLChmdW5jdGlvbih0KXtcImFmdGVyRW5kXCIhPT1lLnR5cGUmJih0LmlubmVySFRNTD1cIlwiKSx0LmFwcGVuZENoaWxkKGkuY3VycmVudC5maXJzdEVsZW1lbnRDaGlsZCl9KSk7dmFyIHI9bnVsbD09PSh0PWUuYnVpbGRlckJsb2NrKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jaGlsZHJlbjtyZXR1cm4ganN4KFwic3BhblwiLHtzdHlsZTp7ZGlzcGxheTpcIm5vbmVcIn0scmVmOml9LGpzeChCdWlsZGVyQmxvY2tzLHtzdHlsZTp7ZGlzcGxheTpcImlubGluZVwifSxjaGlsZDohMCxwYXJlbnRFbGVtZW50SWQ6bnVsbD09PShuPWUuYnVpbGRlckJsb2NrKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pZCxkYXRhUGF0aDpcInRoaXMuY2hpbGRyZW5cIixibG9ja3M6cn0pKX1mdW5jdGlvbiB1c2VXYWl0Rm9yU2VsZWN0b3IoZSx0KXtSZWFjdF9fZGVmYXVsdC51c2VMYXlvdXRFZmZlY3QoKGZ1bmN0aW9uKCl7dHJ5e3ZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSk7aWYobilyZXR1cm4gdm9pZCB0KG4pfWNhdGNoKGUpe2NvbnNvbGUud2FybihlKX12YXIgaT1uZXcgTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24oKXt0cnl7dmFyIG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTtuJiYoaS5kaXNjb25uZWN0KCksdChuKSl9Y2F0Y2goZSl7Y29uc29sZS53YXJuKGUpfX0pKTtyZXR1cm4gaS5vYnNlcnZlKGRvY3VtZW50LmJvZHkse2F0dHJpYnV0ZXM6ITAsc3VidHJlZTohMCxjaGFyYWN0ZXJEYXRhOiEwfSksZnVuY3Rpb24oKXtpLmRpc2Nvbm5lY3QoKX19KSxbZV0pfUJ1aWxkZXIucmVnaXN0ZXJDb21wb25lbnQoTXV0YXRpb24se25hbWU6XCJCdWlsZGVyOk11dGF0aW9uXCIsY2FuSGF2ZUNoaWxkcmVuOiEwLG5vV3JhcDohMCxoaWRlRnJvbUluc2VydE1lbnU6ITAsaW5wdXRzOlt7bmFtZTpcInR5cGVcIix0eXBlOlwic3RyaW5nXCIsZGVmYXVsdFZhbHVlOlwicmVwbGFjZVwiLGVudW06W3tsYWJlbDpcIlJlcGxhY2VcIix2YWx1ZTpcInJlcGxhY2VcIixoZWxwZXJUZXh0OlwiUmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhpcyBzaXRlIHJlZ2lvbiB3aXRoIGNvbnRlbnQgZnJvbSBCdWlsZGVyXCJ9LHtsYWJlbDpcIkFwcGVuZFwiLHZhbHVlOlwiYWZ0ZXJFbmRcIixoZWxwZXJUZXh0OlwiQXBwZW5kIEJ1aWxkZXIgY29udGVudCBhZnRlciB0aGUgY2hvc2VuIHNpdGUgcmVnaW9uXCJ9XX0se25hbWU6XCJzZWxlY3RvclwiLHR5cGU6XCJidWlsZGVyOmRvbVNlbGVjdG9yXCJ9XX0pO3ZhciBnZXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPVN0cmluZy5wcm90b3R5cGUuc3BsaXQuY2FsbCh0LC9bLFtcXF0uXSs/LykuZmlsdGVyKEJvb2xlYW4pLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbCE9ZT9lW3RdOmV9KSxlKTtyZXR1cm4gdm9pZCAwPT09aXx8aT09PWU/bjppfSxNVUxUSVBBUlRfQ09OVEVOVF9UWVBFPVwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiLEpTT05fQ09OVEVOVF9UWVBFPVwiYXBwbGljYXRpb24vanNvblwiLEVOQ09ERURfQ09OVEVOVF9UWVBFPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsRm9ybUNvbXBvbmVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0LnJlZj1udWxsLHQuc3RhdGU9e3N0YXRlOlwidW5zdWJtaXR0ZWRcIixyZXNwb25zZURhdGE6bnVsbCxmb3JtRXJyb3JNZXNzYWdlOlwiXCJ9LHR9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInN1Ym1pc3Npb25TdGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQnVpbGRlci5pc0VkaXRpbmcmJnRoaXMucHJvcHMucHJldmlld1N0YXRlfHx0aGlzLnN0YXRlLnN0YXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGpzeChCdWlsZGVyU3RvcmVDb250ZXh0LkNvbnN1bWVyLG51bGwsKGZ1bmN0aW9uKHQpe3JldHVybiBqc3goQnVpbGRlclN0b3JlQ29udGV4dC5Qcm92aWRlcix7dmFsdWU6X19hc3NpZ24oX19hc3NpZ24oe30sdCkse3N0YXRlOl9fYXNzaWduKF9fYXNzaWduKHt9LHQuc3RhdGUpLHtmb3JtRXJyb3JNZXNzYWdlOmUuc3RhdGUuZm9ybUVycm9yTWVzc2FnZX0pfSl9LGpzeChcImZvcm1cIixfX2Fzc2lnbih7fSxlLnByb3BzLnZhbGlkYXRlP3t9Ontub1ZhbGlkYXRlOiEwfSx7cmVmOmZ1bmN0aW9uKHQpe3JldHVybiBlLnJlZj10fSxhY3Rpb246IWUucHJvcHMuc2VuZFdpdGhKcyYmZS5wcm9wcy5hY3Rpb24/ZS5wcm9wcy5hY3Rpb246dm9pZCAwLG1ldGhvZDplLnByb3BzLm1ldGhvZCxuYW1lOmUucHJvcHMubmFtZSxvblN1Ym1pdDpmdW5jdGlvbih0KXt2YXIgbixpPWUucHJvcHMuc2VuZFdpdGhKc3x8XCJlbWFpbFwiPT09ZS5wcm9wcy5zZW5kU3VibWlzc2lvbnNUbztpZihcInphcGllclwiPT09ZS5wcm9wcy5zZW5kU3VibWlzc2lvbnNUbyl0LnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZihpKXtpZighZS5wcm9wcy5hY3Rpb24mJlwiZW1haWxcIiE9PWUucHJvcHMuc2VuZFN1Ym1pc3Npb25zVG8pcmV0dXJuIHZvaWQgdC5wcmV2ZW50RGVmYXVsdCgpO3QucHJldmVudERlZmF1bHQoKTt2YXIgcj10LmN1cnJlbnRUYXJnZXQsbz1lLnByb3BzLmN1c3RvbUhlYWRlcnN8fHt9LGE9dm9pZCAwLHM9bmV3IEZvcm1EYXRhKHIpLGw9QXJyYXkuZnJvbSh0LmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvckFsbChcImlucHV0LHNlbGVjdCx0ZXh0YXJlYVwiKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hIWUubmFtZX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZS5uYW1lJiYoXCJyYWRpb1wiIT09ZS50eXBlfHxlLmNoZWNrZWQpfSkpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQsbj1lLm5hbWU7aWYoZSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpaWYoXCJyYWRpb1wiPT09ZS50eXBlKXtpZihlLmNoZWNrZWQpcmV0dXJue2tleTpuLHZhbHVlOnQ9ZS52YWx1ZX19ZWxzZSBpZihcImNoZWNrYm94XCI9PT1lLnR5cGUpdD1lLmNoZWNrZWQ7ZWxzZSBpZihcIm51bWJlclwiPT09ZS50eXBlfHxcInJhbmdlXCI9PT1lLnR5cGUpe3ZhciBpPWUudmFsdWVBc051bWJlcjtpc05hTihpKXx8KHQ9aSl9ZWxzZSB0PVwiZmlsZVwiPT09ZS50eXBlP2UuZmlsZXM6ZS52YWx1ZTtlbHNlIHQ9ZS52YWx1ZTtyZXR1cm57a2V5Om4sdmFsdWU6dH19KSksdT1lLnByb3BzLmNvbnRlbnRUeXBlO2lmKFwiZW1haWxcIj09PWUucHJvcHMuc2VuZFN1Ym1pc3Npb25zVG8mJih1PU1VTFRJUEFSVF9DT05URU5UX1RZUEUpLEFycmF5LmZyb20obCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZTsodCBpbnN0YW5jZW9mIEZpbGV8fEFycmF5LmlzQXJyYXkodCkmJnRbMF1pbnN0YW5jZW9mIEZpbGV8fHQgaW5zdGFuY2VvZiBGaWxlTGlzdCkmJih1PU1VTFRJUEFSVF9DT05URU5UX1RZUEUpfSkpLHU9PT1NVUxUSVBBUlRfQ09OVEVOVF9UWVBFKWE9cztlbHNlIGlmKHU9PT1KU09OX0NPTlRFTlRfVFlQRSl7dmFyIGQ9e307QXJyYXkuZnJvbShsKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLnZhbHVlLG49ZS5rZXk7c2V0KGQsbix0KX0pKSxhPUpTT04uc3RyaW5naWZ5KGQpfWVsc2V7aWYodSE9PUVOQ09ERURfQ09OVEVOVF9UWVBFKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJVbnN1cHBvcnRlZCBjb250ZW50IHR5cGU6IFwiLHUpO2E9QXJyYXkuZnJvbShsKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWUsbj1lLmtleTtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG4pK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0KX0pKS5qb2luKFwiJlwiKX11JiZ1IT09TVVMVElQQVJUX0NPTlRFTlRfVFlQRSYmKGkmJihudWxsPT09KG49ZS5wcm9wcy5hY3Rpb24pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmluY2x1ZGVzKFwiemFwaWVyLmNvbVwiKSl8fChvW1wiY29udGVudC10eXBlXCJdPXUpKTt2YXIgYz1uZXcgQ3VzdG9tRXZlbnQoXCJwcmVzdWJtaXRcIix7ZGV0YWlsOntib2R5OmF9fSk7aWYoZS5yZWYmJihlLnJlZi5kaXNwYXRjaEV2ZW50KGMpLGMuZGVmYXVsdFByZXZlbnRlZCkpcmV0dXJuO2Uuc2V0U3RhdGUoX19hc3NpZ24oX19hc3NpZ24oe30sZS5zdGF0ZSkse3N0YXRlOlwic2VuZGluZ1wifSkpO3ZhciBwPVwiXCIuY29uY2F0KFwiZGV2XCI9PT1idWlsZGVyLmVudj9cImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMFwiOlwiaHR0cHM6Ly9idWlsZGVyLmlvXCIsXCIvYXBpL3YxL2Zvcm0tc3VibWl0P2FwaUtleT1cIikuY29uY2F0KGJ1aWxkZXIuYXBpS2V5LFwiJnRvPVwiKS5jb25jYXQoYnRvYShlLnByb3BzLnNlbmRTdWJtaXNzaW9uc1RvRW1haWx8fFwiXCIpLFwiJm5hbWU9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5wcm9wcy5uYW1lfHxcIlwiKSk7ZmV0Y2goXCJlbWFpbFwiPT09ZS5wcm9wcy5zZW5kU3VibWlzc2lvbnNUbz9wOmUucHJvcHMuYWN0aW9uLHtib2R5OmEsaGVhZGVyczpvLG1ldGhvZDplLnByb3BzLm1ldGhvZHx8XCJwb3N0XCJ9KS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gX19hd2FpdGVyKGUsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxuLGkscixvO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOnJldHVybihuPXQuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIikpJiYtMSE9PW4uaW5kZXhPZihKU09OX0NPTlRFTlRfVFlQRSk/WzQsdC5qc29uKCldOlszLDJdO2Nhc2UgMTpyZXR1cm4gZT1hLnNlbnQoKSxbMyw0XTtjYXNlIDI6cmV0dXJuWzQsdC50ZXh0KCldO2Nhc2UgMzplPWEuc2VudCgpLGEubGFiZWw9NDtjYXNlIDQ6aWYoIXQub2smJnRoaXMucHJvcHMuZXJyb3JNZXNzYWdlUGF0aCYmKGk9Z2V0KGUsdGhpcy5wcm9wcy5lcnJvck1lc3NhZ2VQYXRoKSkmJihcInN0cmluZ1wiIT10eXBlb2YgaSYmKGk9SlNPTi5zdHJpbmdpZnkoaSkpLHRoaXMuc2V0U3RhdGUoX19hc3NpZ24oX19hc3NpZ24oe30sdGhpcy5zdGF0ZSkse2Zvcm1FcnJvck1lc3NhZ2U6aX0pKSksdGhpcy5zZXRTdGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSx0aGlzLnN0YXRlKSx7cmVzcG9uc2VEYXRhOmUsc3RhdGU6dC5vaz9cInN1Y2Nlc3NcIjpcImVycm9yXCJ9KSksdC5vayl7aWYocj1uZXcgQ3VzdG9tRXZlbnQoXCJzdWJtaXQ6c3VjY2Vzc1wiLHtkZXRhaWw6e3Jlczp0LGJvZHk6ZX19KSx0aGlzLnJlZil7aWYodGhpcy5yZWYuZGlzcGF0Y2hFdmVudChyKSxyLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuWzJdOyExIT09dGhpcy5wcm9wcy5yZXNldEZvcm1PblN1Ym1pdCYmdGhpcy5yZWYucmVzZXQoKX10aGlzLnByb3BzLnN1Y2Nlc3NVcmwmJih0aGlzLnJlZj8obz1uZXcgQ3VzdG9tRXZlbnQoXCJyb3V0ZVwiLHtkZXRhaWw6e3VybDp0aGlzLnByb3BzLnN1Y2Nlc3NVcmx9fSksdGhpcy5yZWYuZGlzcGF0Y2hFdmVudChvKSxvLmRlZmF1bHRQcmV2ZW50ZWR8fChsb2NhdGlvbi5ocmVmPXRoaXMucHJvcHMuc3VjY2Vzc1VybCkpOmxvY2F0aW9uLmhyZWY9dGhpcy5wcm9wcy5zdWNjZXNzVXJsKX1yZXR1cm5bMl19fSkpfSkpfSksKGZ1bmN0aW9uKHQpe3ZhciBuPW5ldyBDdXN0b21FdmVudChcInN1Ym1pdDplcnJvclwiLHtkZXRhaWw6e2Vycm9yOnR9fSk7ZS5yZWYmJihlLnJlZi5kaXNwYXRjaEV2ZW50KG4pLG4uZGVmYXVsdFByZXZlbnRlZCl8fGUuc2V0U3RhdGUoX19hc3NpZ24oX19hc3NpZ24oe30sZS5zdGF0ZSkse3Jlc3BvbnNlRGF0YTp0LHN0YXRlOlwiZXJyb3JcIn0pKX0pKX19fSxlLnByb3BzLmF0dHJpYnV0ZXMpLGUucHJvcHMuYnVpbGRlckJsb2NrJiZlLnByb3BzLmJ1aWxkZXJCbG9jay5jaGlsZHJlbiYmZS5wcm9wcy5idWlsZGVyQmxvY2suY2hpbGRyZW4ubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBqc3goQnVpbGRlckJsb2NrJDEse2tleTplLmlkLGJsb2NrOmV9KX0pKSxcImVycm9yXCI9PT1lLnN1Ym1pc3Npb25TdGF0ZSYmanN4KEJ1aWxkZXJCbG9ja3Mse2RhdGFQYXRoOlwiZXJyb3JNZXNzYWdlXCIsYmxvY2tzOmUucHJvcHMuZXJyb3JNZXNzYWdlfSksXCJzZW5kaW5nXCI9PT1lLnN1Ym1pc3Npb25TdGF0ZSYmanN4KEJ1aWxkZXJCbG9ja3Mse2RhdGFQYXRoOlwic2VuZGluZ01lc3NhZ2VcIixibG9ja3M6ZS5wcm9wcy5zZW5kaW5nTWVzc2FnZX0pLFwiZXJyb3JcIj09PWUuc3VibWlzc2lvblN0YXRlJiZlLnN0YXRlLnJlc3BvbnNlRGF0YSYmanN4KFwicHJlXCIse2NsYXNzTmFtZTpcImJ1aWxkZXItZm9ybS1lcnJvci10ZXh0XCIsY3NzOntwYWRkaW5nOjEwLGNvbG9yOlwicmVkXCIsdGV4dEFsaWduOlwiY2VudGVyXCJ9fSxKU09OLnN0cmluZ2lmeShlLnN0YXRlLnJlc3BvbnNlRGF0YSxudWxsLDIpKSxcInN1Y2Nlc3NcIj09PWUuc3VibWlzc2lvblN0YXRlJiZqc3goQnVpbGRlckJsb2Nrcyx7ZGF0YVBhdGg6XCJzdWNjZXNzTWVzc2FnZVwiLGJsb2NrczplLnByb3BzLnN1Y2Nlc3NNZXNzYWdlfSkpKX0pKX0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxGb3JtPXdpdGhCdWlsZGVyKEZvcm1Db21wb25lbnQse25hbWU6XCJGb3JtOkZvcm1cIixkZWZhdWx0czp7cmVzcG9uc2l2ZVN0eWxlczp7bGFyZ2U6e21hcmdpblRvcDpcIjE1cHhcIixwYWRkaW5nQm90dG9tOlwiMTVweFwifX19LGltYWdlOlwiaHR0cHM6Ly9jZG4uYnVpbGRlci5pby9hcGkvdjEvaW1hZ2UvYXNzZXRzJTJGSXN4UEtNbzJnUFJSS2Vha1V6dGoxRDZ1cWVkMiUyRmVmMzZkMmE4NDYxMzQ5MTBiNjRiODhlNmQxOGM1Y2E1XCIsaW5wdXRzOlt7bmFtZTpcInNlbmRTdWJtaXNzaW9uc1RvXCIsdHlwZTpcInN0cmluZ1wiLGVudW06W3tsYWJlbDpcIlNlbmQgdG8gZW1haWxcIix2YWx1ZTpcImVtYWlsXCIsaGVscGVyVGV4dDpcIlNlbmQgZm9ybSBzdWJtaXNzaW9ucyB0byB0aGUgZW1haWwgYWRkcmVzcyBvZiB5b3VyIGNob29zaW5nXCJ9LHtsYWJlbDpcIkN1c3RvbVwiLHZhbHVlOlwiY3VzdG9tXCIsaGVscGVyVGV4dDpcIkhhbmRsZSB3aGVyZSB0aGUgZm9ybSByZXF1ZXN0cyBnbyBtYW51YWxseSB3aXRoIGEgbGl0dGxlIGNvZGUsIGUuZy4gdG8geW91ciBvd24gY3VzdG9tIGJhY2tlbmRcIn1dLGRlZmF1bHRWYWx1ZTpcImVtYWlsXCJ9LHtuYW1lOlwic2VuZFN1Ym1pc3Npb25zVG9FbWFpbFwiLHR5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMCxkZWZhdWx0VmFsdWU6XCJ5b3VyQGVtYWlsLmNvbVwiLHNob3dJZjonb3B0aW9ucy5nZXQoXCJzZW5kU3VibWlzc2lvbnNUb1wiKSA9PT0gXCJlbWFpbFwiJ30se25hbWU6XCJzZW5kV2l0aEpzXCIsdHlwZTpcImJvb2xlYW5cIixoZWxwZXJUZXh0OlwiU2V0IHRvIGZhbHNlIHRvIHVzZSBiYXNpYyBodG1sIGZvcm0gYWN0aW9uXCIsZGVmYXVsdFZhbHVlOiEwLHNob3dJZjonb3B0aW9ucy5nZXQoXCJzZW5kU3VibWlzc2lvbnNUb1wiKSA9PT0gXCJjdXN0b21cIid9LHtuYW1lOlwibmFtZVwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6XCJNeSBmb3JtXCJ9LHtuYW1lOlwiYWN0aW9uXCIsdHlwZTpcInN0cmluZ1wiLGhlbHBlclRleHQ6XCJVUkwgdG8gc2VuZCB0aGUgZm9ybSBkYXRhIHRvXCIsc2hvd0lmOidvcHRpb25zLmdldChcInNlbmRTdWJtaXNzaW9uc1RvXCIpID09PSBcImN1c3RvbVwiJ30se25hbWU6XCJjb250ZW50VHlwZVwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6SlNPTl9DT05URU5UX1RZUEUsYWR2YW5jZWQ6ITAsZW51bTpbSlNPTl9DT05URU5UX1RZUEUsTVVMVElQQVJUX0NPTlRFTlRfVFlQRSxFTkNPREVEX0NPTlRFTlRfVFlQRV0sc2hvd0lmOidvcHRpb25zLmdldChcInNlbmRTdWJtaXNzaW9uc1RvXCIpID09PSBcImN1c3RvbVwiICYmIG9wdGlvbnMuZ2V0KFwic2VuZFdpdGhKc1wiKSA9PT0gdHJ1ZSd9LHtuYW1lOlwibWV0aG9kXCIsdHlwZTpcInN0cmluZ1wiLHNob3dJZjonb3B0aW9ucy5nZXQoXCJzZW5kU3VibWlzc2lvbnNUb1wiKSA9PT0gXCJjdXN0b21cIicsZGVmYXVsdFZhbHVlOlwiUE9TVFwiLGFkdmFuY2VkOiEwfSx7bmFtZTpcInByZXZpZXdTdGF0ZVwiLHR5cGU6XCJzdHJpbmdcIixlbnVtOltcInVuc3VibWl0dGVkXCIsXCJzZW5kaW5nXCIsXCJzdWNjZXNzXCIsXCJlcnJvclwiXSxkZWZhdWx0VmFsdWU6XCJ1bnN1Ym1pdHRlZFwiLGhlbHBlclRleHQ6J0Nob29zZSBhIHN0YXRlIHRvIGVkaXQsIGUuZy4gY2hvb3NlIFwic3VjY2Vzc1wiIHRvIHNob3cgd2hhdCB1c2VycyBzZWUgb24gc3VjY2VzcyBhbmQgZWRpdCB0aGUgbWVzc2FnZScsc2hvd0lmOidvcHRpb25zLmdldChcInNlbmRTdWJtaXNzaW9uc1RvXCIpICE9PSBcInphcGllclwiICYmIG9wdGlvbnMuZ2V0KFwic2VuZFdpdGhKc1wiKSA9PT0gdHJ1ZSd9LHtuYW1lOlwic3VjY2Vzc1VybFwiLHR5cGU6XCJ1cmxcIixoZWxwZXJUZXh0OlwiT3B0aW9uYWwgVVJMIHRvIHJlZGlyZWN0IHRoZSB1c2VyIHRvIG9uIGZvcm0gc3VibWlzc2lvbiBzdWNjZXNzXCIsc2hvd0lmOidvcHRpb25zLmdldChcInNlbmRTdWJtaXNzaW9uc1RvXCIpICE9PSBcInphcGllclwiICYmIG9wdGlvbnMuZ2V0KFwic2VuZFdpdGhKc1wiKSA9PT0gdHJ1ZSd9LHtuYW1lOlwicmVzZXRGb3JtT25TdWJtaXRcIix0eXBlOlwiYm9vbGVhblwiLHNob3dJZjpmdW5jdGlvbihlKXtyZXR1cm5cImN1c3RvbVwiPT09ZS5nZXQoXCJzZW5kU3VibWlzc2lvbnNUb1wiKSYmITA9PT1lLmdldChcInNlbmRXaXRoSnNcIil9LGFkdmFuY2VkOiEwfSx7bmFtZTpcInN1Y2Nlc3NNZXNzYWdlXCIsdHlwZTpcInVpQmxvY2tzXCIsaGlkZUZyb21VSTohMCxkZWZhdWx0VmFsdWU6W3tcIkB0eXBlXCI6XCJAYnVpbGRlci5pby9zZGs6RWxlbWVudFwiLHJlc3BvbnNpdmVTdHlsZXM6e2xhcmdlOnttYXJnaW5Ub3A6XCIxMHB4XCJ9fSxjb21wb25lbnQ6e25hbWU6XCJUZXh0XCIsb3B0aW9uczp7dGV4dDpcIjxzcGFuPlRoYW5rcyE8L3NwYW4+XCJ9fX1dfSx7bmFtZTpcInZhbGlkYXRlXCIsdHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6ITAsYWR2YW5jZWQ6ITB9LHtuYW1lOlwiZXJyb3JNZXNzYWdlUGF0aFwiLHR5cGU6XCJ0ZXh0XCIsYWR2YW5jZWQ6ITAsaGVscGVyVGV4dDonUGF0aCB0byB3aGVyZSB0byBnZXQgdGhlIGVycm9yIG1lc3NhZ2UgZnJvbSBpbiBhIEpTT04gcmVzcG9uc2UgdG8gZGlzcGxheSB0byB0aGUgdXNlciwgZS5nLiBcImVycm9yLm1lc3NhZ2VcIiBmb3IgYSByZXNwb25zZSBsaWtlIHsgXCJlcnJvclwiOiB7IFwibWVzc2FnZVwiOiBcInRoaXMgdXNlcm5hbWUgaXMgdGFrZW5cIiB9fSd9LHtuYW1lOlwiZXJyb3JNZXNzYWdlXCIsdHlwZTpcInVpQmxvY2tzXCIsaGlkZUZyb21VSTohMCxkZWZhdWx0VmFsdWU6W3tcIkB0eXBlXCI6XCJAYnVpbGRlci5pby9zZGs6RWxlbWVudFwiLHJlc3BvbnNpdmVTdHlsZXM6e2xhcmdlOnttYXJnaW5Ub3A6XCIxMHB4XCJ9fSxiaW5kaW5nczp7XCJjb21wb25lbnQub3B0aW9ucy50ZXh0XCI6XCJzdGF0ZS5mb3JtRXJyb3JNZXNzYWdlIHx8IGJsb2NrLmNvbXBvbmVudC5vcHRpb25zLnRleHRcIn0sY29tcG9uZW50OntuYW1lOlwiVGV4dFwiLG9wdGlvbnM6e3RleHQ6XCI8c3Bhbj5Gb3JtIHN1Ym1pc3Npb24gZXJyb3IgOiggUGxlYXNlIGNoZWNrIHlvdXIgYW5zd2VycyBhbmQgdHJ5IGFnYWluPC9zcGFuPlwifX19XX0se25hbWU6XCJzZW5kaW5nTWVzc2FnZVwiLHR5cGU6XCJ1aUJsb2Nrc1wiLGhpZGVGcm9tVUk6ITAsZGVmYXVsdFZhbHVlOlt7XCJAdHlwZVwiOlwiQGJ1aWxkZXIuaW8vc2RrOkVsZW1lbnRcIixyZXNwb25zaXZlU3R5bGVzOntsYXJnZTp7bWFyZ2luVG9wOlwiMTBweFwifX0sY29tcG9uZW50OntuYW1lOlwiVGV4dFwiLG9wdGlvbnM6e3RleHQ6XCI8c3Bhbj5TZW5kaW5nLi4uPC9zcGFuPlwifX19XX0sX19hc3NpZ24oX19hc3NpZ24oe25hbWU6XCJjdXN0b21IZWFkZXJzXCIsdHlwZTpcIm1hcFwifSx7dmFsdWVUeXBlOnt0eXBlOlwic3RyaW5nXCJ9fSkse2FkdmFuY2VkOiEwLHNob3dJZjonb3B0aW9ucy5nZXQoXCJzZW5kU3VibWlzc2lvbnNUb1wiKSA9PT0gXCJjdXN0b21cIiAmJiBvcHRpb25zLmdldChcInNlbmRXaXRoSnNcIikgPT09IHRydWUnfSldLG5vV3JhcDohMCxjYW5IYXZlQ2hpbGRyZW46ITAsZGVmYXVsdENoaWxkcmVuOlt7XCJAdHlwZVwiOlwiQGJ1aWxkZXIuaW8vc2RrOkVsZW1lbnRcIixyZXNwb25zaXZlU3R5bGVzOntsYXJnZTp7bWFyZ2luVG9wOlwiMTBweFwifX0sY29tcG9uZW50OntuYW1lOlwiVGV4dFwiLG9wdGlvbnM6e3RleHQ6XCI8c3Bhbj5FbnRlciB5b3VyIG5hbWU8L3NwYW4+XCJ9fX0se1wiQHR5cGVcIjpcIkBidWlsZGVyLmlvL3NkazpFbGVtZW50XCIscmVzcG9uc2l2ZVN0eWxlczp7bGFyZ2U6e21hcmdpblRvcDpcIjEwcHhcIn19LGNvbXBvbmVudDp7bmFtZTpcIkZvcm06SW5wdXRcIixvcHRpb25zOntuYW1lOlwibmFtZVwiLHBsYWNlaG9sZGVyOlwiSmFuZSBEb2VcIn19fSx7XCJAdHlwZVwiOlwiQGJ1aWxkZXIuaW8vc2RrOkVsZW1lbnRcIixyZXNwb25zaXZlU3R5bGVzOntsYXJnZTp7bWFyZ2luVG9wOlwiMTBweFwifX0sY29tcG9uZW50OntuYW1lOlwiVGV4dFwiLG9wdGlvbnM6e3RleHQ6XCI8c3Bhbj5FbnRlciB5b3VyIGVtYWlsPC9zcGFuPlwifX19LHtcIkB0eXBlXCI6XCJAYnVpbGRlci5pby9zZGs6RWxlbWVudFwiLHJlc3BvbnNpdmVTdHlsZXM6e2xhcmdlOnttYXJnaW5Ub3A6XCIxMHB4XCJ9fSxjb21wb25lbnQ6e25hbWU6XCJGb3JtOklucHV0XCIsb3B0aW9uczp7bmFtZTpcImVtYWlsXCIscGxhY2Vob2xkZXI6XCJqYW5lQGRvZS5jb21cIn19fSx7XCJAdHlwZVwiOlwiQGJ1aWxkZXIuaW8vc2RrOkVsZW1lbnRcIixyZXNwb25zaXZlU3R5bGVzOntsYXJnZTp7bWFyZ2luVG9wOlwiMTBweFwifX0sY29tcG9uZW50OntuYW1lOlwiRm9ybTpTdWJtaXRCdXR0b25cIixvcHRpb25zOnt0ZXh0OlwiU3VibWl0XCJ9fX1dfSksRm9ybUlucHV0Q29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImlucHV0XCIsX19hc3NpZ24oe2tleTpCdWlsZGVyLmlzRWRpdGluZyYmdGhpcy5wcm9wcy5kZWZhdWx0VmFsdWU/dGhpcy5wcm9wcy5kZWZhdWx0VmFsdWU6XCJkZWZhdWx0LWtleVwiLHBsYWNlaG9sZGVyOnRoaXMucHJvcHMucGxhY2Vob2xkZXIsdHlwZTp0aGlzLnByb3BzLnR5cGUsbmFtZTp0aGlzLnByb3BzLm5hbWV9LHZvaWQgMD09PXRoaXMucHJvcHMudmFsdWU/e2RlZmF1bHRWYWx1ZTp0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZX06e3ZhbHVlOnRoaXMucHJvcHMudmFsdWV9LHtyZXF1aXJlZDp0aGlzLnByb3BzLnJlcXVpcmVkfSx0aGlzLnByb3BzLmF0dHJpYnV0ZXMpKX0sdH0oUmVhY3RfX2RlZmF1bHQuQ29tcG9uZW50KSxGb3JtSW5wdXQ9d2l0aEJ1aWxkZXIoRm9ybUlucHV0Q29tcG9uZW50LHtuYW1lOlwiRm9ybTpJbnB1dFwiLGltYWdlOlwiaHR0cHM6Ly9jZG4uYnVpbGRlci5pby9hcGkvdjEvaW1hZ2UvYXNzZXRzJTJGSXN4UEtNbzJnUFJSS2Vha1V6dGoxRDZ1cWVkMiUyRmFkNmYzNzg4OWQ5ZTQwYmJiYmM3MmNkYjU4NzVkNmNhXCIsaW5wdXRzOlt7bmFtZTpcInR5cGVcIix0eXBlOlwidGV4dFwiLGVudW06W1widGV4dFwiLFwibnVtYmVyXCIsXCJlbWFpbFwiLFwidXJsXCIsXCJjaGVja2JveFwiLFwicmFkaW9cIixcInJhbmdlXCIsXCJkYXRlXCIsXCJkYXRldGltZS1sb2NhbFwiLFwic2VhcmNoXCIsXCJ0ZWxcIixcInRpbWVcIixcImZpbGVcIixcIm1vbnRoXCIsXCJ3ZWVrXCIsXCJwYXNzd29yZFwiLFwiY29sb3JcIixcImhpZGRlblwiXSxkZWZhdWx0VmFsdWU6XCJ0ZXh0XCJ9LHtuYW1lOlwibmFtZVwiLHR5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMCxoZWxwZXJUZXh0OidFdmVyeSBpbnB1dCBpbiBhIGZvcm0gbmVlZHMgYSB1bmlxdWUgbmFtZSBkZXNjcmliaW5nIHdoYXQgaXQgdGFrZXMsIGUuZy4gXCJlbWFpbFwiJ30se25hbWU6XCJwbGFjZWhvbGRlclwiLHR5cGU6XCJzdHJpbmdcIixkZWZhdWx0VmFsdWU6XCJIZWxsbyB0aGVyZVwiLGhlbHBlclRleHQ6XCJUZXh0IHRvIGRpc3BsYXkgd2hlbiB0aGVyZSBpcyBubyB2YWx1ZVwifSx7bmFtZTpcImRlZmF1bHRWYWx1ZVwiLHR5cGU6XCJzdHJpbmdcIn0se25hbWU6XCJ2YWx1ZVwiLHR5cGU6XCJzdHJpbmdcIixhZHZhbmNlZDohMH0se25hbWU6XCJyZXF1aXJlZFwiLHR5cGU6XCJib29sZWFuXCIsaGVscGVyVGV4dDpcIklzIHRoaXMgaW5wdXQgcmVxdWlyZWQgdG8gYmUgZmlsbGVkIG91dCB0byBzdWJtaXQgYSBmb3JtXCIsZGVmYXVsdFZhbHVlOiExfV0sbm9XcmFwOiEwLHN0YXRpYzohMCxkZWZhdWx0U3R5bGVzOntwYWRkaW5nVG9wOlwiMTBweFwiLHBhZGRpbmdCb3R0b206XCIxMHB4XCIscGFkZGluZ0xlZnQ6XCIxMHB4XCIscGFkZGluZ1JpZ2h0OlwiMTBweFwiLGJvcmRlclJhZGl1czpcIjNweFwiLGJvcmRlcldpZHRoOlwiMXB4XCIsYm9yZGVyU3R5bGU6XCJzb2xpZFwiLGJvcmRlckNvbG9yOlwiI2NjY1wifX0pLEZvcm1TdWJtaXRCdXR0b25Db21wb25lbnQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIF9fZXh0ZW5kcyh0LGUpLHQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsX19hc3NpZ24oe3R5cGU6XCJzdWJtaXRcIn0sdGhpcy5wcm9wcy5hdHRyaWJ1dGVzKSx0aGlzLnByb3BzLnRleHQpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLEZvcm1TdWJtaXRCdXR0b249d2l0aEJ1aWxkZXIoRm9ybVN1Ym1pdEJ1dHRvbkNvbXBvbmVudCx7bmFtZTpcIkZvcm06U3VibWl0QnV0dG9uXCIsaW1hZ2U6XCJodHRwczovL2Nkbi5idWlsZGVyLmlvL2FwaS92MS9pbWFnZS9hc3NldHMlMkZJc3hQS01vMmdQUlJLZWFrVXp0ajFENnVxZWQyJTJGZGYyODIwZmZlZDFmNDM0OWE5NGM0MGIzMjIxZjViOThcIixkZWZhdWx0U3R5bGVzOnthcHBlYXJhbmNlOlwibm9uZVwiLHBhZGRpbmdUb3A6XCIxNXB4XCIscGFkZGluZ0JvdHRvbTpcIjE1cHhcIixwYWRkaW5nTGVmdDpcIjI1cHhcIixwYWRkaW5nUmlnaHQ6XCIyNXB4XCIsYmFja2dyb3VuZENvbG9yOlwiIzM4OThFQ1wiLGNvbG9yOlwid2hpdGVcIixib3JkZXJSYWRpdXM6XCI0cHhcIixjdXJzb3I6XCJwb2ludGVyXCJ9LGlucHV0czpbe25hbWU6XCJ0ZXh0XCIsdHlwZTpcInRleHRcIixkZWZhdWx0VmFsdWU6XCJDbGljayBtZVwifV0sc3RhdGljOiEwLG5vV3JhcDohMH0pLExhYmVsQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBfX2V4dGVuZHModCxlKSx0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsX19hc3NpZ24oe2h0bWxGb3I6dGhpcy5wcm9wcy5mb3J9LHRoaXMucHJvcHMuYXR0cmlidXRlcyksdGhpcy5wcm9wcy50ZXh0JiZSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6XCJidWlsZGVyLWxhYmVsLXRleHRcIixkYW5nZXJvdXNseVNldElubmVySFRNTDp7X19odG1sOnRoaXMucHJvcHMudGV4dH19KSx0aGlzLnByb3BzLmJ1aWxkZXJCbG9jayYmdGhpcy5wcm9wcy5idWlsZGVyQmxvY2suY2hpbGRyZW4mJnRoaXMucHJvcHMuYnVpbGRlckJsb2NrLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlckJsb2NrJDEse2tleTplLmlkLGJsb2NrOmV9KX0pKSl9LHR9KFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCksTGFiZWw9d2l0aEJ1aWxkZXIoTGFiZWxDb21wb25lbnQse25hbWU6XCJGb3JtOkxhYmVsXCIsaW1hZ2U6XCJodHRwczovL2Nkbi5idWlsZGVyLmlvL2FwaS92MS9pbWFnZS9hc3NldHMlMkZJc3hQS01vMmdQUlJLZWFrVXp0ajFENnVxZWQyJTJGOTMyMjM0MmYwNGI1NDVmYjlhODA5MWNkODAxZGZiNWJcIixpbnB1dHM6W3tuYW1lOlwidGV4dFwiLHR5cGU6XCJodG1sXCIscmljaFRleHQ6ITAsZGVmYXVsdFZhbHVlOlwiTGFiZWxcIn0se25hbWU6XCJmb3JcIix0eXBlOlwidGV4dFwiLGhlbHBlclRleHQ6XCJUaGUgbmFtZSBvZiB0aGUgaW5wdXQgdGhpcyBsYWJlbCBpcyBmb3JcIixhZHZhbmNlZDohMH1dLG5vV3JhcDohMCxzdGF0aWM6ITAsY2FuSGF2ZUNoaWxkcmVuOiEwfSksRm9ybVNlbGVjdENvbXBvbmVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcy5vcHRpb25zO3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsX19hc3NpZ24oe3ZhbHVlOnRoaXMucHJvcHMudmFsdWUsa2V5OkJ1aWxkZXIuaXNFZGl0aW5nJiZ0aGlzLnByb3BzLmRlZmF1bHRWYWx1ZT90aGlzLnByb3BzLmRlZmF1bHRWYWx1ZTpcImRlZmF1bHQta2V5XCIsZGVmYXVsdFZhbHVlOnRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLG5hbWU6dGhpcy5wcm9wcy5uYW1lLHJlcXVpcmVkOnRoaXMucHJvcHMucmVxdWlyZWR9LHRoaXMucHJvcHMuYXR0cmlidXRlcyksZSYmZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIse3ZhbHVlOmUudmFsdWV9LGUubmFtZXx8ZS52YWx1ZSl9KSkpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLEZvcm1TZWxlY3Q9d2l0aEJ1aWxkZXIoRm9ybVNlbGVjdENvbXBvbmVudCx7bmFtZTpcIkZvcm06U2VsZWN0XCIsaW1hZ2U6XCJodHRwczovL2Nkbi5idWlsZGVyLmlvL2FwaS92MS9pbWFnZS9hc3NldHMlMkZJc3hQS01vMmdQUlJLZWFrVXp0ajFENnVxZWQyJTJGODNhY2NhMDkzZmIyNGFhZjk0ZGVlMTM2ZTlhNGIwNDVcIixkZWZhdWx0U3R5bGVzOnthbGlnblNlbGY6XCJmbGV4LXN0YXJ0XCJ9LGlucHV0czpbe25hbWU6XCJvcHRpb25zXCIsdHlwZTpcImxpc3RcIixyZXF1aXJlZDohMCxzdWJGaWVsZHM6W3tuYW1lOlwidmFsdWVcIix0eXBlOlwidGV4dFwiLHJlcXVpcmVkOiEwfSx7bmFtZTpcIm5hbWVcIix0eXBlOlwidGV4dFwifV0sZGVmYXVsdFZhbHVlOlt7dmFsdWU6XCJvcHRpb24gMVwifSx7dmFsdWU6XCJvcHRpb24gMlwifV19LHtuYW1lOlwibmFtZVwiLHR5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMCxoZWxwZXJUZXh0OidFdmVyeSBzZWxlY3QgaW4gYSBmb3JtIG5lZWRzIGEgdW5pcXVlIG5hbWUgZGVzY3JpYmluZyB3aGF0IGl0IGdldHMsIGUuZy4gXCJlbWFpbFwiJ30se25hbWU6XCJkZWZhdWx0VmFsdWVcIix0eXBlOlwic3RyaW5nXCJ9LHtuYW1lOlwidmFsdWVcIix0eXBlOlwic3RyaW5nXCIsYWR2YW5jZWQ6ITB9LHtuYW1lOlwicmVxdWlyZWRcIix0eXBlOlwiYm9vbGVhblwiLGRlZmF1bHRWYWx1ZTohMX1dLHN0YXRpYzohMCxub1dyYXA6ITB9KSxUZXh0QXJlYUNvbXBvbmVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLF9fYXNzaWduKHtwbGFjZWhvbGRlcjp0aGlzLnByb3BzLnBsYWNlaG9sZGVyLG5hbWU6dGhpcy5wcm9wcy5uYW1lLHZhbHVlOnRoaXMucHJvcHMudmFsdWUsZGVmYXVsdFZhbHVlOnRoaXMucHJvcHMuZGVmYXVsdFZhbHVlLHJlcXVpcmVkOnRoaXMucHJvcHMucmVxdWlyZWR9LHRoaXMucHJvcHMuYXR0cmlidXRlcykpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLFRleHRBcmVhPXdpdGhCdWlsZGVyKFRleHRBcmVhQ29tcG9uZW50LHtuYW1lOlwiRm9ybTpUZXh0QXJlYVwiLGltYWdlOlwiaHR0cHM6Ly9jZG4uYnVpbGRlci5pby9hcGkvdjEvaW1hZ2UvYXNzZXRzJTJGSXN4UEtNbzJnUFJSS2Vha1V6dGoxRDZ1cWVkMiUyRmY3NGEyZjNkZTU4YzRjM2U5MzkyMDRlNWI2YjhmNmMzXCIsaW5wdXRzOlt7YWR2YW5jZWQ6ITAsbmFtZTpcInZhbHVlXCIsdHlwZTpcInN0cmluZ1wifSx7bmFtZTpcIm5hbWVcIix0eXBlOlwic3RyaW5nXCIscmVxdWlyZWQ6ITAsaGVscGVyVGV4dDonRXZlcnkgaW5wdXQgaW4gYSBmb3JtIG5lZWRzIGEgdW5pcXVlIG5hbWUgZGVzY3JpYmluZyB3aGF0IGl0IGdldHMsIGUuZy4gXCJlbWFpbFwiJ30se25hbWU6XCJkZWZhdWx0VmFsdWVcIix0eXBlOlwic3RyaW5nXCJ9LHtuYW1lOlwicGxhY2Vob2xkZXJcIix0eXBlOlwic3RyaW5nXCIsZGVmYXVsdFZhbHVlOlwiSGVsbG8gdGhlcmVcIn0se25hbWU6XCJyZXF1aXJlZFwiLHR5cGU6XCJib29sZWFuXCIsZGVmYXVsdFZhbHVlOiExfV0sZGVmYXVsdFN0eWxlczp7cGFkZGluZ1RvcDpcIjEwcHhcIixwYWRkaW5nQm90dG9tOlwiMTBweFwiLHBhZGRpbmdMZWZ0OlwiMTBweFwiLHBhZGRpbmdSaWdodDpcIjEwcHhcIixib3JkZXJSYWRpdXM6XCIzcHhcIixib3JkZXJXaWR0aDpcIjFweFwiLGJvcmRlclN0eWxlOlwic29saWRcIixib3JkZXJDb2xvcjpcIiNjY2NcIn0sc3RhdGljOiEwLG5vV3JhcDohMH0pLEltZ0NvbXBvbmVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gX19leHRlbmRzKHQsZSksdC5wcm90b3R5cGUuZ2V0U3JjU2V0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcy5pbWFnZTtpZihlJiZcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5tYXRjaCgvYnVpbGRlclxcLmlvLykpcmV0dXJuIGdldFNyY1NldChlKX0sdC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcy5hdHRyaWJ1dGVzfHx7fSx0PXRoaXMuZ2V0U3JjU2V0KCksbj1lLnN0eWxlLGk9X19yZXN0KGUsW1wic3R5bGVcIl0pLHI9e29iamVjdEZpdDp0aGlzLnByb3BzLmJhY2tncm91bmRTaXplLG9iamVjdFBvc2l0aW9uOnRoaXMucHJvcHMuYmFja2dyb3VuZFBvc2l0aW9uLGFzcGVjdFJhdGlvOnRoaXMucHJvcHMuYXNwZWN0UmF0aW99LG89X19hc3NpZ24oX19hc3NpZ24oe30sciksbik7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIixfX2Fzc2lnbih7bG9hZGluZzpcImxhenlcIn0saSx7c3JjOnRoaXMucHJvcHMuaW1hZ2V8fGUuc3JjLHNyY1NldDp0LGFsdDp0aGlzLnByb3BzLmFsdFRleHQsdGl0bGU6dGhpcy5wcm9wcy50aXRsZSxzdHlsZTpvLGNsYXNzTmFtZTpcImJ1aWxkZXItcmF3LWltZ1wifSkpfSx0fShSZWFjdF9fZGVmYXVsdC5Db21wb25lbnQpLEltZz13aXRoQnVpbGRlcihJbWdDb21wb25lbnQse25hbWU6XCJSYXc6SW1nXCIsaGlkZUZyb21JbnNlcnRNZW51OiEwLGltYWdlOlwiaHR0cHM6Ly9maXJlYmFzZXN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vdjAvYi9idWlsZGVyLTNiMGEyLmFwcHNwb3QuY29tL28vaW1hZ2VzJTJGYmFzZWxpbmUtaW5zZXJ0X3Bob3RvLTI0cHguc3ZnP2FsdD1tZWRpYSZ0b2tlbj00ZTVkMGVmNC1mNWU4LTRlNTctYjNhOS0zOGQ2M2E5YjlkYzRcIixpbnB1dHM6W3tuYW1lOlwiaW1hZ2VcIixidWJibGU6ITAsdHlwZTpcImZpbGVcIixhbGxvd2VkRmlsZVR5cGVzOklNQUdFX0ZJTEVfVFlQRVMscmVxdWlyZWQ6ITB9LHtuYW1lOlwiYmFja2dyb3VuZFNpemVcIix0eXBlOlwidGV4dFwiLGRlZmF1bHRWYWx1ZTpcImNvdmVyXCIsZW51bTpbe2xhYmVsOlwiY29udGFpblwiLHZhbHVlOlwiY29udGFpblwiLGhlbHBlclRleHQ6XCJUaGUgaW1hZ2Ugc2hvdWxkIG5ldmVyIGdldCBjcm9wcGVkXCJ9LHtsYWJlbDpcImNvdmVyXCIsdmFsdWU6XCJjb3ZlclwiLGhlbHBlclRleHQ6XCJUaGUgaW1hZ2Ugc2hvdWxkIGZpbGwgaXQncyBib3gsIGNyb3BwaW5nIHdoZW4gbmVlZGVkXCJ9XX0se25hbWU6XCJiYWNrZ3JvdW5kUG9zaXRpb25cIix0eXBlOlwidGV4dFwiLGRlZmF1bHRWYWx1ZTpcImNlbnRlclwiLGVudW06W1wiY2VudGVyXCIsXCJ0b3BcIixcImxlZnRcIixcInJpZ2h0XCIsXCJib3R0b21cIixcInRvcCBsZWZ0XCIsXCJ0b3AgcmlnaHRcIixcImJvdHRvbSBsZWZ0XCIsXCJib3R0b20gcmlnaHRcIl19LHtuYW1lOlwiYWx0VGV4dFwiLHR5cGU6XCJzdHJpbmdcIixoZWxwZXJUZXh0OlwiVGV4dCB0byBkaXNwbGF5IHdoZW4gdGhlIHVzZXIgaGFzIGltYWdlcyBvZmZcIn0se25hbWU6XCJ0aXRsZVwiLHR5cGU6XCJzdHJpbmdcIixoZWxwZXJUZXh0OlwiVGV4dCB0byBkaXNwbGF5IHdoZW4gaG92ZXJpbmcgb3ZlciB0aGUgYXNzZXRcIn0se25hbWU6XCJhc3BlY3RSYXRpb1wiLHR5cGU6XCJudW1iZXJcIixoZWxwZXJUZXh0OlwiVGhpcyBpcyB0aGUgcmF0aW8gb2YgaGVpZ2h0L3dpZHRoLCBlLmcuIHNldCB0byAxLjUgZm9yIGEgMzAwcHggd2lkZSBhbmQgMjAwcHggdGFsbCBwaG90by4gU2V0IHRvIDAgdG8gbm90IGZvcmNlIHRoZSBpbWFnZSB0byBtYWludGFpbiBpdCdzIGFzcGVjdCByYXRpb1wiLGFkdmFuY2VkOiEwLGRlZmF1bHRWYWx1ZTouNzA0MX1dLG5vV3JhcDohMH0pLFJhd1RleHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hdHRyaWJ1dGVzfHx7fTtyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOihudWxsPT10P3ZvaWQgMDp0LmNsYXNzKXx8KG51bGw9PXQ/dm9pZCAwOnQuY2xhc3NOYW1lKSxkYW5nZXJvdXNseVNldElubmVySFRNTDp7X19odG1sOmUudGV4dHx8XCJcIn19KX07QnVpbGRlci5yZWdpc3RlckNvbXBvbmVudChSYXdUZXh0LHtuYW1lOlwiQnVpbGRlcjpSYXdUZXh0XCIsaGlkZUZyb21JbnNlcnRNZW51OiEwLGlucHV0czpbe25hbWU6XCJ0ZXh0XCIsYnViYmxlOiEwLHR5cGU6XCJsb25nVGV4dFwiLHJlcXVpcmVkOiEwfV19KTt2YXIgZmlsdGVyV2l0aEN1c3RvbVRhcmdldGluZ1NjcmlwdD0nZnVuY3Rpb24gZmlsdGVyV2l0aEN1c3RvbVRhcmdldGluZyhlLHQsbixyKXt2YXIgaT17cXVlcnk6dCxzdGFydERhdGU6bixlbmREYXRlOnJ9LG89ZS5kYXRlJiZuZXcgRGF0ZShlLmRhdGUpfHxuZXcgRGF0ZTtyZXR1cm4hKGkuc3RhcnREYXRlJiZuZXcgRGF0ZShpLnN0YXJ0RGF0ZSk+bykmJighKGkuZW5kRGF0ZSYmbmV3IERhdGUoaS5lbmREYXRlKTxvKSYmKCFpLnF1ZXJ5fHwhaS5xdWVyeS5sZW5ndGh8fGkucXVlcnkuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBvYmplY3RNYXRjaGVzUXVlcnkoZSx0KX0pKSkpfWZ1bmN0aW9uIGlzU3RyaW5nKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIGlzTnVtYmVyKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIG9iamVjdE1hdGNoZXNRdWVyeShlLHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPXQucHJvcGVydHkscj10Lm9wZXJhdG9yLGk9dC52YWx1ZTtpZih0JiZcInVybFBhdGhcIj09PXQucHJvcGVydHkmJnQudmFsdWUmJlwic3RyaW5nXCI9PXR5cGVvZiB0LnZhbHVlJiZcIi9cIiE9PXQudmFsdWUmJnQudmFsdWUuZW5kc1dpdGgoXCIvXCIpJiYoaT10LnZhbHVlLnNsaWNlKDAsLTEpKSwhbnx8IXIpcmV0dXJuITA7aWYoQXJyYXkuaXNBcnJheShpKSlyZXR1cm5cImlzTm90XCI9PT1yP2kuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBvYmplY3RNYXRjaGVzUXVlcnkoZSx7cHJvcGVydHk6bixvcGVyYXRvcjpyLHZhbHVlOnR9KX0pKTohIWkuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIG9iamVjdE1hdGNoZXNRdWVyeShlLHtwcm9wZXJ0eTpuLG9wZXJhdG9yOnIsdmFsdWU6dH0pfSkpO3ZhciBvPWVbbl07aWYoQXJyYXkuaXNBcnJheShvKSlyZXR1cm4gby5pbmNsdWRlcyhpKTtzd2l0Y2gocil7Y2FzZVwiaXNcIjpyZXR1cm4gbz09PWk7Y2FzZVwiaXNOb3RcIjpyZXR1cm4gbyE9PWk7Y2FzZVwiY29udGFpbnNcIjpyZXR1cm4oaXNTdHJpbmcobyl8fEFycmF5LmlzQXJyYXkobykpJiZvLmluY2x1ZGVzKFN0cmluZyhpKSk7Y2FzZVwic3RhcnRzV2l0aFwiOnJldHVybiBpc1N0cmluZyhvKSYmby5zdGFydHNXaXRoKFN0cmluZyhpKSk7Y2FzZVwiZW5kc1dpdGhcIjpyZXR1cm4gaXNTdHJpbmcobykmJm8uZW5kc1dpdGgoU3RyaW5nKGkpKTtjYXNlXCJncmVhdGVyVGhhblwiOnJldHVybiBpc051bWJlcihvKSYmaXNOdW1iZXIoaSkmJm8+aTtjYXNlXCJsZXNzVGhhblwiOnJldHVybiBpc051bWJlcihvKSYmaXNOdW1iZXIoaSkmJm88aTtjYXNlXCJncmVhdGVyVGhhbk9yRXF1YWxUb1wiOnJldHVybiBpc051bWJlcihvKSYmaXNOdW1iZXIoaSkmJm8+PWk7Y2FzZVwibGVzc1RoYW5PckVxdWFsVG9cIjpyZXR1cm4gaXNOdW1iZXIobykmJmlzTnVtYmVyKGkpJiZvPD1pfXJldHVybiExfSgpfSc7ZnVuY3Rpb24gZmlsdGVyV2l0aEN1c3RvbVRhcmdldGluZyhlLHQsbixpKXt2YXIgcj17cXVlcnk6dCxzdGFydERhdGU6bixlbmREYXRlOml9LG89ZS5kYXRlJiZuZXcgRGF0ZShlLmRhdGUpfHxuZXcgRGF0ZTtyZXR1cm4hKHIuc3RhcnREYXRlJiZuZXcgRGF0ZShyLnN0YXJ0RGF0ZSk+bykmJighKHIuZW5kRGF0ZSYmbmV3IERhdGUoci5lbmREYXRlKTxvKSYmKCFyLnF1ZXJ5fHwhci5xdWVyeS5sZW5ndGh8fHIucXVlcnkuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBvYmplY3RNYXRjaGVzUXVlcnkoZSx0KX0pKSkpfWZ1bmN0aW9uIGlzU3RyaW5nKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIGlzTnVtYmVyKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIG9iamVjdE1hdGNoZXNRdWVyeShlLHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPXQucHJvcGVydHksaT10Lm9wZXJhdG9yLHI9dC52YWx1ZTtpZih0JiZcInVybFBhdGhcIj09PXQucHJvcGVydHkmJnQudmFsdWUmJlwic3RyaW5nXCI9PXR5cGVvZiB0LnZhbHVlJiZcIi9cIiE9PXQudmFsdWUmJnQudmFsdWUuZW5kc1dpdGgoXCIvXCIpJiYocj10LnZhbHVlLnNsaWNlKDAsLTEpKSwhbnx8IWkpcmV0dXJuITA7aWYoQXJyYXkuaXNBcnJheShyKSlyZXR1cm5cImlzTm90XCI9PT1pP3IuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBvYmplY3RNYXRjaGVzUXVlcnkoZSx7cHJvcGVydHk6bixvcGVyYXRvcjppLHZhbHVlOnR9KX0pKTohIXIuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIG9iamVjdE1hdGNoZXNRdWVyeShlLHtwcm9wZXJ0eTpuLG9wZXJhdG9yOmksdmFsdWU6dH0pfSkpO3ZhciBvPWVbbl07aWYoQXJyYXkuaXNBcnJheShvKSlyZXR1cm4gby5pbmNsdWRlcyhyKTtzd2l0Y2goaSl7Y2FzZVwiaXNcIjpyZXR1cm4gbz09PXI7Y2FzZVwiaXNOb3RcIjpyZXR1cm4gbyE9PXI7Y2FzZVwiY29udGFpbnNcIjpyZXR1cm4oaXNTdHJpbmcobyl8fEFycmF5LmlzQXJyYXkobykpJiZvLmluY2x1ZGVzKFN0cmluZyhyKSk7Y2FzZVwic3RhcnRzV2l0aFwiOnJldHVybiBpc1N0cmluZyhvKSYmby5zdGFydHNXaXRoKFN0cmluZyhyKSk7Y2FzZVwiZW5kc1dpdGhcIjpyZXR1cm4gaXNTdHJpbmcobykmJm8uZW5kc1dpdGgoU3RyaW5nKHIpKTtjYXNlXCJncmVhdGVyVGhhblwiOnJldHVybiBpc051bWJlcihvKSYmaXNOdW1iZXIocikmJm8+cjtjYXNlXCJsZXNzVGhhblwiOnJldHVybiBpc051bWJlcihvKSYmaXNOdW1iZXIocikmJm88cjtjYXNlXCJncmVhdGVyVGhhbk9yRXF1YWxUb1wiOnJldHVybiBpc051bWJlcihvKSYmaXNOdW1iZXIocikmJm8+PXI7Y2FzZVwibGVzc1RoYW5PckVxdWFsVG9cIjpyZXR1cm4gaXNOdW1iZXIobykmJmlzTnVtYmVyKHIpJiZvPD1yfXJldHVybiExfSgpfWZ1bmN0aW9uIFBlcnNvbmFsaXphdGlvbkNvbnRhaW5lcihlKXt2YXIgdCxuLGkscixvLGEscyxsLHUsZCxjLHAsZixtLGgsdixnLGIseSxfLHgsUz1Cb29sZWFuKEJ1aWxkZXIuaXNCcm93c2VyJiYobnVsbD09PSh0PXdpbmRvdy5fX2h5ZHJhdGVkKXx8dm9pZCAwPT09dD92b2lkIDA6dFtudWxsPT09KG49ZS5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmlkXSkpLGs9dXNlUmVmKG51bGwpLEI9dXNlU3RhdGUoUyksdz1CWzBdLEM9QlsxXSxFPXVzZVN0YXRlKCExKSxSPUVbMF0sVD1FWzFdLEk9dXNlU3RhdGUoMCk7SVswXTt2YXIgaj1JWzFdLE89dXNlQ29udGV4dChCdWlsZGVyU3RvcmVDb250ZXh0KTtpZih1c2VFZmZlY3QoKGZ1bmN0aW9uKCl7dmFyIGU7QyghMCksVCghMCk7dmFyIHQ9YnVpbGRlci51c2VyQXR0cmlidXRlc0NoYW5nZWQuc3Vic2NyaWJlKChmdW5jdGlvbigpe2ooKGZ1bmN0aW9uKGUpe3JldHVybiBlKzF9KSl9KSksbj1bZnVuY3Rpb24oKXtyZXR1cm4gdC51bnN1YnNjcmliZSgpfV07aWYoIUJ1aWxkZXIuaXNFZGl0aW5nJiYhQnVpbGRlci5pc1ByZXZpZXdpbmcpe3ZhciBpPVBbMF07bnVsbD09PShlPWsuY3VycmVudCl8fHZvaWQgMD09PWV8fGUuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJidWlsZGVyLnZhcmlhbnRMb2FkZWRcIix7ZGV0YWlsOnt2YXJpYW50Oml8fFwiZGVmYXVsdFwiLGNvbnRlbnQ6Ty5jb250ZW50fSxidWJibGVzOiEwfSkpO3ZhciByPW5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDtlLmlzSW50ZXJzZWN0aW5nJiYobnVsbD09PSh0PWsuY3VycmVudCl8fHZvaWQgMD09PXR8fHQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJidWlsZGVyLnZhcmlhbnREaXNwbGF5ZWRcIix7ZGV0YWlsOnt2YXJpYW50Oml8fFwiZGVmYXVsdFwiLGNvbnRlbnQ6Ty5jb250ZW50fSxidWJibGVzOiEwfSkpKX0pKX0pKTtyLm9ic2VydmUoay5jdXJyZW50KSxuLnB1c2goKGZ1bmN0aW9uKCl7cmV0dXJuIHIuZGlzY29ubmVjdCgpfSkpfXJldHVybiBmdW5jdGlvbigpe24uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pKX19KSxbXSksQnVpbGRlci5pc1NlcnZlcilyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCxudWxsLFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixfX2Fzc2lnbih7fSxlLmF0dHJpYnV0ZXMse3N0eWxlOl9fYXNzaWduKHtvcGFjaXR5OjEsdHJhbnNpdGlvbjpcIm9wYWNpdHkgMC4ycyBlYXNlLWluLW91dFwifSxudWxsPT09KGk9ZS5hdHRyaWJ1dGVzKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zdHlsZSksY2xhc3NOYW1lOlwiYnVpbGRlci1wZXJzb25hbGl6YXRpb24tY29udGFpbmVyIFwiLmNvbmNhdChlLmF0dHJpYnV0ZXMuY2xhc3NOYW1lKX0pLG51bGw9PT0ocj1lLnZhcmlhbnRzKXx8dm9pZCAwPT09cj92b2lkIDA6ci5tYXAoKGZ1bmN0aW9uKHQsbil7dmFyIGkscjtyZXR1cm4gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIse2tleTpuLFwiZGF0YS12YXJpYW50LWlkXCI6KG51bGw9PT0oaT1lLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQpK259LFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlckJsb2Nrcyx7YmxvY2tzOnQuYmxvY2tzLHBhcmVudEVsZW1lbnRJZDpudWxsPT09KHI9ZS5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmlkLGRhdGFQYXRoOlwiY29tcG9uZW50Lm9wdGlvbnMudmFyaWFudHMuXCIuY29uY2F0KG4sXCIuYmxvY2tzXCIpLGNoaWxkOiEwfSkpfSkpLFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIix7bm9uY2U6Ty5jb250ZXh0Lm5vbmNlLGlkOlwidmFyaWFudHMtc2NyaXB0LVwiLmNvbmNhdChudWxsPT09KG89ZS5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmlkKSxkYW5nZXJvdXNseVNldElubmVySFRNTDp7X19odG1sOmdldFBlcnNvbmFsaXphdGlvblNjcmlwdChlLnZhcmlhbnRzLChudWxsPT09KGE9ZS5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmlkKXx8XCJub25lXCIsbnVsbD09PShzPWUuYnVpbGRlclN0YXRlLnN0YXRlKXx8dm9pZCAwPT09cz92b2lkIDA6cy5sb2NhbGUpfX0pLFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlckJsb2Nrcyx7YmxvY2tzOm51bGw9PT0obD1lLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PWw/dm9pZCAwOmwuY2hpbGRyZW4scGFyZW50RWxlbWVudElkOm51bGw9PT0odT1lLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PXU/dm9pZCAwOnUuaWQsZGF0YVBhdGg6XCJ0aGlzLmNoaWxkcmVuXCIsY2hpbGQ6ITB9KSksUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiLHtub25jZTpPLmNvbnRleHQubm9uY2UsZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6e19faHRtbDpcIlxcbiAgICAgICAgIHdpbmRvdy5fX2h5ZHJhdGVkID0gd2luZG93Ll9faHlkcmF0ZWQgfHwge307XFxuICAgICAgICAgd2luZG93Ll9faHlkcmF0ZWRbJ1wiLmNvbmNhdChudWxsPT09KGQ9ZS5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1kP3ZvaWQgMDpkLmlkLFwiJ10gPSB0cnVlO1xcbiAgICAgICAgXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIil9fSkpO3ZhciBQPShlLnZhcmlhbnRzfHxbXSkuZmlsdGVyKChmdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gZmlsdGVyV2l0aEN1c3RvbVRhcmdldGluZyhfX2Fzc2lnbihfX2Fzc2lnbih7fSwobnVsbD09PShuPWUuYnVpbGRlclN0YXRlLnN0YXRlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5sb2NhbGUpP3tsb2NhbGU6ZS5idWlsZGVyU3RhdGUuc3RhdGUubG9jYWxlfTp7fSksYnVpbGRlci5nZXRVc2VyQXR0cmlidXRlcygpKSx0LnF1ZXJ5LHQuc3RhcnREYXRlLHQuZW5kRGF0ZSl9KSk7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsbnVsbCxSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsX19hc3NpZ24oe3JlZjprfSxlLmF0dHJpYnV0ZXMse3N0eWxlOl9fYXNzaWduKHtvcGFjaXR5Onc/MTowLHRyYW5zaXRpb246XCJvcGFjaXR5IDAuMnMgZWFzZS1pbi1vdXRcIn0sbnVsbD09PShjPWUuYXR0cmlidXRlcyl8fHZvaWQgMD09PWM/dm9pZCAwOmMuc3R5bGUpLGNsYXNzTmFtZTpcImJ1aWxkZXItcGVyc29uYWxpemF0aW9uLWNvbnRhaW5lciBcIi5jb25jYXQoZS5hdHRyaWJ1dGVzLmNsYXNzTmFtZSkuY29uY2F0KHc/XCJcIjpcIiBidWlsZGVyLXBlcnNvbmFsaXphdGlvbi1jb250YWluZXItbG9hZGluZ1wiKX0pLFImJkJ1aWxkZXIuaXNFZGl0aW5nJiZcIm51bWJlclwiPT10eXBlb2YgZS5wcmV2aWV3aW5nSW5kZXgmJmUucHJldmlld2luZ0luZGV4PCgobnVsbD09PShwPWUudmFyaWFudHMpfHx2b2lkIDA9PT1wP3ZvaWQgMDpwLmxlbmd0aCl8fDApP1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnVpbGRlckJsb2Nrcyx7YmxvY2tzOm51bGw9PT0obT1udWxsPT09KGY9ZS52YXJpYW50cyl8fHZvaWQgMD09PWY/dm9pZCAwOmZbZS5wcmV2aWV3aW5nSW5kZXhdKXx8dm9pZCAwPT09bT92b2lkIDA6bS5ibG9ja3MscGFyZW50RWxlbWVudElkOm51bGw9PT0oaD1lLmJ1aWxkZXJCbG9jayl8fHZvaWQgMD09PWg/dm9pZCAwOmguaWQsZGF0YVBhdGg6XCJjb21wb25lbnQub3B0aW9ucy52YXJpYW50cy5cIi5jb25jYXQoZS5wcmV2aWV3aW5nSW5kZXgsXCIuYmxvY2tzXCIpLGNoaWxkOiEwfSk6UiYmQnVpbGRlci5pc0VkaXRpbmcmJlwibnVtYmVyXCIhPXR5cGVvZiBlLnByZXZpZXdpbmdJbmRleHx8IXd8fCFQLmxlbmd0aD9SZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1aWxkZXJCbG9ja3Mse2Jsb2NrczpudWxsPT09KHY9ZS5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT12P3ZvaWQgMDp2LmNoaWxkcmVuLHBhcmVudEVsZW1lbnRJZDpudWxsPT09KGc9ZS5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT1nP3ZvaWQgMDpnLmlkLGRhdGFQYXRoOlwidGhpcy5jaGlsZHJlblwiLGNoaWxkOiEwfSk6UmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdWlsZGVyQmxvY2tzLHtibG9ja3M6bnVsbD09PShiPVBbMF0pfHx2b2lkIDA9PT1iP3ZvaWQgMDpiLmJsb2NrcyxwYXJlbnRFbGVtZW50SWQ6bnVsbD09PSh5PWUuYnVpbGRlckJsb2NrKXx8dm9pZCAwPT09eT92b2lkIDA6eS5pZCxkYXRhUGF0aDpcImNvbXBvbmVudC5vcHRpb25zLnZhcmlhbnRzLlwiLmNvbmNhdChudWxsPT09KF89ZS52YXJpYW50cyl8fHZvaWQgMD09PV8/dm9pZCAwOl8uaW5kZXhPZihQWzBdKSxcIi5ibG9ja3NcIiksY2hpbGQ6ITB9KSksUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiLHtub25jZTpPLmNvbnRleHQubm9uY2UsZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6e19faHRtbDpcIlxcbiAgICAgICAgIHdpbmRvdy5fX2h5ZHJhdGVkID0gd2luZG93Ll9faHlkcmF0ZWQgfHwge307XFxuICAgICAgICAgd2luZG93Ll9faHlkcmF0ZWRbJ1wiLmNvbmNhdChudWxsPT09KHg9ZS5idWlsZGVyQmxvY2spfHx2b2lkIDA9PT14P3ZvaWQgMDp4LmlkLFwiJ10gPSB0cnVlO1xcbiAgICAgICAgXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIil9fSkpfWZ1bmN0aW9uIGdldFBlcnNvbmFsaXphdGlvblNjcmlwdChlLHQsbil7cmV0dXJuXCJcXG4gICAgICAoZnVuY3Rpb24oKSB7XFxuICAgICAgICBmdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xcbiAgICAgICAgICB2YXIgbmFtZUVRID0gbmFtZSArIFxcXCI9XFxcIjtcXG4gICAgICAgICAgdmFyIGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XFxuICAgICAgICAgIGZvcih2YXIgaT0wO2kgPCBjYS5sZW5ndGg7aSsrKSB7XFxuICAgICAgICAgICAgICB2YXIgYyA9IGNhW2ldO1xcbiAgICAgICAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApPT0nICcpIGMgPSBjLnN1YnN0cmluZygxLGMubGVuZ3RoKTtcXG4gICAgICAgICAgICAgIGlmIChjLmluZGV4T2YobmFtZUVRKSA9PSAwKSByZXR1cm4gYy5zdWJzdHJpbmcobmFtZUVRLmxlbmd0aCxjLmxlbmd0aCk7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgcmV0dXJuIG51bGw7XFxuICAgICAgICB9XFxuICAgICAgICBmdW5jdGlvbiByZW1vdmVWYXJpYW50cygpIHtcXG4gICAgICAgICAgdmFyaWFudHMuZm9yRWFjaChmdW5jdGlvbiAodGVtcGxhdGUsIGluZGV4KSB7XFxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndGVtcGxhdGVbZGF0YS12YXJpYW50LWlkPVxcXCInICsgXFxcIlwiLmNvbmNhdCh0LFwiXFxcIiArIGluZGV4ICsgJ1xcXCJdJykucmVtb3ZlKCk7XFxuICAgICAgICAgIH0pO1xcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFyaWFudHMtc2NyaXB0LVwiKS5jb25jYXQodCxcIicpLnJlbW92ZSgpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBKU09OLnBhcnNlKGdldENvb2tpZShcXFwiXCIpLmNvbmNhdChCdWlsZGVyLmF0dHJpYnV0ZXNDb29raWVOYW1lLCdcIikgfHwgXCJ7fVwiKTtcXG4gICAgICAgICcpLmNvbmNhdChuPydhdHRyaWJ1dGVzLmxvY2FsZSA9IFwiJy5jb25jYXQobiwnXCI7Jyk6XCJcIixcIlxcbiAgICAgICAgdmFyIHZhcmlhbnRzID0gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShudWxsPT1lP3ZvaWQgMDplLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3F1ZXJ5OmUucXVlcnksc3RhcnREYXRlOmUuc3RhcnREYXRlLGVuZERhdGU6ZS5lbmREYXRlfX0pKSksXCI7XFxuICAgICAgICB2YXIgd2lubmluZ1ZhcmlhbnRJbmRleCA9IHZhcmlhbnRzLmZpbmRJbmRleChmdW5jdGlvbih2YXJpYW50KSB7XFxuICAgICAgICAgIHJldHVybiBmaWx0ZXJXaXRoQ3VzdG9tVGFyZ2V0aW5nKFxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMsXFxuICAgICAgICAgICAgdmFyaWFudC5xdWVyeSxcXG4gICAgICAgICAgICB2YXJpYW50LnN0YXJ0RGF0ZSxcXG4gICAgICAgICAgICB2YXJpYW50LmVuZERhdGVcXG4gICAgICAgICAgKTtcXG4gICAgICAgIH0pO1xcbiAgICAgICAgdmFyIGlzRGVidWcgPSBsb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdidWlsZGVyLmRlYnVnPXRydWUnKTtcXG4gICAgICAgIGlmIChpc0RlYnVnKSB7XFxuICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1BlcnNvbmFsaXphdGlvbkNvbnRhaW5lcicsIHtcXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLFxcbiAgICAgICAgICAgIHZhcmlhbnRzOiB2YXJpYW50cyxcXG4gICAgICAgICAgICB3aW5uaW5nVmFyaWFudEluZGV4OiB3aW5uaW5nVmFyaWFudEluZGV4LFxcbiAgICAgICAgICAgIH0pO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKHdpbm5pbmdWYXJpYW50SW5kZXggIT09IC0xKSB7XFxuICAgICAgICAgIHZhciB3aW5uaW5nVmFyaWFudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlW2RhdGEtdmFyaWFudC1pZD1cXFwiJyArIFxcXCJcIikuY29uY2F0KHQsXCJcXFwiICsgd2lubmluZ1ZhcmlhbnRJbmRleCArICdcXFwiXScpO1xcbiAgICAgICAgICBpZiAod2lubmluZ1ZhcmlhbnQpIHtcXG4gICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IHdpbm5pbmdWYXJpYW50LnBhcmVudE5vZGU7XFxuICAgICAgICAgICAgdmFyIG5ld1BhcmVudCA9IHBhcmVudE5vZGUuY2xvbmVOb2RlKGZhbHNlKTtcXG4gICAgICAgICAgICBuZXdQYXJlbnQuYXBwZW5kQ2hpbGQod2lubmluZ1ZhcmlhbnQuY29udGVudC5maXJzdENoaWxkKTtcXG4gICAgICAgICAgICBwYXJlbnROb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld1BhcmVudCwgcGFyZW50Tm9kZSk7XFxuICAgICAgICAgICAgaWYgKGlzRGVidWcpIHtcXG4gICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1BlcnNvbmFsaXphdGlvbkNvbnRhaW5lcicsICdXaW5uaW5nIHZhcmlhbnQgUmVwbGFjZWQ6Jywgd2lubmluZ1ZhcmlhbnQpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgfSBlbHNlIGlmICh2YXJpYW50cy5sZW5ndGggPiAwKSB7XFxuICAgICAgICAgIHJlbW92ZVZhcmlhbnRzKCk7XFxuICAgICAgICB9XFxuICAgICAgICBcIikuY29uY2F0KGZpbHRlcldpdGhDdXN0b21UYXJnZXRpbmdTY3JpcHQsXCJcXG4gICAgICB9KSgpO1xcbiAgICBcIikucmVwbGFjZSgvXFxzKy9nLFwiIFwiKX1mdW5jdGlvbiB1c2VJc1ByZXZpZXdpbmcoKXt2YXIgZT11c2VTdGF0ZSghMSksdD1lWzBdLG49ZVsxXTtyZXR1cm4gdXNlRWZmZWN0KChmdW5jdGlvbigpeyhCdWlsZGVyLmlzRWRpdGluZ3x8QnVpbGRlci5pc1ByZXZpZXdpbmcpJiZuKCEwKX0pLFtdKSx0fUJ1aWxkZXIucmVnaXN0ZXJDb21wb25lbnQoUGVyc29uYWxpemF0aW9uQ29udGFpbmVyLHtuYW1lOlwiUGVyc29uYWxpemF0aW9uQ29udGFpbmVyXCIsbm9XcmFwOiEwLGZyaWVuZGx5TmFtZTpcIkR5bmFtaWMgQ29udGFpbmVyXCIsaW1hZ2U6XCJodHRwczovL2Nkbi5idWlsZGVyLmlvL2FwaS92MS9pbWFnZS9hc3NldHMlMkZZSklHYjRpMDFqdncwU1JkTDVCdCUyRjM3MjI5ZWQzMGQ4YzQxZGZiMTBiOGNjYTE5OTIwNTNhXCIsY2FuSGF2ZUNoaWxkcmVuOiEwLGlucHV0czpbe25hbWU6XCJ2YXJpYW50c1wiLGRlZmF1bHRWYWx1ZTpbXSxiZWhhdmlvcjpcInBlcnNvbmFsaXphdGlvblZhcmlhbnRMaXN0XCIsdHlwZTpcImxpc3RcIixzdWJGaWVsZHM6W3tuYW1lOlwibmFtZVwiLHR5cGU6XCJ0ZXh0XCIsbG9jYWxpemVkOiExfSx7bmFtZTpcInF1ZXJ5XCIsZnJpZW5kbHlOYW1lOlwiVGFyZ2V0aW5nIHJ1bGVzXCIsdHlwZTpcIkJ1aWxkZXJRdWVyeVwiLGRlZmF1bHRWYWx1ZTpbXSxsb2NhbGl6ZWQ6ITF9LHtuYW1lOlwic3RhcnREYXRlXCIsdHlwZTpcImRhdGVcIixsb2NhbGl6ZWQ6ITF9LHtuYW1lOlwiZW5kRGF0ZVwiLHR5cGU6XCJkYXRlXCIsbG9jYWxpemVkOiExfSx7bmFtZTpcImJsb2Nrc1wiLHR5cGU6XCJVaUJsb2Nrc1wiLGhpZGVGcm9tVUk6ITAsZGVmYXVsdFZhbHVlOltdfV19XX0pLEJ1aWxkZXIuaXNSZWFjdD0hMCxCdWlsZGVyLnNka0luZm89e25hbWU6XCJyZWFjdFwiLHZlcnNpb246U0RLX1ZFUlNJT059O2V4cG9ydHtCdWlsZGVyQXN5bmNSZXF1ZXN0c0NvbnRleHQsQnVpbGRlckJsb2NrLEJ1aWxkZXJCbG9jayQxIGFzIEJ1aWxkZXJCbG9ja0NvbXBvbmVudCxCdWlsZGVyQmxvY2tzLEJ1aWxkZXJDb21wb25lbnQsQnVpbGRlckNvbnRlbnQsQnVpbGRlck1ldGFDb250ZXh0LEJ1aWxkZXJDb21wb25lbnQgYXMgQnVpbGRlclBhZ2UsQnVpbGRlclN0b3JlQ29udGV4dCxCdXR0b24sQ29sdW1ucyxCdWlsZGVyQ29tcG9uZW50IGFzIENvbnRlbnQsQ3VzdG9tQ29kZSxTbG90IGFzIERyb3B6b25lLEVtYmVkLEZvcm0sRm9ybUlucHV0LEZvcm1TZWxlY3QsRm9ybVN1Ym1pdEJ1dHRvbixGcmFnbWVudCxJbWFnZSxJbWcsTGFiZWwsTXV0YXRpb24sUGVyc29uYWxpemF0aW9uQ29udGFpbmVyLFJhd1RleHQsUm91dGVyLFNlY3Rpb24sU3RhdGVQcm92aWRlcixTeW1ib2wkMSBhcyBTeW1ib2wsVGV4dCxUZXh0QXJlYSxWaWRlbyxnZXRTcmNTZXQsbm9XcmFwLG9uQ2hhbmdlLHN0cmluZ1RvRnVuY3Rpb24sdXBkYXRlTWV0YWRhdGEsdXNlSXNQcmV2aWV3aW5nLHdpdGhCdWlsZGVyLHdpdGhDaGlsZHJlbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idWlsZGVyLXJlYWN0LmVzNS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@builder.io/react/dist/builder-react.es5.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@builder.io/sdk/dist/index.esm.js":
/*!********************************************************!*\
  !*** ./node_modules/@builder.io/sdk/dist/index.esm.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BehaviorSubject: () => (/* binding */ BehaviorSubject),\n/* harmony export */   Builder: () => (/* binding */ Builder),\n/* harmony export */   BuilderComponent: () => (/* binding */ BuilderComponent),\n/* harmony export */   Subscription: () => (/* binding */ Subscription),\n/* harmony export */   builder: () => (/* binding */ builder),\n/* harmony export */   isBrowser: () => (/* binding */ isBrowser)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/@builder.io/sdk/node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var hash_sum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hash-sum */ \"(ssr)/./node_modules/hash-sum/hash-sum.js\");\n/* harmony import */ var hash_sum__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(hash_sum__WEBPACK_IMPORTED_MODULE_0__);\n\n\n(function() {\n    if (true) return false;\n    function CustomEvent(event, params) {\n        params = params || {\n            bubbles: false,\n            cancelable: false,\n            detail: null\n        };\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    }\n    window.CustomEvent = CustomEvent;\n})();\nvar isSafari =  false && 0;\nvar isClient = \"undefined\" !== 'undefined';\n// TODO: queue all of these in a debounceNextTick\nfunction nextTick(fn) {\n    // if (typeof process !== 'undefined' && process.nextTick) {\n    //   console.log('process.nextTick?');\n    //   process.nextTick(fn);\n    //   return;\n    // }\n    // FIXME: fix the real safari issue of this randomly not working\n    if (!isClient || isSafari || typeof MutationObserver === 'undefined') {\n        setTimeout(fn);\n        return;\n    }\n    var called = 0;\n    var observer = new MutationObserver(function() {\n        return fn();\n    });\n    var element = document.createTextNode('');\n    observer.observe(element, {\n        characterData: true\n    });\n    // tslint:disable-next-line\n    element.data = String(called = ++called);\n}\nvar PROPERTY_NAME_DENY_LIST = Object.freeze([\n    '__proto__',\n    'prototype',\n    'constructor'\n]);\n// TODO: unit tests\nvar QueryString = /** @class */ function() {\n    function QueryString1() {}\n    QueryString1.parseDeep = function(queryString) {\n        var obj = this.parse(queryString);\n        return this.deepen(obj);\n    };\n    QueryString1.stringifyDeep = function(obj) {\n        var map = this.flatten(obj);\n        return this.stringify(map);\n    };\n    QueryString1.parse = function(queryString) {\n        var query = {};\n        var pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\n        for(var i = 0; i < pairs.length; i++){\n            var pair = pairs[i].split('=');\n            // TODO: node support?\n            try {\n                query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\n            } catch (error) {\n            // Ignore malformed URI components\n            }\n        }\n        return query;\n    };\n    QueryString1.stringify = function(map) {\n        var str = '';\n        for(var key in map){\n            if (map.hasOwnProperty(key)) {\n                var value = map[key];\n                if (str) {\n                    str += '&';\n                }\n                str += encodeURIComponent(key) + '=' + encodeURIComponent(value);\n            }\n        }\n        return str;\n    };\n    QueryString1.deepen = function(map) {\n        // FIXME; Should be type Tree = Record<string, string | Tree>\n        // requires a typescript upgrade.\n        var output = {};\n        for(var k in map){\n            var t = output;\n            var parts = k.split('.');\n            var key = parts.pop();\n            for(var _i = 0, parts_1 = parts; _i < parts_1.length; _i++){\n                var part = parts_1[_i];\n                assertAllowedPropertyName(part);\n                t = t[part] = t[part] || {};\n            }\n            t[key] = map[k];\n        }\n        return output;\n    };\n    QueryString1.flatten = function(obj, _current, _res) {\n        if (_res === void 0) {\n            _res = {};\n        }\n        for(var key in obj){\n            var value = obj[key];\n            var newKey = _current ? _current + '.' + key : key;\n            if (value && typeof value === 'object') {\n                this.flatten(value, newKey, _res);\n            } else {\n                _res[newKey] = value;\n            }\n        }\n        return _res;\n    };\n    return QueryString1;\n}();\nfunction assertAllowedPropertyName(name) {\n    if (PROPERTY_NAME_DENY_LIST.indexOf(name) >= 0) throw new Error(\"Property name \\\"\".concat(name, \"\\\" is not allowed\"));\n}\nvar Subscription = /** @class */ function() {\n    function Subscription1(listeners, listener) {\n        this.listeners = listeners;\n        this.listener = listener;\n        this.unsubscribed = false;\n        this.otherSubscriptions = [];\n    }\n    Object.defineProperty(Subscription1.prototype, \"closed\", {\n        get: function() {\n            return this.unsubscribed;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Subscription1.prototype.add = function(subscription) {\n        this.otherSubscriptions.push(subscription);\n    };\n    Subscription1.prototype.unsubscribe = function() {\n        if (this.unsubscribed) {\n            return;\n        }\n        if (this.listener && this.listeners) {\n            var index = this.listeners.indexOf(this.listener);\n            if (index > -1) {\n                this.listeners.splice(index, 1);\n            }\n        }\n        this.otherSubscriptions.forEach(function(sub) {\n            return sub.unsubscribe();\n        });\n        this.unsubscribed = true;\n    };\n    return Subscription1;\n}();\n// TODO: follow minimal basic spec: https://github.com/tc39/proposal-observable\nvar BehaviorSubject = /** @class */ function() {\n    function BehaviorSubject1(value) {\n        var _this = this;\n        this.value = value;\n        this.listeners = [];\n        this.errorListeners = [];\n        this.then = function() {\n            var _a;\n            var args = [];\n            for(var _i = 0; _i < arguments.length; _i++){\n                args[_i] = arguments[_i];\n            }\n            return (_a = _this.toPromise()).then.apply(_a, args);\n        };\n    }\n    BehaviorSubject1.prototype.next = function(value) {\n        this.value = value;\n        for(var _i = 0, _a = this.listeners; _i < _a.length; _i++){\n            var listener = _a[_i];\n            listener(value);\n        }\n    };\n    // TODO: implement this as PIPE instead\n    BehaviorSubject1.prototype.map = function(fn) {\n        var newSubject = new BehaviorSubject1(fn(this.value));\n        // TODO: on destroy delete these\n        this.subscribe(function(val) {\n            newSubject.next(fn(val));\n        });\n        this.catch(function(err) {\n            newSubject.error(err);\n        });\n        return newSubject;\n    };\n    BehaviorSubject1.prototype.catch = function(errorListener) {\n        this.errorListeners.push(errorListener);\n        return new Subscription(this.errorListeners, errorListener);\n    };\n    BehaviorSubject1.prototype.error = function(error) {\n        for(var _i = 0, _a = this.errorListeners; _i < _a.length; _i++){\n            var listener = _a[_i];\n            listener(error);\n        }\n    };\n    BehaviorSubject1.prototype.subscribe = function(listener, errorListener) {\n        this.listeners.push(listener);\n        if (errorListener) {\n            this.errorListeners.push(errorListener);\n        }\n        return new Subscription(this.listeners, listener);\n    };\n    BehaviorSubject1.prototype.toPromise = function() {\n        var _this = this;\n        return new Promise(function(resolve, reject) {\n            var subscription = _this.subscribe(function(value) {\n                resolve(value);\n                subscription.unsubscribe();\n            }, function(err) {\n                reject(err);\n                subscription.unsubscribe();\n            });\n        });\n    };\n    BehaviorSubject1.prototype.promise = function() {\n        return this.toPromise();\n    };\n    return BehaviorSubject1;\n}();\nvar State = {\n    Pending: 'Pending',\n    Fulfilled: 'Fulfilled',\n    Rejected: 'Rejected'\n};\nfunction isFunction(val) {\n    return val && typeof val === 'function';\n}\nfunction isObject(val) {\n    return val && typeof val === 'object';\n}\nvar TinyPromise = /** @class */ function() {\n    function TinyPromise1(executor) {\n        this._state = State.Pending;\n        this._handlers = [];\n        this._value = null;\n        executor(this._resolve.bind(this), this._reject.bind(this));\n    }\n    TinyPromise1.prototype._resolve = function(x) {\n        var _this = this;\n        if (x instanceof TinyPromise1) {\n            x.then(this._resolve.bind(this), this._reject.bind(this));\n        } else if (isObject(x) || isFunction(x)) {\n            var called_1 = false;\n            try {\n                var thenable = x.then;\n                if (isFunction(thenable)) {\n                    thenable.call(x, function(result) {\n                        if (!called_1) _this._resolve(result);\n                        called_1 = true;\n                        return undefined;\n                    }, function(error) {\n                        if (!called_1) _this._reject(error);\n                        called_1 = true;\n                        return undefined;\n                    });\n                } else {\n                    this._fulfill(x);\n                }\n            } catch (ex) {\n                if (!called_1) {\n                    this._reject(ex);\n                }\n            }\n        } else {\n            this._fulfill(x);\n        }\n    };\n    TinyPromise1.prototype._fulfill = function(result) {\n        var _this = this;\n        this._state = State.Fulfilled;\n        this._value = result;\n        this._handlers.forEach(function(handler) {\n            return _this._callHandler(handler);\n        });\n    };\n    TinyPromise1.prototype._reject = function(error) {\n        var _this = this;\n        this._state = State.Rejected;\n        this._value = error;\n        this._handlers.forEach(function(handler) {\n            return _this._callHandler(handler);\n        });\n    };\n    TinyPromise1.prototype._isPending = function() {\n        return this._state === State.Pending;\n    };\n    TinyPromise1.prototype._isFulfilled = function() {\n        return this._state === State.Fulfilled;\n    };\n    TinyPromise1.prototype._isRejected = function() {\n        return this._state === State.Rejected;\n    };\n    TinyPromise1.prototype._addHandler = function(onFulfilled, onRejected) {\n        this._handlers.push({\n            onFulfilled: onFulfilled,\n            onRejected: onRejected\n        });\n    };\n    TinyPromise1.prototype._callHandler = function(handler) {\n        if (this._isFulfilled() && isFunction(handler.onFulfilled)) {\n            handler.onFulfilled(this._value);\n        } else if (this._isRejected() && isFunction(handler.onRejected)) {\n            handler.onRejected(this._value);\n        }\n    };\n    TinyPromise1.prototype.then = function(onFulfilled, onRejected) {\n        var _this = this;\n        switch(this._state){\n            case State.Pending:\n                {\n                    return new TinyPromise1(function(resolve, reject) {\n                        _this._addHandler(function(value) {\n                            nextTick(function() {\n                                try {\n                                    if (isFunction(onFulfilled)) {\n                                        resolve(onFulfilled(value));\n                                    } else {\n                                        resolve(value);\n                                    }\n                                } catch (ex) {\n                                    reject(ex);\n                                }\n                            });\n                        }, function(error) {\n                            nextTick(function() {\n                                try {\n                                    if (isFunction(onRejected)) {\n                                        resolve(onRejected(error));\n                                    } else {\n                                        reject(error);\n                                    }\n                                } catch (ex) {\n                                    reject(ex);\n                                }\n                            });\n                        });\n                    });\n                }\n            case State.Fulfilled:\n                {\n                    return new TinyPromise1(function(resolve, reject) {\n                        nextTick(function() {\n                            try {\n                                if (isFunction(onFulfilled)) {\n                                    resolve(onFulfilled(_this._value));\n                                } else {\n                                    resolve(_this._value);\n                                }\n                            } catch (ex) {\n                                reject(ex);\n                            }\n                        });\n                    });\n                }\n            case State.Rejected:\n                {\n                    return new TinyPromise1(function(resolve, reject) {\n                        nextTick(function() {\n                            try {\n                                if (isFunction(onRejected)) {\n                                    resolve(onRejected(_this._value));\n                                } else {\n                                    reject(_this._value);\n                                }\n                            } catch (ex) {\n                                reject(ex);\n                            }\n                        });\n                    });\n                }\n        }\n    };\n    return TinyPromise1;\n}();\nvar Promise$1 = typeof Promise !== 'undefined' ? Promise : TinyPromise;\n// Webpack workaround to conditionally require certain external modules\n// only on the server and not bundle them on the client\nvar serverOnlyRequire;\ntry {\n    // tslint:disable-next-line:no-eval\n    serverOnlyRequire = eval('require');\n} catch (err) {\n    // all good\n    serverOnlyRequire = function() {\n        return null;\n    };\n}\nvar serverOnlyRequire$1 = serverOnlyRequire;\nfunction promiseResolve(value) {\n    return new Promise$1(function(resolve) {\n        return resolve(value);\n    });\n}\n// Adapted from https://raw.githubusercontent.com/developit/unfetch/master/src/index.mjs\nfunction tinyFetch(url, options) {\n    if (options === void 0) {\n        options = {};\n    }\n    return new Promise$1(function(resolve, reject) {\n        var request = new XMLHttpRequest();\n        request.open(options.method || 'get', url, true);\n        if (options.headers) {\n            for(var i in options.headers){\n                request.setRequestHeader(i, options.headers[i]);\n            }\n        }\n        request.withCredentials = options.credentials === 'include';\n        request.onload = function() {\n            resolve(response());\n        };\n        request.onerror = reject;\n        request.send(options.body);\n        function response() {\n            var keys = [];\n            var all = [];\n            var headers = {};\n            var header = undefined;\n            request.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, function(_match, _key, value) {\n                var key = _key;\n                keys.push(key = key.toLowerCase());\n                all.push([\n                    key,\n                    value\n                ]);\n                header = headers[key];\n                headers[key] = header ? \"\".concat(header, \",\").concat(value) : value;\n                return '';\n            });\n            return {\n                ok: (request.status / 100 | 0) === 2,\n                status: request.status,\n                statusText: request.statusText,\n                url: request.responseURL,\n                clone: response,\n                text: function() {\n                    return promiseResolve(request.responseText);\n                },\n                json: function() {\n                    return promiseResolve(request.responseText).then(JSON.parse);\n                },\n                blob: function() {\n                    return promiseResolve(new Blob([\n                        request.response\n                    ]));\n                },\n                headers: {\n                    keys: function() {\n                        return keys;\n                    },\n                    entries: function() {\n                        return all;\n                    },\n                    get: function(n) {\n                        return headers[n.toLowerCase()];\n                    },\n                    has: function(n) {\n                        return n.toLowerCase() in headers;\n                    }\n                }\n            };\n        }\n    });\n}\nfunction getFetch() {\n    // If fetch is defined, in the browser, via polyfill, or in a Cloudflare worker, use it.\n    var _fetch = undefined;\n    if (globalThis.fetch) {\n        _fetch !== null && _fetch !== void 0 ? _fetch : _fetch = globalThis.fetch;\n    } else if (true) {\n        // If fetch is not defined, in a Node.js environment, use node-fetch.\n        try {\n            // node-fetch@^3 is ESM only, and will throw error on require.\n            _fetch !== null && _fetch !== void 0 ? _fetch : _fetch = serverOnlyRequire$1('node-fetch');\n        } catch (e) {\n            // If node-fetch is not installed, use tiny-fetch.\n            console.warn('node-fetch is not installed. consider polyfilling fetch or installing node-fetch.');\n            console.warn(e);\n        }\n    }\n    // Otherwise, use tiny-fetch.\n    return _fetch !== null && _fetch !== void 0 ? _fetch : tinyFetch;\n}\nfunction assign(target) {\n    var to = Object(target);\n    for(var index = 1; index < arguments.length; index++){\n        var nextSource = arguments[index];\n        if (nextSource != null) {\n            // Skip over if undefined or null\n            for(var nextKey in nextSource){\n                // Avoid bugs when hasOwnProperty is shadowed\n                if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                    to[nextKey] = nextSource[nextKey];\n                }\n            }\n        }\n    }\n    return to;\n}\nfunction throttle(func, wait, options) {\n    if (options === void 0) {\n        options = {};\n    }\n    var context;\n    var args;\n    var result;\n    var timeout = null;\n    var previous = 0;\n    var later = function() {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n    };\n    return function() {\n        var now = Date.now();\n        if (!previous && options.leading === false) previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        } else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\nvar camelCaseToKebabCase = function(str) {\n    return str ? str.replace(/([A-Z])/g, function(g) {\n        return \"-\".concat(g[0].toLowerCase());\n    }) : '';\n};\nvar Animator = /** @class */ function() {\n    function Animator1() {}\n    Animator1.prototype.bindAnimations = function(animations) {\n        for(var _i = 0, animations_1 = animations; _i < animations_1.length; _i++){\n            var animation = animations_1[_i];\n            switch(animation.trigger){\n                case 'pageLoad':\n                    this.triggerAnimation(animation);\n                    break;\n                case 'hover':\n                    this.bindHoverAnimation(animation);\n                    break;\n                case 'scrollInView':\n                    this.bindScrollInViewAnimation(animation);\n                    break;\n            }\n        }\n    };\n    Animator1.prototype.warnElementNotPresent = function(id) {\n        console.warn(\"Cannot animate element: element with ID \".concat(id, \" not found!\"));\n    };\n    Animator1.prototype.augmentAnimation = function(animation, element) {\n        var stylesUsed = this.getAllStylesUsed(animation);\n        var computedStyle = getComputedStyle(element);\n        // const computedStyle = getComputedStyle(element);\n        // // FIXME: this will break if original load is in one reponsive size then resize to another hmmm\n        // Need to use transform instead of left since left can change on screen sizes\n        var firstStyles = animation.steps[0].styles;\n        var lastStyles = animation.steps[animation.steps.length - 1].styles;\n        var bothStyles = [\n            firstStyles,\n            lastStyles\n        ];\n        // FIXME: this won't work as expected for augmented animations - may need the editor itself to manage this\n        for(var _i = 0, bothStyles_1 = bothStyles; _i < bothStyles_1.length; _i++){\n            var styles = bothStyles_1[_i];\n            for(var _a = 0, stylesUsed_1 = stylesUsed; _a < stylesUsed_1.length; _a++){\n                var style = stylesUsed_1[_a];\n                if (!(style in styles)) {\n                    styles[style] = computedStyle[style];\n                }\n            }\n        }\n    };\n    Animator1.prototype.getAllStylesUsed = function(animation) {\n        var properties = [];\n        for(var _i = 0, _a = animation.steps; _i < _a.length; _i++){\n            var step = _a[_i];\n            for(var key in step.styles){\n                if (properties.indexOf(key) === -1) {\n                    properties.push(key);\n                }\n            }\n        }\n        return properties;\n    };\n    Animator1.prototype.triggerAnimation = function(animation) {\n        var _this = this;\n        // TODO: do for ALL elements\n        var elements = Array.prototype.slice.call(document.getElementsByClassName(animation.elementId || animation.id || ''));\n        if (!elements.length) {\n            this.warnElementNotPresent(animation.elementId || animation.id || '');\n            return;\n        }\n        Array.from(elements).forEach(function(element) {\n            _this.augmentAnimation(animation, element);\n            // TODO: do this properly, may have other animations of different properties\n            // TODO: only override the properties\n            // TODO: if there is an entrance and hover animation, the transition duration will get effed\n            // element.setAttribute('style', '');\n            // const styledUsed = this.getAllStylesUsed(animation);\n            element.style.transition = 'none';\n            element.style.transitionDelay = '0';\n            assign(element.style, animation.steps[0].styles);\n            // TODO: queue/batch these timeouts\n            // TODO: only include properties explicitly set in the animation\n            // using Object.keys(styles)\n            setTimeout(function() {\n                element.style.transition = \"all \".concat(animation.duration, \"s \").concat(camelCaseToKebabCase(animation.easing));\n                if (animation.delay) {\n                    element.style.transitionDelay = animation.delay + 's';\n                }\n                assign(element.style, animation.steps[1].styles);\n                // TODO: maybe remove/reset transitoin property after animation duration\n                // TODO: queue timers\n                setTimeout(function() {\n                    // TODO: what if has other transition (reset back to what it was)\n                    element.style.transition = '';\n                    element.style.transitionDelay = '';\n                }, (animation.delay || 0) * 1000 + animation.duration * 1000 + 100);\n            });\n        });\n    };\n    Animator1.prototype.bindHoverAnimation = function(animation) {\n        var _this = this;\n        // TODO: is it multiple binding when editing...?\n        // TODO: unbind on element remove\n        // TODO: apply to ALL elements\n        var elements = Array.prototype.slice.call(document.getElementsByClassName(animation.elementId || animation.id || ''));\n        if (!elements.length) {\n            this.warnElementNotPresent(animation.elementId || animation.id || '');\n            return;\n        }\n        Array.from(elements).forEach(function(element) {\n            _this.augmentAnimation(animation, element);\n            var defaultState = animation.steps[0].styles;\n            var hoverState = animation.steps[1].styles;\n            function attachDefaultState() {\n                assign(element.style, defaultState);\n            }\n            function attachHoverState() {\n                assign(element.style, hoverState);\n            }\n            attachDefaultState();\n            element.addEventListener('mouseenter', attachHoverState);\n            element.addEventListener('mouseleave', attachDefaultState);\n            // TODO: queue/batch these timeouts\n            setTimeout(function() {\n                element.style.transition = \"all \".concat(animation.duration, \"s \").concat(camelCaseToKebabCase(animation.easing));\n                if (animation.delay) {\n                    element.style.transitionDelay = animation.delay + 's';\n                }\n            });\n        });\n    };\n    // TODO: unbind on element remove\n    Animator1.prototype.bindScrollInViewAnimation = function(animation) {\n        var _this = this;\n        // TODO: apply to ALL matching elements\n        var elements = Array.prototype.slice.call(document.getElementsByClassName(animation.elementId || animation.id || ''));\n        if (!elements.length) {\n            this.warnElementNotPresent(animation.elementId || animation.id || '');\n            return;\n        }\n        // TODO: if server side rendered and scrolled into view don't animate...\n        Array.from(elements).forEach(function(element) {\n            _this.augmentAnimation(animation, element);\n            var triggered = false;\n            var pendingAnimation = false;\n            function immediateOnScroll() {\n                if (!triggered && isScrolledIntoView(element)) {\n                    triggered = true;\n                    pendingAnimation = true;\n                    setTimeout(function() {\n                        assign(element.style, animation.steps[1].styles);\n                        if (!animation.repeat) {\n                            document.removeEventListener('scroll', onScroll);\n                        }\n                        setTimeout(function() {\n                            pendingAnimation = false;\n                            if (!animation.repeat) {\n                                element.style.transition = '';\n                                element.style.transitionDelay = '';\n                            }\n                        }, (animation.duration + (animation.delay || 0)) * 1000 + 100);\n                    });\n                } else if (animation.repeat && triggered && !pendingAnimation && !isScrolledIntoView(element)) {\n                    // we want to repeat the animation every time the the element is out of view and back again\n                    triggered = false;\n                    assign(element.style, animation.steps[0].styles);\n                }\n            }\n            // TODO: roll all of these in one for more efficiency of checking all the rects\n            var onScroll = throttle(immediateOnScroll, 200, {\n                leading: false\n            });\n            // TODO: fully in view or partially\n            function isScrolledIntoView(elem) {\n                var rect = elem.getBoundingClientRect();\n                var windowHeight = window.innerHeight;\n                var thresholdPercent = (animation.thresholdPercent || 0) / 100;\n                var threshold = thresholdPercent * windowHeight;\n                // TODO: partial in view? or what if element is larger than screen itself\n                return rect.bottom > threshold && rect.top < windowHeight - threshold // Element is peeking top or bottom\n                ;\n            }\n            var defaultState = animation.steps[0].styles;\n            function attachDefaultState() {\n                assign(element.style, defaultState);\n            }\n            attachDefaultState();\n            // TODO: queue/batch these timeouts!\n            setTimeout(function() {\n                element.style.transition = \"all \".concat(animation.duration, \"s \").concat(camelCaseToKebabCase(animation.easing));\n                if (animation.delay) {\n                    element.style.transitionDelay = animation.delay + 's';\n                }\n            });\n            // TODO: one listener for everything\n            document.addEventListener('scroll', onScroll, {\n                capture: true,\n                passive: true\n            });\n            // Do an initial check\n            immediateOnScroll();\n        });\n    };\n    return Animator1;\n}();\n/**\r\n * RegExp to match field-content in RFC 7230 sec 3.2\r\n *\r\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\r\n * field-vchar   = VCHAR / obs-text\r\n * obs-text      = %x80-FF\r\n */ var fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\nvar Cookies = /** @class */ function() {\n    function Cookies1(request, response) {\n        this.request = request;\n        this.response = response;\n    }\n    Cookies1.prototype.get = function(name) {\n        var header = this.request.headers['cookie'];\n        if (!header) {\n            return;\n        }\n        var match = header.match(getPattern(name));\n        if (!match) {\n            return;\n        }\n        var value = match[1];\n        return value;\n    };\n    Cookies1.prototype.set = function(name, value, opts) {\n        var res = this.response;\n        var req = this.request;\n        var headers = res.getHeader('Set-Cookie') || [];\n        // TODO: just make this always true\n        var secure = this.secure !== undefined ? !!this.secure : req.protocol === 'https' || req.connection.encrypted;\n        var cookie = new Cookie(name, value, opts);\n        if (typeof headers === 'string') {\n            headers = [\n                headers\n            ];\n        }\n        if (!secure && opts && opts.secure) {\n            throw new Error('Cannot send secure cookie over unencrypted connection');\n        }\n        cookie.secure = secure;\n        if (opts && 'secure' in opts) {\n            cookie.secure = !!opts.secure;\n        }\n        pushCookie(headers, cookie);\n        var setHeader = res.setHeader;\n        setHeader.call(res, 'Set-Cookie', headers);\n        return this;\n    };\n    return Cookies1;\n}();\nvar Cookie = /** @class */ function() {\n    function Cookie1(name, value, attrs) {\n        this.path = '/';\n        this.domain = undefined;\n        this.httpOnly = true;\n        this.sameSite = false;\n        this.secure = false;\n        this.overwrite = false;\n        this.name = '';\n        this.value = '';\n        if (!fieldContentRegExp.test(name)) {\n            throw new TypeError('argument name is invalid');\n        }\n        if (value && !fieldContentRegExp.test(value)) {\n            throw new TypeError('argument value is invalid');\n        }\n        if (!value) {\n            this.expires = new Date(0);\n        }\n        this.name = name;\n        this.value = value || '';\n        if (attrs.expires) {\n            this.expires = attrs.expires;\n        }\n        if (attrs.secure) {\n            this.secure = attrs.secure;\n        }\n    }\n    Cookie1.prototype.toString = function() {\n        return \"\".concat(this.name, \"=\").concat(this.value);\n    };\n    Cookie1.prototype.toHeader = function() {\n        var header = this.toString();\n        if (this.maxAge) {\n            this.expires = new Date(Date.now() + this.maxAge);\n        }\n        if (this.path) {\n            header += \"; path=\".concat(this.path);\n        }\n        if (this.expires) {\n            header += \"; expires=\".concat(this.expires.toUTCString());\n        }\n        if (this.domain) {\n            header += \"; domain=\".concat(this.domain);\n        }\n        // TODO: samesite=none by default (?)\n        header += \"; SameSite=\".concat(this.sameSite === true ? 'strict' : 'None');\n        // TODO: On by default\n        if (this.secure) {\n            header += '; secure';\n        }\n        if (this.httpOnly) {\n            header += '; httponly';\n        }\n        return header;\n    };\n    return Cookie1;\n}();\nfunction getPattern(name) {\n    return new RegExp(\"(?:^|;) *\".concat(name.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&'), \"=([^;]*)\"));\n}\nfunction pushCookie(headers, cookie) {\n    if (cookie.overwrite) {\n        for(var i = headers.length - 1; i >= 0; i--){\n            if (headers[i].indexOf(\"\".concat(cookie.name, \"=\")) === 0) {\n                headers.splice(i, 1);\n            }\n        }\n    }\n    headers.push(cookie.toHeader());\n}\nfunction omit(obj) {\n    var values = [];\n    for(var _i = 1; _i < arguments.length; _i++){\n        values[_i - 1] = arguments[_i];\n    }\n    var newObject = Object.assign({}, obj);\n    for(var _a = 0, values_1 = values; _a < values_1.length; _a++){\n        var key = values_1[_a];\n        delete newObject[key];\n    }\n    return newObject;\n}\n/**\r\n * @credit https://stackoverflow.com/a/2117523\r\n */ function uuidv4() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n    });\n}\n/**\r\n * Slightly cleaner and smaller UUIDs\r\n */ function uuid() {\n    return uuidv4().replace(/-/g, '');\n}\nfunction emptyUrl() {\n    return {\n        query: null,\n        port: null,\n        auth: null,\n        hash: null,\n        host: null,\n        hostname: null,\n        href: null,\n        path: null,\n        pathname: null,\n        protocol: null,\n        search: null,\n        slashes: null\n    };\n}\n// Replacement for `url.parse` using `URL` global object that works with relative paths.\n// Assumptions: this function operates in a NodeJS environment.\nfunction parse$1(url) {\n    var _a;\n    var out = emptyUrl();\n    var u;\n    var pathOnly = url === '' || url[0] === '/';\n    if (pathOnly) {\n        u = new URL(url, 'http://0.0.0.0/');\n        out.href = u.href;\n        out.href = (_a = out.href) === null || _a === void 0 ? void 0 : _a.slice(14); // remove 'http://0.0.0.0/'\n    } else {\n        u = new URL(url);\n        out.href = u.href;\n        out.port = u.port === '' ? null : u.port;\n        out.hash = u.hash === '' ? null : u.hash;\n        out.host = u.host;\n        out.hostname = u.hostname;\n        out.href = u.href;\n        out.pathname = u.pathname;\n        out.protocol = u.protocol;\n        out.slashes = url[u.protocol.length] === '/'; // check if the mimetype is proceeded by a slash\n    }\n    out.search = u.search;\n    out.query = u.search.slice(1); // remove '?'\n    out.path = \"\".concat(u.pathname).concat(u.search);\n    out.pathname = u.pathname;\n    return out;\n}\n/**\r\n * Safe conversion to error type. Intended to be used in catch blocks where the\r\n *  value is not guaranteed to be an error.\r\n *\r\n *  @example\r\n *  try {\r\n *    throw new Error('Something went wrong')\r\n *  }\r\n *  catch (err: unknown) {\r\n *    const error: Error = toError(err)\r\n *  }\r\n */ function toError(err) {\n    if (err instanceof Error) return err;\n    return new Error(String(err));\n}\nvar DEFAULT_API_VERSION = 'v3';\nvar SDK_VERSION = '6.2.0';\nfunction datePlusMinutes(minutes) {\n    if (minutes === void 0) {\n        minutes = 30;\n    }\n    return new Date(Date.now() + minutes * 60000);\n}\nvar isPositiveNumber = function(thing) {\n    return typeof thing === 'number' && !isNaN(thing) && thing >= 0;\n};\nvar isReactNative = typeof navigator === 'object' && navigator.product === 'ReactNative';\nvar validEnvList = [\n    'production',\n    'qa',\n    'test',\n    'development',\n    'dev',\n    'cdn-qa',\n    'cloud',\n    'fast',\n    'cdn2',\n    'cdn-prod'\n];\nfunction getQueryParam(url, variable) {\n    var query = url.split('?')[1] || '';\n    var vars = query.split('&');\n    for(var i = 0; i < vars.length; i++){\n        var pair = vars[i].split('=');\n        if (decodeURIComponent(pair[0]) === variable) {\n            return decodeURIComponent(pair[1]);\n        }\n    }\n    return null;\n}\nvar urlParser = {\n    parse: function(url) {\n        var el = document.createElement('a');\n        el.href = url;\n        var out = {};\n        var props = [\n            'username',\n            'password',\n            'host',\n            'hostname',\n            'port',\n            'protocol',\n            'origin',\n            'pathname',\n            'search',\n            'hash'\n        ];\n        for(var _i = 0, props_1 = props; _i < props_1.length; _i++){\n            var prop = props_1[_i];\n            out[prop] = el[prop];\n        }\n        // IE 11 pathname handling workaround\n        // (IE omits preceeding '/', unlike other browsers)\n        if ((out.pathname || out.pathname === '') && typeof out.pathname === 'string' && out.pathname.indexOf('/') !== 0) {\n            out.pathname = '/' + out.pathname;\n        }\n        return out;\n    }\n};\nvar parse = isReactNative ? function() {\n    return emptyUrl();\n} :  false ? 0 : parse$1;\nfunction setCookie(name, value, expires) {\n    try {\n        var expiresString = '';\n        // TODO: need to know if secure server side\n        if (expires) {\n            expiresString = '; expires=' + expires.toUTCString();\n        }\n        var secure = isBrowser ? location.protocol === 'https:' : true;\n        document.cookie = name + '=' + (value || '') + expiresString + '; path=/' + (secure ? '; secure; SameSite=None' : '');\n    } catch (err) {\n        console.warn('Could not set cookie', err);\n    }\n}\nfunction getCookie(name) {\n    try {\n        return decodeURIComponent(document.cookie.replace(new RegExp('(?:(?:^|.*;)\\\\s*' + encodeURIComponent(name).replace(/[\\-\\.\\+\\*]/g, '\\\\$&') + '\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$'), '$1')) || null;\n    } catch (err) {\n        console.warn('Could not get cookie', err);\n    }\n}\nfunction size(object) {\n    return Object.keys(object).length;\n}\nfunction find(target, callback) {\n    var list = target;\n    // Makes sures is always has an positive integer as length.\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n    for(var i = 0; i < length; i++){\n        var element = list[i];\n        if (callback.call(thisArg, element, i, list)) {\n            return element;\n        }\n    }\n}\nvar sessionStorageKey = 'builderSessionId';\nvar localStorageKey = 'builderVisitorId';\nvar isBrowser =  false && 0;\nvar isIframe = isBrowser && window.top !== window.self;\nfunction BuilderComponent(info) {\n    if (info === void 0) {\n        info = {};\n    }\n    return Builder.Component(info);\n}\nvar Builder = /** @class */ function() {\n    function Builder1(apiKey, request, response, forceNewInstance, authToken, apiVersion) {\n        if (apiKey === void 0) {\n            apiKey = null;\n        }\n        if (forceNewInstance === void 0) {\n            forceNewInstance = false;\n        }\n        if (authToken === void 0) {\n            authToken = null;\n        }\n        var _this = this;\n        this.request = request;\n        this.response = response;\n        this.eventsQueue = [];\n        this.throttledClearEventsQueue = throttle(function() {\n            _this.processEventsQueue();\n            // Extend the session cookie\n            _this.setCookie(sessionStorageKey, _this.sessionId, datePlusMinutes(30));\n        }, 5);\n        this.env = 'production';\n        this.sessionId = this.getSessionId();\n        this.targetContent = true;\n        this.contentPerRequest = 1;\n        // TODO: make array or function\n        this.allowCustomFonts = true;\n        this.cookies = null;\n        // TODO: api options object\n        this.cachebust = false;\n        this.overrideParams = '';\n        this.noCache = false;\n        this.preview = false;\n        /**\r\n         * Dictates which API endpoint is used when fetching content. Allows `'content'` and `'query'`.\r\n         * Defaults to `'query'`.\r\n         */ this.apiEndpoint$ = new BehaviorSubject('query');\n        this.apiVersion$ = new BehaviorSubject(undefined);\n        this.canTrack$ = new BehaviorSubject(!this.browserTrackingDisabled);\n        this.hasOverriddenCanTrack = false;\n        this.apiKey$ = new BehaviorSubject(null);\n        this.authToken$ = new BehaviorSubject(null);\n        this.contentId$ = new BehaviorSubject(null);\n        this.userAttributesChanged = new BehaviorSubject(null);\n        this.editingMode$ = new BehaviorSubject(isIframe);\n        // TODO: decorator to do this stuff with the get/set (how do with typing too? compiler?)\n        this.editingModel$ = new BehaviorSubject(null);\n        this.userAgent = typeof navigator === 'object' && navigator.userAgent || '';\n        this.trackingHooks = [];\n        // Set this to control the userId\n        // TODO: allow changing it mid session and updating existing data to be associated\n        // e.g. for when a user navigates and then logs in\n        this.visitorId = this.getVisitorId();\n        this.autoTrack = !Builder1.isBrowser ? false : !this.isDevelopmentEnv && !(Builder1.isBrowser && location.search.indexOf('builder.preview=') !== -1);\n        this.trackingUserAttributes = {};\n        this.blockContentLoading = '';\n        this.observersByKey = {};\n        this.noEditorUpdates = {};\n        this.overrides = {};\n        this.queryOptions = {};\n        this.getContentQueue = null;\n        this.priorContentQueue = null;\n        this.testCookiePrefix = 'builder.tests';\n        this.cookieQueue = [];\n        // TODO: use a window variable for this perhaps, e.g. bc webcomponents may be loading builder twice\n        // with it's and react (use rollup build to fix)\n        if (Builder1.isBrowser && !forceNewInstance && Builder1.singletonInstance) {\n            return Builder1.singletonInstance;\n        }\n        if (this.request && this.response) {\n            this.setUserAgent(this.request.headers['user-agent'] || '');\n            this.cookies = new Cookies(this.request, this.response);\n        }\n        if (apiKey) {\n            this.apiKey = apiKey;\n        }\n        if (apiVersion) {\n            this.apiVersion = apiVersion;\n        }\n        if (authToken) {\n            this.authToken = authToken;\n        }\n        if (isBrowser) {\n            if (Builder1.isEditing) {\n                this.bindMessageListeners();\n                parent.postMessage({\n                    type: 'builder.animatorOptions',\n                    data: {\n                        options: {\n                            version: 2\n                        }\n                    }\n                }, '*');\n            }\n        // TODO: postmessage to parent the builder info for every package\n        // type: 'builder.sdk', data: { name: '@builder.io/react', version: '0.1.23' }\n        // (window as any).BUILDER_VERSION = Builder.VERSION;\n        // Ensure always one Builder global singleton\n        // TODO: some people won't want this, e.g. rakuten\n        // Maybe hide this behind symbol or on document, etc\n        // if ((window as any).Builder) {\n        //   Builder.components = (window as any).Builder.components;\n        // } else {\n        //   (window as any).Builder = Builder;\n        // }\n        }\n        if (isIframe) {\n            this.messageFrameLoaded();\n        }\n        // TODO: on destroy clear subscription\n        this.canTrack$.subscribe(function(value) {\n            if (value) {\n                if (typeof sessionStorage !== 'undefined') {\n                    try {\n                        if (!sessionStorage.getItem(sessionStorageKey)) {\n                            sessionStorage.setItem(sessionStorageKey, _this.sessionId);\n                        }\n                    } catch (err) {\n                        console.debug('Session storage error', err);\n                    }\n                }\n                if (_this.eventsQueue.length) {\n                    _this.throttledClearEventsQueue();\n                }\n                if (_this.cookieQueue.length) {\n                    _this.cookieQueue.forEach(function(item) {\n                        _this.setCookie(item[0], item[1]);\n                    });\n                    _this.cookieQueue.length = 0;\n                }\n            }\n        });\n        if (isBrowser) {\n            // TODO: defer so subclass constructor runs and injects location service\n            this.setTestsFromUrl();\n            // TODO: do this on every request send?\n            this.getOverridesFromQueryString();\n            // cookies used in personalization container script, so need to set before hydration to match script result\n            var userAttrCookie = this.getCookie(Builder1.attributesCookieName);\n            if (userAttrCookie) {\n                try {\n                    var attributes = JSON.parse(userAttrCookie);\n                    this.setUserAttributes(attributes);\n                } catch (err) {\n                    console.debug('Error parsing user attributes cookie', err);\n                }\n            }\n        }\n    }\n    Builder1.register = function(type, info) {\n        if (type === 'plugin') {\n            info = this.serializeIncludingFunctions(info, true);\n        }\n        // TODO: all must have name and can't conflict?\n        var typeList = this.registry[type];\n        if (!typeList) {\n            typeList = this.registry[type] = [];\n        }\n        typeList.push(info);\n        if (Builder1.isBrowser) {\n            var message = {\n                type: 'builder.register',\n                data: {\n                    type: type,\n                    info: info\n                }\n            };\n            try {\n                parent.postMessage(message, '*');\n                if (parent !== window) {\n                    window.postMessage(message, '*');\n                }\n            } catch (err) {\n                console.debug('Could not postmessage', err);\n            }\n        }\n        this.registryChange.next(this.registry);\n    };\n    Builder1.registerEditor = function(info) {\n        if (Builder1.isBrowser) {\n            window.postMessage({\n                type: 'builder.registerEditor',\n                data: omit(info, 'component')\n            }, '*');\n            var hostname = location.hostname;\n            if (!Builder1.isTrustedHost(hostname)) {\n                console.error('Builder.registerEditor() called in the wrong environment! You cannot load custom editors from your app, they must be loaded through the Builder.io app itself. Follow the readme here for more details: https://github.com/builderio/builder/tree/master/plugins/cloudinary or contact chat us in our Spectrum community for help: https://spectrum.chat/builder');\n            }\n        }\n        this.editors.push(info);\n    };\n    Builder1.registerPlugin = function(info) {\n        this.plugins.push(info);\n    };\n    Builder1.registerAction = function(action) {\n        var _a;\n        this.actions.push(action);\n        if (Builder1.isBrowser) {\n            var actionClone = JSON.parse(JSON.stringify(action));\n            if (action.action) {\n                actionClone.action = action.action.toString();\n            }\n            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                type: 'builder.registerAction',\n                data: actionClone\n            }, '*');\n        }\n    };\n    Builder1.registerTrustedHost = function(host) {\n        this.trustedHosts.push(host);\n    };\n    /**\r\n     * @param context @type {import('isolated-vm').Context}\r\n     * Use this function to control the execution context of custom code on the server.\r\n     * const ivm = require('isolated-vm');\r\n     * const isolate = new ivm.Isolate({ memoryLimit: 128 });\r\n     * const context = isolate.createContextSync();\r\n     * Builder.setServerContext(context);\r\n     */ Builder1.setServerContext = function(context) {\n        this.serverContext = context;\n    };\n    Builder1.isTrustedHost = function(hostname) {\n        var isTrusted = this.trustedHosts.findIndex(function(trustedHost) {\n            return trustedHost.startsWith('*.') ? hostname.endsWith(trustedHost.slice(1)) : trustedHost === hostname;\n        }) > -1;\n        return isTrusted;\n    };\n    Builder1.isTrustedHostForEvent = function(event) {\n        if (event.origin === 'null') {\n            return false;\n        }\n        var url = parse(event.origin);\n        return url.hostname && Builder1.isTrustedHost(url.hostname);\n    };\n    Builder1.runAction = function(action) {\n        // TODO\n        var actionObject = typeof action === 'string' ? find(this.actions, function(item) {\n            return item.name === action;\n        }) : action;\n        if (!actionObject) {\n            throw new Error(\"Action not found: \".concat(action));\n        }\n    };\n    Builder1.fields = function(name, fields) {\n        var _a;\n        (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n            type: 'builder.fields',\n            data: {\n                name: name,\n                fields: fields\n            }\n        }, '*');\n    };\n    /**\r\n     * @deprecated\r\n     * @hidden\r\n     *\r\n     * Use Builder.register('editor.settings', {}) instead.\r\n     */ Builder1.set = function(settings) {\n        Builder1.register('editor.settings', settings);\n    };\n    Builder1.import = function(packageName) {\n        if (!Builder1.isBrowser) {\n            // TODO: server side support *maybe*\n            console.warn('Builder.import used on the server - this should only be used in the browser');\n            return;\n        }\n        var System = window.System;\n        if (!System) {\n            console.warn('System.js not available. Please include System.js when using Builder.import');\n            return;\n        }\n        return System.import(\"https://cdn.builder.io/systemjs/\".concat(packageName));\n    };\n    Object.defineProperty(Builder1, \"editingPage\", {\n        // useCdnApi = false;\n        get: function() {\n            return this._editingPage;\n        },\n        set: function(editingPage) {\n            this._editingPage = editingPage;\n            if (isBrowser && isIframe) {\n                if (editingPage) {\n                    document.body.classList.add('builder-editing-page');\n                } else {\n                    document.body.classList.remove('builder-editing-page');\n                }\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.serializeIncludingFunctions = function(info, isForPlugin) {\n        var serializeFn = function(fnValue) {\n            var fnStr = fnValue.toString().trim();\n            // we need to account for a few different fn syntaxes:\n            // 1. `function name(args) => {code}`\n            // 2. `name(args) => {code}`\n            // 3. `(args) => {}`\n            // 4. `args => {}`\n            // 5. `async function(args) {code}`\n            // 6. `async (args) => {}`\n            // 7. `async args => {}`\n            var isArrowWithoutParens = /^[a-zA-Z0-9_]+\\s*=>/i.test(fnStr);\n            var appendFunction = !fnStr.startsWith('function') && !fnStr.startsWith('async') && !fnStr.startsWith('(') && !isArrowWithoutParens;\n            return \"return (\".concat(appendFunction ? 'function ' : '').concat(fnStr, \").apply(this, arguments)\");\n        };\n        var objToReturn = JSON.parse(JSON.stringify(info, function(key, value) {\n            var shouldNotSerializeFn = isForPlugin && key === 'onSave';\n            if (typeof value === 'function' && !shouldNotSerializeFn) {\n                return serializeFn(value);\n            }\n            return value;\n        }));\n        if (isForPlugin) {\n            objToReturn.onSave = info.onSave;\n        }\n        return objToReturn;\n    };\n    Builder1.prepareComponentSpecToSend = function(spec) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, this.serializeIncludingFunctions(spec)), {\n            class: undefined\n        });\n    };\n    Builder1.registerBlock = function(component, options) {\n        this.registerComponent(component, options);\n    };\n    Builder1.registerComponent = function(component, options) {\n        var _a;\n        var spec = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            class: component\n        }, component.builderOptions), options);\n        this.addComponent(spec);\n        var editable = options.models && this.singletonInstance.editingModel ? isBrowser && options.models.includes(this.singletonInstance.editingModel) : isBrowser;\n        if (editable) {\n            var sendSpec = this.prepareComponentSpecToSend(spec);\n            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                type: 'builder.registerComponent',\n                data: sendSpec\n            }, '*');\n        }\n    };\n    Builder1.addComponent = function(component) {\n        var current = find(this.components, function(item) {\n            return item.name === component.name;\n        });\n        if (current) {\n            // FIXME: why does sometimes we get an extra post without class - probably\n            // from postMessage handler wrong in some place\n            if (current.class && !component.class) {\n                return;\n            }\n            this.components.splice(this.components.indexOf(current), 1, component);\n        } else {\n            this.components.push(component);\n        }\n    };\n    // TODO: style guide, etc off this system as well?\n    Builder1.component = function(info) {\n        var _this = this;\n        if (info === void 0) {\n            info = {};\n        }\n        return function(component) {\n            var _a;\n            var spec = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, info), {\n                class: component\n            });\n            if (!spec.name) {\n                spec.name = component.name;\n            }\n            _this.addComponent(spec);\n            var sendSpec = _this.prepareComponentSpecToSend(spec);\n            // TODO: serialize component name and inputs\n            if (isBrowser) {\n                (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                    type: 'builder.registerComponent',\n                    data: sendSpec\n                }, '*');\n            }\n            return component;\n        };\n    };\n    Object.defineProperty(Builder1, \"Component\", {\n        get: function() {\n            return this.component;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.processEventsQueue = function() {\n        if (!this.eventsQueue.length) {\n            return;\n        }\n        var events = this.eventsQueue;\n        this.eventsQueue = [];\n        var fullUserAttributes = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, Builder1.overrideUserAttributes), this.trackingUserAttributes);\n        for(var _i = 0, events_1 = events; _i < events_1.length; _i++){\n            var event_1 = events_1[_i];\n            if (!event_1.data.metadata) {\n                event_1.data.metadata = {};\n            }\n            if (!event_1.data.metadata.user) {\n                event_1.data.metadata.user = {};\n            }\n            Object.assign(event_1.data.metadata.user, fullUserAttributes, event_1.data.metadata.user);\n        }\n        var host = this.host;\n        getFetch()(\"\".concat(host, \"/api/v1/track\"), {\n            method: 'POST',\n            body: JSON.stringify({\n                events: events\n            }),\n            headers: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n                'content-type': 'application/json'\n            }, this.getSdkHeaders()),\n            mode: 'cors'\n        }).catch(function() {\n        // Not the end of the world\n        });\n    };\n    Object.defineProperty(Builder1.prototype, \"browserTrackingDisabled\", {\n        get: function() {\n            return Builder1.isBrowser && Boolean(window.builderNoTrack || !navigator.cookieEnabled);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"canTrack\", {\n        get: function() {\n            return this.canTrack$.value;\n        },\n        set: function(canTrack) {\n            this.hasOverriddenCanTrack = true;\n            if (this.canTrack !== canTrack) {\n                this.canTrack$.next(canTrack);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"apiVersion\", {\n        get: function() {\n            return this.apiVersion$.value;\n        },\n        set: function(apiVersion) {\n            if (this.apiVersion !== apiVersion) {\n                this.apiVersion$.next(apiVersion);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"apiEndpoint\", {\n        get: function() {\n            return this.apiEndpoint$.value;\n        },\n        set: function(apiEndpoint) {\n            if (this.apiEndpoint !== apiEndpoint) {\n                this.apiEndpoint$.next(apiEndpoint);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"editingMode\", {\n        get: function() {\n            return this.editingMode$.value;\n        },\n        set: function(value) {\n            if (value !== this.editingMode) {\n                this.editingMode$.next(value);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"editingModel\", {\n        get: function() {\n            return this.editingModel$.value;\n        },\n        set: function(value) {\n            if (value !== this.editingModel) {\n                this.editingModel$.next(value);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.findParentElement = function(target, callback, checkElement) {\n        if (checkElement === void 0) {\n            checkElement = true;\n        }\n        if (!(target instanceof HTMLElement)) {\n            return null;\n        }\n        var parent1 = checkElement ? target : target.parentElement;\n        do {\n            if (!parent1) {\n                return null;\n            }\n            var matches = callback(parent1);\n            if (matches) {\n                return parent1;\n            }\n        }while (parent1 = parent1.parentElement);\n        return null;\n    };\n    Builder1.prototype.findBuilderParent = function(target) {\n        return this.findParentElement(target, function(el) {\n            var id = el.getAttribute('builder-id') || el.id;\n            return Boolean(id && id.indexOf('builder-') === 0);\n        });\n    };\n    Builder1.prototype.setUserAgent = function(userAgent) {\n        this.userAgent = userAgent || '';\n    };\n    /**\r\n     * Set a hook to modify events being tracked from builder, such as impressions and clicks\r\n     *\r\n     * For example, to track the model ID of each event associated with content for querying\r\n     * by mode, you can do\r\n     *\r\n     *    builder.setTrackingHook((event, context) => {\r\n     *      if (context.content) {\r\n     *        event.data.metadata.modelId = context.content.modelId\r\n     *      }\r\n     *    })\r\n     */ Builder1.prototype.setTrackingHook = function(hook) {\n        this.trackingHooks.push(hook);\n    };\n    Builder1.prototype.track = function(eventName, properties, context) {\n        if (properties === void 0) {\n            properties = {};\n        }\n        // TODO: queue up track requests and fire them off when canTrack set to true - otherwise may get lots of clicks with no impressions\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        var apiKey = this.apiKey;\n        if (!apiKey) {\n            console.error('Builder integration error: Looks like the Builder SDK has not been initialized properly (your API key has not been set). Make sure you are calling `builder.init(\"YOUR-API-KEY\");` as early as possible in your application\\'s code.');\n            return;\n        }\n        var eventData = JSON.parse(JSON.stringify({\n            type: eventName,\n            data: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, omit(properties, 'meta')), {\n                metadata: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n                    sdkVersion: Builder1.VERSION,\n                    url: location.href\n                }, properties.meta), properties.metadata),\n                ownerId: apiKey,\n                userAttributes: this.getUserAttributes(),\n                sessionId: this.sessionId,\n                visitorId: this.visitorId\n            })\n        }));\n        for(var _i = 0, _a = this.trackingHooks; _i < _a.length; _i++){\n            var hook = _a[_i];\n            var returnValue = hook(eventData, context || {});\n            if (returnValue) {\n                eventData = returnValue;\n            }\n        }\n        // batch events\n        this.eventsQueue.push(eventData);\n        if (this.canTrack) {\n            this.throttledClearEventsQueue();\n        }\n    };\n    Builder1.prototype.getSessionId = function() {\n        var _this = this;\n        var sessionId = null;\n        try {\n            if (Builder1.isBrowser && typeof sessionStorage !== 'undefined') {\n                sessionId = this.getCookie(sessionStorageKey);\n            }\n        } catch (err) {\n            console.debug('Session storage error', err);\n        // It's ok\n        }\n        if (!sessionId) {\n            sessionId = uuid();\n        }\n        // Give the app a second to start up and set canTrack to false if needed\n        if (Builder1.isBrowser) {\n            setTimeout(function() {\n                try {\n                    if (_this.canTrack) {\n                        _this.setCookie(sessionStorageKey, sessionId, datePlusMinutes(30));\n                    }\n                } catch (err) {\n                    console.debug('Cookie setting error', err);\n                }\n            });\n        }\n        return sessionId;\n    };\n    Builder1.prototype.getVisitorId = function() {\n        var _this = this;\n        if (this.visitorId) {\n            return this.visitorId;\n        }\n        var visitorId = null;\n        try {\n            if (Builder1.isBrowser && typeof localStorage !== 'undefined') {\n                // TODO: cookie instead?\n                visitorId = localStorage.getItem(localStorageKey);\n            }\n        } catch (err) {\n            console.debug('Local storage error', err);\n        // It's ok\n        }\n        if (!visitorId) {\n            visitorId = uuid();\n        }\n        this.visitorId = visitorId;\n        // Give the app a second to start up and set canTrack to false if needed\n        if (Builder1.isBrowser) {\n            setTimeout(function() {\n                try {\n                    if (_this.canTrack && typeof localStorage !== 'undefined' && visitorId) {\n                        localStorage.setItem(localStorageKey, visitorId);\n                    }\n                } catch (err) {\n                    console.debug('Session storage error', err);\n                }\n            });\n        }\n        return visitorId;\n    };\n    Builder1.prototype.trackImpression = function(contentId, variationId, properties, context) {\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        // TODO: use this.track method\n        this.track('impression', {\n            contentId: contentId,\n            variationId: variationId !== contentId ? variationId : undefined,\n            metadata: properties\n        }, context);\n    };\n    Builder1.prototype.trackConversion = function(amount, contentId, variationId, customProperties, context) {\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        var meta = typeof contentId === 'object' ? contentId : customProperties;\n        var useContentId = typeof contentId === 'string' ? contentId : undefined;\n        if (!useContentId && !contentId && this.contentId) {\n            useContentId = this.contentId;\n        }\n        var useVariationId = variationId;\n        if (!useVariationId && useContentId) {\n            useVariationId = this.getTestCookie(useContentId);\n        }\n        this.track('conversion', {\n            amount: amount,\n            variationId: useVariationId && useContentId && useVariationId !== useContentId ? useVariationId : undefined,\n            meta: meta,\n            contentId: useContentId\n        }, context);\n    };\n    Object.defineProperty(Builder1.prototype, \"isDevelopmentEnv\", {\n        // TODO: set this for QA\n        get: function() {\n            // Automatic determining of development environment\n            return Builder1.isIframe || Builder1.isBrowser && (location.hostname === 'localhost' || location.port !== '') || this.env !== 'production';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.trackInteraction = function(contentId, variationId, alreadyTrackedOne, event, context) {\n        if (alreadyTrackedOne === void 0) {\n            alreadyTrackedOne = false;\n        }\n        if (isIframe || !isBrowser || Builder1.isPreviewing) {\n            return;\n        }\n        var target = event && event.target;\n        var targetBuilderElement = target && this.findBuilderParent(target);\n        function round(num) {\n            return Math.round(num * 1000) / 1000;\n        }\n        var metadata = {};\n        if (event) {\n            var clientX = event.clientX, clientY = event.clientY;\n            if (target) {\n                var targetRect = target.getBoundingClientRect();\n                var xOffset = clientX - targetRect.left;\n                var yOffset = clientY - targetRect.top;\n                var xRatio = round(xOffset / targetRect.width);\n                var yRatio = round(yOffset / targetRect.height);\n                metadata.targetOffset = {\n                    x: xRatio,\n                    y: yRatio\n                };\n            }\n            if (targetBuilderElement) {\n                var targetRect = targetBuilderElement.getBoundingClientRect();\n                var xOffset = clientX - targetRect.left;\n                var yOffset = clientY - targetRect.top;\n                var xRatio = round(xOffset / targetRect.width);\n                var yRatio = round(yOffset / targetRect.height);\n                metadata.builderTargetOffset = {\n                    x: xRatio,\n                    y: yRatio\n                };\n            }\n        }\n        var builderId = targetBuilderElement && (targetBuilderElement.getAttribute('builder-id') || targetBuilderElement.id);\n        if (builderId && targetBuilderElement) {\n            metadata.builderElementIndex = [].slice.call(document.getElementsByClassName(builderId)).indexOf(targetBuilderElement);\n        }\n        this.track('click', {\n            contentId: contentId,\n            metadata: metadata,\n            variationId: variationId !== contentId ? variationId : undefined,\n            unique: !alreadyTrackedOne,\n            targetBuilderElement: builderId || undefined\n        }, context);\n    };\n    Builder1.prototype.component = function(info) {\n        if (info === void 0) {\n            info = {};\n        }\n        return Builder1.component(info);\n    };\n    Object.defineProperty(Builder1.prototype, \"apiKey\", {\n        get: function() {\n            return this.apiKey$.value;\n        },\n        set: function(key) {\n            this.apiKey$.next(key);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"contentId\", {\n        get: function() {\n            return this.contentId$.value;\n        },\n        set: function(id) {\n            this.contentId$.next(id);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Builder1.prototype, \"authToken\", {\n        get: function() {\n            return this.authToken$.value;\n        },\n        set: function(token) {\n            this.authToken$.next(token);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.modifySearch = function(search) {\n        return search.replace(/(^|&|\\?)(builder_.*?)=/gi, function(_match, group1, group2) {\n            return group1 + group2.replace(/_/g, '.') + '=';\n        });\n    };\n    Builder1.prototype.setTestsFromUrl = function() {\n        var search = this.getLocation().search;\n        try {\n            var params = QueryString.parseDeep(this.modifySearch(search || '').substr(1));\n            var tests = params.builder && params.builder.tests;\n            if (tests && typeof tests === 'object') {\n                for(var key in tests){\n                    if (tests.hasOwnProperty(key)) {\n                        this.setTestCookie(key, tests[key]);\n                    }\n                }\n            }\n        } catch (e) {\n            console.debug('Error parsing tests from URL', e);\n        }\n    };\n    Builder1.prototype.resetOverrides = function() {\n        // Ugly - pass down instances per request instead using react context\n        // or use builder.get('foo', { req, res }) in react...........\n        Builder1.overrideUserAttributes = {};\n        this.cachebust = false;\n        this.noCache = false;\n        this.preview = false;\n        this.editingModel = null;\n        this.overrides = {};\n        this.env = 'production';\n        this.userAgent = '';\n        this.request = undefined;\n        this.response = undefined;\n    };\n    Builder1.prototype.getOverridesFromQueryString = function() {\n        var location1 = this.getLocation();\n        try {\n            var params = QueryString.parseDeep(this.modifySearch(location1.search || '').substr(1));\n            var builder1 = params.builder;\n            if (builder1) {\n                var userAttributes = builder1.userAttributes, overrides = builder1.overrides, env = builder1.env, host = builder1.host, api = builder1.api, cachebust = builder1.cachebust, noCache = builder1.noCache, preview = builder1.preview, editing = builder1.editing, frameEditing = builder1.frameEditing, options = builder1.options, overrideParams = builder1.params;\n                if (userAttributes) {\n                    this.setUserAttributes(userAttributes);\n                }\n                if (options) {\n                    // picking only locale, includeRefs, and enrich for now\n                    this.queryOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, options.locale && {\n                        locale: options.locale\n                    }), options.includeRefs && {\n                        includeRefs: options.includeRefs\n                    }), options.enrich && {\n                        enrich: options.enrich\n                    });\n                }\n                if (overrides) {\n                    this.overrides = overrides;\n                }\n                if (validEnvList.indexOf(env || api) > -1) {\n                    this.env = env || api;\n                }\n                if (Builder1.isEditing) {\n                    var editingModel = frameEditing || editing || preview;\n                    if (editingModel && editingModel !== 'true') {\n                        this.editingModel = editingModel;\n                    }\n                }\n                if (cachebust) {\n                    this.cachebust = true;\n                }\n                if (noCache) {\n                    this.noCache = true;\n                }\n                if (preview) {\n                    this.preview = true;\n                }\n                if (params) {\n                    this.overrideParams = overrideParams;\n                }\n            }\n        } catch (e) {\n            console.debug('Error parsing overrides from URL', e);\n        }\n    };\n    Builder1.prototype.messageFrameLoaded = function() {\n        var _a;\n        (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n            type: 'builder.loaded',\n            data: {\n                value: true\n            }\n        }, '*');\n    };\n    Builder1.prototype.bindMessageListeners = function() {\n        var _this = this;\n        addEventListener('message', function(event) {\n            var _a, _b, _c, _d;\n            var isTrusted = Builder1.isTrustedHostForEvent(event);\n            if (!isTrusted) return;\n            var data = event.data;\n            if (data) {\n                switch(data.type){\n                    case 'builder.ping':\n                        {\n                            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                                type: 'builder.pong',\n                                data: {}\n                            }, '*');\n                            break;\n                        }\n                    case 'builder.register':\n                        {\n                            // TODO: possibly do this for all...\n                            if (event.source === window) {\n                                break;\n                            }\n                            var options = data.data;\n                            if (!options) {\n                                break;\n                            }\n                            var type = options.type, info = options.info;\n                            // TODO: all must have name and can't conflict?\n                            var typeList = Builder1.registry[type];\n                            if (!typeList) {\n                                typeList = Builder1.registry[type] = [];\n                            }\n                            typeList.push(info);\n                            Builder1.registryChange.next(Builder1.registry);\n                            break;\n                        }\n                    case 'builder.settingsChange':\n                        {\n                            // TODO: possibly do this for all...\n                            if (event.source === window) {\n                                break;\n                            }\n                            var settings = data.data;\n                            if (!settings) {\n                                break;\n                            }\n                            Object.assign(Builder1.settings, settings);\n                            Builder1.settingsChange.next(Builder1.settings);\n                            break;\n                        }\n                    case 'builder.registerEditor':\n                        {\n                            // TODO: possibly do this for all...\n                            if (event.source === window) {\n                                break;\n                            }\n                            var info_1 = data.data;\n                            if (!info_1) {\n                                break;\n                            }\n                            var hasComponent_1 = !!info_1.component;\n                            Builder1.editors.every(function(thisInfo, index) {\n                                if (info_1.name === thisInfo.name) {\n                                    if (thisInfo.component && !hasComponent_1) {\n                                        return false;\n                                    } else {\n                                        Builder1.editors[index] = thisInfo;\n                                    }\n                                    return false;\n                                }\n                                return true;\n                            });\n                            break;\n                        }\n                    case 'builder.triggerAnimation':\n                        {\n                            Builder1.animator.triggerAnimation(data.data);\n                            break;\n                        }\n                    case 'builder.contentUpdate':\n                        var key = data.data.key || data.data.alias || data.data.entry || data.data.modelName;\n                        var contentData = data.data.data; // hmmm...\n                        var observer = _this.observersByKey[key];\n                        if (observer && !_this.noEditorUpdates[key]) {\n                            observer.next([\n                                contentData\n                            ]);\n                        }\n                        break;\n                    case 'builder.getComponents':\n                        (_b = window.parent) === null || _b === void 0 ? void 0 : _b.postMessage({\n                            type: 'builder.components',\n                            data: Builder1.components.map(function(item) {\n                                return Builder1.prepareComponentSpecToSend(item);\n                            })\n                        }, '*');\n                        break;\n                    case 'builder.editingModel':\n                        _this.editingModel = data.data.model;\n                        break;\n                    case 'builder.registerComponent':\n                        var componentData = data.data;\n                        Builder1.addComponent(componentData);\n                        break;\n                    case 'builder.blockContentLoading':\n                        if (typeof data.data.model === 'string') {\n                            _this.blockContentLoading = data.data.model;\n                        }\n                        break;\n                    case 'builder.editingMode':\n                        var editingMode = data.data;\n                        if (editingMode) {\n                            _this.editingMode = true;\n                            document.body.classList.add('builder-editing');\n                        } else {\n                            _this.editingMode = false;\n                            document.body.classList.remove('builder-editing');\n                        }\n                        break;\n                    case 'builder.editingPageMode':\n                        var editingPageMode = data.data;\n                        Builder1.editingPage = editingPageMode;\n                        break;\n                    case 'builder.overrideUserAttributes':\n                        var userAttributes = data.data;\n                        assign(Builder1.overrideUserAttributes, userAttributes);\n                        _this.flushGetContentQueue(true);\n                        break;\n                    case 'builder.overrideTestGroup':\n                        var _e = data.data, variationId = _e.variationId, contentId = _e.contentId;\n                        if (variationId && contentId) {\n                            _this.setTestCookie(contentId, variationId);\n                            _this.flushGetContentQueue(true);\n                        }\n                        break;\n                    case 'builder.evaluate':\n                        {\n                            var text = data.data.text;\n                            var args = data.data.arguments || [];\n                            var id_1 = data.data.id;\n                            // tslint:disable-next-line:no-function-constructor-with-string-args\n                            var fn = new Function(text);\n                            var result = void 0;\n                            var error = null;\n                            try {\n                                result = fn.apply(_this, args);\n                            } catch (err) {\n                                error = toError(err);\n                            }\n                            if (error) {\n                                (_c = window.parent) === null || _c === void 0 ? void 0 : _c.postMessage({\n                                    type: 'builder.evaluateError',\n                                    data: {\n                                        id: id_1,\n                                        error: error.message\n                                    }\n                                }, '*');\n                            } else {\n                                if (result && typeof result.then === 'function') {\n                                    result.then(function(finalResult) {\n                                        var _a;\n                                        (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                                            type: 'builder.evaluateResult',\n                                            data: {\n                                                id: id_1,\n                                                result: finalResult\n                                            }\n                                        }, '*');\n                                    }).catch(console.error);\n                                } else {\n                                    (_d = window.parent) === null || _d === void 0 ? void 0 : _d.postMessage({\n                                        type: 'builder.evaluateResult',\n                                        data: {\n                                            result: result,\n                                            id: id_1\n                                        }\n                                    }, '*');\n                                }\n                            }\n                            break;\n                        }\n                }\n            }\n        });\n    };\n    Object.defineProperty(Builder1.prototype, \"defaultCanTrack\", {\n        get: function() {\n            return Boolean(Builder1.isBrowser && navigator.userAgent.trim() && !navigator.userAgent.match(/bot|crawler|spider|robot|crawling|prerender|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex|phantom|headless|selenium|puppeteer/i) && !this.browserTrackingDisabled);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.init = function(apiKey, canTrack, req, res, authToken, apiVersion) {\n        if (canTrack === void 0) {\n            canTrack = this.defaultCanTrack;\n        }\n        if (req) {\n            this.request = req;\n        }\n        if (res) {\n            this.response = res;\n        }\n        if (!this.hasOverriddenCanTrack) {\n            this.canTrack = canTrack;\n        }\n        this.apiKey = apiKey;\n        if (authToken) {\n            this.authToken = authToken;\n        }\n        if (apiVersion) {\n            this.apiVersion = apiVersion;\n        }\n        return this;\n    };\n    Object.defineProperty(Builder1.prototype, \"previewingModel\", {\n        get: function() {\n            var search = this.getLocation().search;\n            var params = QueryString.parse((search || '').substr(1));\n            return params['builder.preview'];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // TODO: allow adding location object as property and/or in constructor\n    Builder1.prototype.getLocation = function() {\n        var _a;\n        var parsedLocation = {};\n        // in ssr mode\n        if (this.request) {\n            parsedLocation = parse((_a = this.request.url) !== null && _a !== void 0 ? _a : '');\n        } else if (typeof location === 'object') {\n            // in the browser\n            parsedLocation = parse(location.href);\n        }\n        // IE11 bug with parsed path being empty string\n        // causes issues with our user targeting\n        if (parsedLocation.pathname === '') {\n            parsedLocation.pathname = '/';\n        }\n        return parsedLocation;\n    };\n    Builder1.prototype.getUserAttributes = function(userAgent) {\n        if (userAgent === void 0) {\n            userAgent = this.userAgent || '';\n        }\n        var isMobile = {\n            Android: function() {\n                return userAgent.match(/Android/i);\n            },\n            BlackBerry: function() {\n                return userAgent.match(/BlackBerry/i);\n            },\n            iOS: function() {\n                return userAgent.match(/iPhone|iPod/i);\n            },\n            Opera: function() {\n                return userAgent.match(/Opera Mini/i);\n            },\n            Windows: function() {\n                return userAgent.match(/IEMobile/i) || userAgent.match(/WPDesktop/i);\n            },\n            any: function() {\n                return isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows();\n            }\n        };\n        var isTablet = userAgent.match(/Tablet|iPad/i);\n        var url = this.getLocation();\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            urlPath: url.pathname,\n            host: url.host || url.hostname,\n            // TODO: maybe an option to choose to target off of mobile/tablet/desktop or just mobile/desktop\n            device: isTablet ? 'tablet' : isMobile.any() ? 'mobile' : 'desktop'\n        }, Builder1.overrideUserAttributes);\n    };\n    Builder1.prototype.setUserAttributes = function(options) {\n        assign(Builder1.overrideUserAttributes, options);\n        if (this.canTrack) {\n            this.setCookie(Builder1.attributesCookieName, JSON.stringify(this.getUserAttributes()));\n        }\n        this.userAttributesChanged.next(options);\n    };\n    /**\r\n     * Set user attributes just for tracking purposes.\r\n     *\r\n     * Do this so properties exist on event objects for querying insights, but\r\n     * won't affect targeting\r\n     *\r\n     * Use this when you want to track properties but don't need to target off\r\n     * of them to optimize cache efficiency\r\n     */ Builder1.prototype.setTrackingUserAttributes = function(attributes) {\n        assign(this.trackingUserAttributes, attributes);\n    };\n    Builder1.prototype.get = function(modelName, options) {\n        var _a;\n        if (options === void 0) {\n            options = {};\n        }\n        var instance = this;\n        var finalLocale = options.locale || ((_a = options.userAttributes) === null || _a === void 0 ? void 0 : _a.locale) || this.getUserAttributes().locale;\n        if (!('noTraverse' in options)) {\n            options.noTraverse = false;\n        }\n        var finalOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, options), finalLocale && {\n            locale: String(finalLocale),\n            userAttributes: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n                locale: String(finalLocale)\n            }, options.userAttributes)\n        });\n        if (!Builder1.isBrowser) {\n            instance = new Builder1(options.apiKey || this.apiKey, options.req, options.res, undefined, options.authToken || this.authToken, options.apiVersion || this.apiVersion);\n            instance.apiEndpoint = this.apiEndpoint;\n            instance.setUserAttributes(this.getUserAttributes());\n        } else {\n            // NOTE: All these are when .init is not called and the customer\n            // directly calls .get on the singleton instance of Builder\n            if (options.apiKey && !this.apiKey) {\n                this.apiKey = options.apiKey;\n            }\n            if (options.authToken && !this.authToken) {\n                this.authToken = options.authToken;\n            }\n            if (options.apiVersion && !this.apiVersion) {\n                this.apiVersion = options.apiVersion;\n            }\n        }\n        return instance.queueGetContent(modelName, finalOptions).map(/* map( */ function(matches) {\n            var match = matches && matches[0];\n            if (Builder1.isStatic) {\n                return match;\n            }\n            var matchData = match && match.data;\n            if (!matchData) {\n                return null;\n            }\n            if (typeof matchData.blocksString !== 'undefined') {\n                matchData.blocks = JSON.parse(matchData.blocksString);\n                delete matchData.blocksString;\n            }\n            return {\n                // TODO: add ab test info here and other high level stuff\n                data: matchData,\n                id: match.id,\n                variationId: match.testVariationId || match.variationId || null,\n                testVariationId: match.testVariationId || match.variationId || null,\n                testVariationName: match.testVariationName || null,\n                lastUpdated: match.lastUpdated || null\n            };\n        });\n    // );\n    };\n    // TODO: entry id in options\n    Builder1.prototype.queueGetContent = function(modelName, options) {\n        var _this = this;\n        if (options === void 0) {\n            options = {};\n        }\n        // TODO: if query do modelName + query\n        var key = options.key || options.alias || // TODO: SDKs only pass entry key when given to them, and never when editing...\n        // options.entry ||\n        // TODO: this is ugly - instead of multiple of same model with different options are sent\n        // say requires key/alias. Or if not perhaps make a reliable hash of the options and use that.\n        // TODO: store last user state on last request and if user attributes different now\n        // give a warning that need to use keys to request new contente\n        // (options &&\n        //   Object.keys(options).filter(key => key !== 'model').length &&\n        //   JSON.stringify({ model: modelName, ...options, initialContent: undefined })) ||\n        modelName;\n        var isEditingThisModel = this.editingModel === modelName;\n        // TODO: include params in this key........\n        var currentObservable = this.observersByKey[key];\n        // if (options.query && options.query._id) {\n        //   this.flushGetContentQueue([options])\n        // }\n        if (this.apiKey === 'DEMO' && !this.overrides[key] && !options.initialContent) {\n            options.initialContent = [];\n        }\n        var initialContent = options.initialContent;\n        // TODO: refresh option in options\n        if (currentObservable && (!currentObservable.value || options.cache)) {\n            // TODO: test if this ran, otherwise on 404 some observers may never be called...\n            if (currentObservable.value) {\n                nextTick(function() {\n                    // TODO: return a new observable and only that one fires subscribers, don't refire for existing ones\n                    currentObservable.next(currentObservable.value);\n                });\n            }\n            return currentObservable;\n        }\n        if (isEditingThisModel) {\n            if (Builder1.isBrowser) {\n                parent.postMessage({\n                    type: 'builder.updateContent',\n                    data: {\n                        options: options\n                    }\n                }, '*');\n            }\n        }\n        if (!initialContent /* || isEditingThisModel */ ) {\n            if (!this.getContentQueue) {\n                this.getContentQueue = [];\n            }\n            this.getContentQueue.push((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, options), {\n                model: modelName,\n                key: key\n            }));\n            if (this.getContentQueue && this.getContentQueue.length >= this.contentPerRequest) {\n                var queue_1 = this.getContentQueue.slice();\n                this.getContentQueue = [];\n                nextTick(function() {\n                    _this.flushGetContentQueue(false, queue_1);\n                });\n            } else {\n                nextTick(function() {\n                    _this.flushGetContentQueue();\n                });\n            }\n        }\n        var observable = new BehaviorSubject(null);\n        this.observersByKey[key] = observable;\n        if (options.noEditorUpdates) {\n            this.noEditorUpdates[key] = true;\n        }\n        if (initialContent) {\n            nextTick(function() {\n                // TODO: need to testModify this I think...?\n                observable.next(initialContent);\n            });\n        }\n        return observable;\n    };\n    // this is needed to satisfy the Angular SDK, which used to rely on the more complex version of `requestUrl`.\n    // even though we only use `fetch()` now, we prefer to keep the old behavior and use the `fetch` that comes from\n    // the core SDK for consistency\n    Builder1.prototype.requestUrl = function(url, options) {\n        return getFetch()(url, this.addSdkHeaders(options)).then(function(res) {\n            return res.json();\n        });\n    };\n    Object.defineProperty(Builder1.prototype, \"host\", {\n        get: function() {\n            switch(this.env){\n                case 'qa':\n                    return 'https://qa.builder.io';\n                case 'test':\n                    return 'https://builder-io-test.web.app';\n                case 'fast':\n                    return 'https://fast.builder.io';\n                case 'cloud':\n                    return 'https://cloud.builder.io';\n                case 'cdn2':\n                    return 'https://cdn2.builder.io';\n                case 'cdn-qa':\n                    return 'https://cdn-qa.builder.io';\n                case 'development':\n                case 'dev':\n                    return 'http://localhost:5000';\n                case 'cdn-prod':\n                    return 'https://cdn.builder.io';\n                default:\n                    return Builder1.overrideHost || 'https://cdn.builder.io';\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Builder1.prototype.getSdkHeaders = function() {\n        if (!Builder1.sdkInfo) {\n            return {};\n        }\n        return {\n            'X-Builder-SDK': Builder1.sdkInfo.name,\n            'X-Builder-SDK-GEN': '1',\n            'X-Builder-SDK-Version': Builder1.sdkInfo.version\n        };\n    };\n    Builder1.prototype.addSdkHeaders = function(fetchOptions) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, fetchOptions), {\n            headers: (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, fetchOptions.headers), this.getSdkHeaders())\n        });\n    };\n    Builder1.prototype.makeFetchApiCall = function(url, requestOptions) {\n        return getFetch()(url, this.addSdkHeaders(requestOptions));\n    };\n    /**\r\n     * Flatten a nested MongoDB query object into a flat object with dot-separated keys.\r\n     * $ keys are not flattened and are left as is.\r\n     *\r\n     * { foo: { bar: { $gt: 5 }}} -> { 'foo.bar': { '$gt': 5 }}\r\n     * { foo: {'bar.id': { $elemMatch: { 'baz.id': { $in: ['abc', 'bcd'] }}}}} -> { 'foo.bar.id': { '$elemMatch': { 'baz.id': { '$in': ['abc', 'bcd'] }}}}\r\n     */ Builder1.prototype.flattenMongoQuery = function(obj, _current, _res) {\n        if (_res === void 0) {\n            _res = {};\n        }\n        for(var key in obj){\n            var value = obj[key];\n            var newKey = _current ? _current + '.' + key : key;\n            if (value && typeof value === 'object' && !Array.isArray(value) && !Object.keys(value).find(function(item) {\n                return item.startsWith('$');\n            })) {\n                this.flattenMongoQuery(value, newKey, _res);\n            } else {\n                _res[newKey] = value;\n            }\n        }\n        return _res;\n    };\n    Builder1.prototype.flushGetContentQueue = function(usePastQueue, useQueue) {\n        var _this = this;\n        var _a, _b;\n        if (usePastQueue === void 0) {\n            usePastQueue = false;\n        }\n        if (!this.apiKey) {\n            throw new Error(\"Fetching content failed, expected apiKey to be defined instead got: \".concat(this.apiKey));\n        }\n        if (this.apiVersion) {\n            if (![\n                'v1',\n                'v3'\n            ].includes(this.apiVersion)) {\n                throw new Error(\"Invalid apiVersion: expected 'v1' or 'v3', received '\".concat(this.apiVersion, \"'\"));\n            }\n        } else {\n            this.apiVersion = DEFAULT_API_VERSION;\n        }\n        if (!usePastQueue && !this.getContentQueue) {\n            return;\n        }\n        var queue = useQueue || (usePastQueue ? this.priorContentQueue : this.getContentQueue) || [];\n        // TODO: do this on every request send?\n        this.getOverridesFromQueryString();\n        var queryParams = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            // TODO: way to force a request to be in a separate queue. or just lower queue limit to be 1 by default\n            omit: (_a = queue[0].omit) !== null && _a !== void 0 ? _a : 'meta.componentsUsed',\n            apiKey: this.apiKey\n        }, queue[0].options), this.queryOptions);\n        if (queue[0].locale) {\n            queryParams.locale = queue[0].locale;\n        }\n        if (queue[0].fields) {\n            queryParams.fields = queue[0].fields;\n        }\n        if (queue[0].format) {\n            queryParams.format = queue[0].format;\n        }\n        if ('noTraverse' in queue[0]) {\n            queryParams.noTraverse = queue[0].noTraverse;\n        }\n        if ('includeUnpublished' in queue[0]) {\n            queryParams.includeUnpublished = queue[0].includeUnpublished;\n        }\n        if (queue[0].sort) {\n            queryParams.sort = queue[0].sort;\n        }\n        var pageQueryParams = (typeof location !== 'undefined' ? QueryString.parseDeep(location.search.substr(1)) : undefined) || {}; // TODO: WHAT about SSR (this.request) ?\n        var userAttributes = // FIXME: HACK: only checks first in queue for user attributes overrides, should check all\n        // TODO: merge user attributes provided here with defaults and current user attiributes (?)\n        queue && queue[0].userAttributes ? queue[0].userAttributes : this.targetContent ? this.getUserAttributes() : {\n            urlPath: this.getLocation().pathname\n        };\n        var fullUrlQueueItem = queue.find(function(item) {\n            return !!item.includeUrl;\n        });\n        if (fullUrlQueueItem) {\n            var location_1 = this.getLocation();\n            if (location_1.origin) {\n                queryParams.url = \"\".concat(location_1.origin).concat(location_1.pathname).concat(location_1.search);\n            }\n        }\n        var urlQueueItem = useQueue === null || useQueue === void 0 ? void 0 : useQueue.find(function(item) {\n            return item.url;\n        });\n        if (urlQueueItem === null || urlQueueItem === void 0 ? void 0 : urlQueueItem.url) {\n            userAttributes.urlPath = urlQueueItem.url.split('?')[0];\n        }\n        // TODO: merge in the attribute from query string ones\n        // TODO: make this an option per component/request\n        queryParams.userAttributes = JSON.stringify(userAttributes);\n        if (!usePastQueue && !useQueue) {\n            this.priorContentQueue = queue;\n            this.getContentQueue = null;\n        }\n        var cachebust = this.cachebust || isIframe || pageQueryParams.cachebust || pageQueryParams['builder.cachebust'];\n        if (cachebust || this.env !== 'production') {\n            queryParams.cachebust = true;\n        }\n        if (Builder1.isEditing) {\n            queryParams.isEditing = true;\n        }\n        if (this.noCache || this.env !== 'production') {\n            queryParams.noCache = true;\n        }\n        if (size(this.overrides)) {\n            for(var key in this.overrides){\n                if (this.overrides.hasOwnProperty(key)) {\n                    queryParams[\"overrides.\".concat(key)] = this.overrides[key];\n                }\n            }\n        }\n        for(var _i = 0, queue_2 = queue; _i < queue_2.length; _i++){\n            var options = queue_2[_i];\n            var format_1 = options.format;\n            if (format_1) {\n                queryParams.format = format_1;\n            }\n            // TODO: remove me and make permodel\n            if (options.static) {\n                queryParams.static = options.static;\n            }\n            if (options.cachebust) {\n                queryParams.cachebust = options.cachebust;\n            }\n            if (isPositiveNumber(options.cacheSeconds)) {\n                queryParams.cacheSeconds = options.cacheSeconds;\n            }\n            if (isPositiveNumber(options.staleCacheSeconds)) {\n                queryParams.staleCacheSeconds = options.staleCacheSeconds;\n            }\n            if (this.apiEndpoint === 'content') {\n                queryParams.includeRefs = true;\n            }\n            if (this.apiEndpoint === 'query') {\n                if ('enrich' in options && options.enrich !== undefined) {\n                    queryParams.enrich = options.enrich;\n                }\n                if (options.enrichOptions) {\n                    this.flattenEnrichOptions(options.enrichOptions, 'enrichOptions', queryParams);\n                }\n            }\n            var properties = [\n                'prerender',\n                'extractCss',\n                'limit',\n                'offset',\n                'query',\n                'preview',\n                'model',\n                'entry',\n                'rev',\n                'static',\n                'includeRefs'\n            ];\n            for(var _c = 0, properties_1 = properties; _c < properties_1.length; _c++){\n                var key = properties_1[_c];\n                var value = options[key];\n                if (value !== undefined) {\n                    if (this.apiEndpoint === 'query') {\n                        queryParams.options = queryParams.options || {};\n                        queryParams.options[options.key] = queryParams.options[options.key] || {};\n                        queryParams.options[options.key][key] = JSON.stringify(value);\n                    } else {\n                        queryParams[key] = JSON.stringify(value);\n                    }\n                }\n            }\n            // Handle enrich and enrichOptions for content endpoint\n            if (this.apiEndpoint === 'content') {\n                if ('enrich' in options && options.enrich !== undefined) {\n                    queryParams.enrich = options.enrich;\n                }\n                if (options.enrichOptions) {\n                    this.flattenEnrichOptions(options.enrichOptions, 'enrichOptions', queryParams);\n                }\n            }\n        }\n        if (this.preview && this.previewingModel === ((_b = queue === null || queue === void 0 ? void 0 : queue[0]) === null || _b === void 0 ? void 0 : _b.model)) {\n            queryParams.preview = 'true';\n        }\n        var hasParams = Object.keys(queryParams).length > 0;\n        // TODO: option to force dev or qa api here\n        var host = this.host;\n        var keyNames = queue.map(function(item) {\n            return encodeURIComponent(item.key);\n        }).join(',');\n        if (this.overrideParams) {\n            var params = omit(QueryString.parse(this.overrideParams), 'apiKey');\n            assign(queryParams, params);\n        }\n        var format = queryParams.format;\n        var isApiCallForCodegen = format === 'solid' || format === 'react';\n        var isApiCallForCodegenOrQuery = isApiCallForCodegen || this.apiEndpoint === 'query';\n        if (this.apiEndpoint === 'content') {\n            if (queue[0].query) {\n                delete queryParams.query;\n                var objectToFlatten = {\n                    query: queue[0].query\n                };\n                var flattened = this.flattenMongoQuery(objectToFlatten);\n                for(var key in flattened){\n                    queryParams[key] = JSON.stringify(flattened[key]);\n                }\n            }\n        }\n        var queryStr = QueryString.stringifyDeep(queryParams);\n        var fetchOptions = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            headers: {}\n        }, queue[0].fetchOptions);\n        if (this.authToken) {\n            fetchOptions.headers = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, fetchOptions.headers), {\n                Authorization: \"Bearer \".concat(this.authToken)\n            });\n        }\n        var url;\n        if (isApiCallForCodegen) {\n            url = \"\".concat(host, \"/api/v1/codegen/\").concat(this.apiKey, \"/\").concat(keyNames);\n        } else if (this.apiEndpoint === 'query') {\n            url = \"\".concat(host, \"/api/v3/query/\").concat(this.apiKey, \"/\").concat(keyNames);\n        } else {\n            url = \"\".concat(host, \"/api/v3/content/\").concat(queue[0].model);\n        }\n        url = url + (queryParams && hasParams ? \"?\".concat(queryStr) : '');\n        var promise = this.makeFetchApiCall(url, fetchOptions).then(function(res) {\n            return res.json();\n        }).then(function(result) {\n            for(var _i = 0, queue_3 = queue; _i < queue_3.length; _i++){\n                var options = queue_3[_i];\n                var keyName = options.key;\n                if (options.model === _this.blockContentLoading && !options.noEditorUpdates) {\n                    continue;\n                }\n                var isEditingThisModel = _this.editingModel === options.model;\n                if (isEditingThisModel && Builder1.isEditing) {\n                    parent.postMessage({\n                        type: 'builder.updateContent',\n                        data: {\n                            options: options\n                        }\n                    }, '*');\n                // return;\n                }\n                var observer = _this.observersByKey[keyName];\n                if (!observer) {\n                    return;\n                }\n                var data = isApiCallForCodegenOrQuery ? result[keyName] : result.results;\n                var sorted = data; // sortBy(data, item => item.priority);\n                if (data) {\n                    var testModifiedResults = Builder1.isServer ? sorted : _this.processResultsForTests(sorted);\n                    observer.next(testModifiedResults);\n                } else {\n                    var search = _this.getLocation().search;\n                    if ((search || '').includes('builder.preview=' + options.model)) {\n                        var previewData = {\n                            id: 'preview',\n                            name: 'Preview',\n                            data: {}\n                        };\n                        observer.next([\n                            previewData\n                        ]);\n                    }\n                    observer.next([]);\n                }\n            }\n        }, function(err) {\n            for(var _i = 0, queue_4 = queue; _i < queue_4.length; _i++){\n                var options = queue_4[_i];\n                var observer = _this.observersByKey[options.key];\n                if (!observer) {\n                    return;\n                }\n                observer.error(err);\n            }\n        });\n        return promise;\n    };\n    Builder1.prototype.processResultsForTests = function(results) {\n        var _this = this;\n        var _a;\n        var mappedResults = results.map(function(item) {\n            if (!item.variations) {\n                return item;\n            }\n            var cookieValue = _this.getTestCookie(item.id);\n            var cookieVariation = cookieValue === item.id ? item : item.variations[cookieValue];\n            if (cookieVariation) {\n                return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, item), {\n                    data: cookieVariation.data,\n                    variationId: cookieValue,\n                    testVariationId: cookieValue,\n                    testVariationName: cookieVariation.name\n                });\n            }\n            if (_this.canTrack && item.variations && size(item.variations)) {\n                var n = 0;\n                var random = Math.random();\n                for(var id in item.variations){\n                    var variation = item.variations[id];\n                    var testRatio = variation.testRatio;\n                    n += testRatio;\n                    if (random < n) {\n                        _this.setTestCookie(item.id, variation.id);\n                        var variationName = variation.name || (variation.id === item.id ? 'Default variation' : '');\n                        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, item), {\n                            data: variation.data,\n                            variationId: variation.id,\n                            testVariationId: variation.id,\n                            variationName: variationName,\n                            testVariationName: variationName\n                        });\n                    }\n                }\n                _this.setTestCookie(item.id, item.id);\n            }\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, item), {\n                variationId: item.id\n            }), item.variations && size(item.variations) && {\n                testVariationId: item.id,\n                testVariationName: 'Default variation'\n            });\n        });\n        if (isIframe) {\n            (_a = window.parent) === null || _a === void 0 ? void 0 : _a.postMessage({\n                type: 'builder.contentResults',\n                data: {\n                    results: mappedResults\n                }\n            }, '*');\n        }\n        return mappedResults;\n    };\n    Builder1.prototype.getTestCookie = function(contentId) {\n        return this.getCookie(\"\".concat(this.testCookiePrefix, \".\").concat(contentId));\n    };\n    Builder1.prototype.setTestCookie = function(contentId, variationId) {\n        if (!this.canTrack) {\n            this.cookieQueue.push([\n                contentId,\n                variationId\n            ]);\n            return;\n        }\n        // 30 days from now\n        var future = new Date();\n        future.setDate(future.getDate() + 30);\n        return this.setCookie(\"\".concat(this.testCookiePrefix, \".\").concat(contentId), variationId, future);\n    };\n    Builder1.prototype.getCookie = function(name) {\n        if (this.cookies) {\n            return this.cookies.get(name);\n        }\n        return Builder1.isBrowser && getCookie(name);\n    };\n    Builder1.prototype.setCookie = function(name, value, expires) {\n        if (this.cookies && !(Builder1.isServer && Builder1.isStatic)) {\n            return this.cookies.set(name, value, {\n                expires: expires,\n                secure: this.getLocation().protocol === 'https:'\n            });\n        }\n        return Builder1.isBrowser && setCookie(name, value, expires);\n    };\n    /**\r\n     * Recursively flattens enrichOptions object into dot-notation query parameters\r\n     * @private\r\n     */ Builder1.prototype.flattenEnrichOptions = function(obj, prefix, result) {\n        for(var _i = 0, _a = Object.entries(obj); _i < _a.length; _i++){\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            var newKey = \"\".concat(prefix, \".\").concat(key);\n            if (value && typeof value === 'object' && !Array.isArray(value)) {\n                this.flattenEnrichOptions(value, newKey, result);\n            } else {\n                result[newKey] = value;\n            }\n        }\n    };\n    Builder1.prototype.getContent = function(modelName, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        if (!this.apiKey) {\n            throw new Error(\"Fetching content from model \".concat(modelName, \" failed, expected apiKey to be defined instead got: \").concat(this.apiKey));\n        }\n        return this.queueGetContent(modelName, options);\n    };\n    Builder1.prototype.getAll = function(modelName, options) {\n        if (options === void 0) {\n            options = {};\n        }\n        var instance = this;\n        if (!Builder1.isBrowser) {\n            instance = new Builder1(options.apiKey || this.apiKey, options.req, options.res, false, options.authToken || this.authToken, options.apiVersion || this.apiVersion);\n            instance.setUserAttributes(this.getUserAttributes());\n        } else {\n            // NOTE: All these are when .init is not called and the customer\n            // directly calls .get on the singleton instance of Builder\n            if (options.apiKey && !this.apiKey) {\n                this.apiKey = options.apiKey;\n            }\n            if (options.authToken && !this.authToken) {\n                this.authToken = options.authToken;\n            }\n            if (options.apiVersion && !this.apiVersion) {\n                this.apiVersion = options.apiVersion;\n            }\n        }\n        // Set noTraverse=true if NOT already passed by user, for query performance\n        if (!('noTraverse' in options)) {\n            options.noTraverse = true;\n        }\n        return instance.getContent(modelName, (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({\n            limit: 30\n        }, options), {\n            key: options.key || // Make the key include all options, so we don't reuse cache for the same content fetched\n            // with different options\n            Builder1.isBrowser ? \"\".concat(modelName, \":\").concat(hash_sum__WEBPACK_IMPORTED_MODULE_0___default()(omit(options, 'initialContent', 'req', 'res'))) : undefined\n        })).promise();\n    };\n    Builder1.VERSION = SDK_VERSION;\n    Builder1.components = [];\n    /**\r\n     * Makes it so that a/b tests generate code like {@link\r\n     * https://www.builder.io/blog/high-performance-no-code#__next:~:text=Static%20generated%20A%2FB%20testing}\r\n     * instead of the old way where we render only one test group at a time on the\r\n     * server. This is the preferred/better way not and we should ultimately make it\r\n     * the default\r\n     */ Builder1.isStatic = true;\n    Builder1.animator = new Animator();\n    Builder1.nextTick = nextTick;\n    Builder1.throttle = throttle;\n    Builder1.editors = [];\n    Builder1.trustedHosts = [\n        '*.beta.builder.io',\n        'beta.builder.io',\n        'builder.io',\n        'localhost',\n        'qa.builder.io'\n    ];\n    Builder1.plugins = [];\n    Builder1.actions = [];\n    Builder1.registry = {};\n    Builder1.attributesCookieName = 'builder.userAttributes';\n    Builder1.registryChange = new BehaviorSubject({});\n    Builder1._editingPage = false;\n    Builder1.isIframe = isIframe;\n    Builder1.isBrowser = isBrowser;\n    Builder1.isReactNative = isReactNative;\n    Builder1.isServer = !isBrowser && !isReactNative;\n    Builder1.previewingModel = Builder1.isBrowser && getQueryParam(location.href, 'builder.preview');\n    Builder1.settings = {};\n    Builder1.settingsChange = new BehaviorSubject({});\n    // TODO: this is quick and dirty, do better implementation later. Also can be unreliable\n    // if page 301s etc. Use a query param instead? also could have issues with redirects. Injecting var could\n    // work but is async...\n    Builder1.isEditing = Boolean(isIframe && (document.referrer && document.referrer.match(/builder\\.io|localhost:1234/) || location.search.indexOf('builder.frameEditing=') !== -1));\n    Builder1.isPreviewing = Boolean(isBrowser && (location.search.indexOf('builder.preview=') !== -1 || location.search.indexOf('builder.frameEditing=') !== -1));\n    Builder1.isReact = false;\n    Builder1.sdkInfo = undefined;\n    Builder1.overrideUserAttributes = {};\n    return Builder1;\n}();\nvar builder = new Builder(null, undefined, undefined, true);\nBuilder.singletonInstance = builder;\n //# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJ1aWxkZXIuaW8vc2RrL2Rpc3QvaW5kZXguZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUMsWUFBWTtJQUNYLElBQUksSUFBeUUsRUFBRSxPQUFPLEtBQUssQ0FBQztJQUU1RixTQUFTLFdBQVcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFO1FBQ2xDLE1BQU0sR0FBRyxNQUFNLElBQUk7WUFBRSxPQUFPLEVBQUUsS0FBSztZQUFFLFVBQVUsRUFBRSxLQUFLO1lBQUUsTUFBTSxFQUFFLElBQUk7UUFBQSxDQUFFLENBQUM7UUFDdkUsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM5QyxHQUFHLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdFLE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBRztJQUVELE1BQU0sQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO0NBQ25DLENBQUMsR0FBRztBQ1hKLElBQU0sUUFBUSxHQUNaLE1BQTZCLElBQzdCLENBQWlFLENBQUM7QUFFcEUsSUFBTSxRQUFRLEdBQUcsT0FBTyxNQUFNLEdBQUssV0FBVyxDQUFDO0FBRS9DO0FBQ00sU0FBVSxRQUFRLENBQUMsRUFBYzs7Ozs7OztJQU9yQyxJQUFJLENBQUMsUUFBUSxJQUFJLFFBQVEsSUFBSSxPQUFPLGdCQUFnQixLQUFLLFdBQVcsRUFBRTtRQUNwRSxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDZixPQUFPO0lBQ1I7SUFDRCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDZixJQUFNLFFBQVEsR0FBRyxJQUFJLGdCQUFnQixDQUFDO1FBQU0sU0FBRSxFQUFFO0lBQUEsRUFBQyxDQUFDO0lBQ2xELElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENB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QUFDLENBQUM7UUFDakIsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ2xCLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksS0FBSyxFQUFFLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDekMsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxLQUFLLEVBQUUsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUN6QyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDbEIsR0FBRyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNsQixHQUFHLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFDMUIsR0FBRyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDO0lBQzlDO0lBRUQsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3RCLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUIsR0FBRyxDQUFDLElBQUksR0FBRyxVQUFHLENBQUMsQ0FBQyxRQUFRLFNBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBRSxDQUFDO0lBQ3RDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQztJQUUxQixPQUFPLEdBQUcsQ0FBQztBQUNiO0FDdkRBOzs7Ozs7Ozs7OztDQVdHLEdBQ0csU0FBVSxPQUFPLENBQUMsR0FBWTtJQUNsQyxJQUFJLEdBQUcsWUFBWSxLQUFLLEVBQUUsT0FBTyxHQUFHLENBQUM7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QVEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLDRCQUE0QixDQUFDLElBQzFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLHVCQUF1QixDQUFDLEtBQUssRUFBQyxDQUFDLENBQUMsQ0FDN0Q7SUFFTSxPQUFZLGlCQUFHLE9BQU8sQ0FDM0IsU0FBUyxLQUNOLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDLElBQ2pELFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLHVCQUF1QixDQUFDLEtBQUssRUFBQyxDQUFDLENBQUMsQ0FDN0Q7SUFrSU0sT0FBTyxZQUFHLEtBQUssQ0FBQztJQUNoQixPQUFPLFlBQUcsU0FLSixDQUFDO0lBdWNQLE9BQXNCLDJCQUE0QixFQUFFLENBQUM7SUEreEM5RCxPQUFDO0FBQUEsQ0F6a0VELEVBeWtFQztBQzcvRk0sSUFBTSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFO0FBQ3JFLE9BQU8sQ0FBQyxpQkFBaUIsR0FBRyxPQUFPIiwic291cmNlcyI6WyIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL3BvbHlmaWxscy9jdXN0b20tZXZlbnQtcG9seWZpbGwuanMiLCIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL2Z1bmN0aW9ucy9uZXh0LXRpY2suZnVuY3Rpb24udHMiLCIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL2NsYXNzZXMvcXVlcnktc3RyaW5nLmNsYXNzLnRzIiwiL2hvbWUvYmFuZGFyb2YvR2l0aHViL3NyYy9jbGFzc2VzL29ic2VydmFibGUuY2xhc3MudHMiLCIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL2NsYXNzZXMvcHJvbWlzZS5jbGFzcy50cyIsIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9zcmMvZnVuY3Rpb25zL3NlcnZlci1vbmx5LXJlcXVpcmUuZnVuY3Rpb24udHMiLCIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL2Z1bmN0aW9ucy9mZXRjaC5mdW5jdGlvbi50cyIsIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9zcmMvZnVuY3Rpb25zL2Fzc2lnbi5mdW5jdGlvbi50cyIsIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9zcmMvZnVuY3Rpb25zL3Rocm90dGxlLmZ1bmN0aW9uLnRzIiwiL2hvbWUvYmFuZGFyb2YvR2l0aHViL3NyYy9jbGFzc2VzL2FuaW1hdG9yLmNsYXNzLnRzIiwiL2hvbWUvYmFuZGFyb2YvR2l0aHViL3NyYy9jbGFzc2VzL2Nvb2tpZXMuY2xhc3MudHMiLCIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL2Z1bmN0aW9ucy9vbWl0LmZ1bmN0aW9uLnRzIiwiL2hvbWUvYmFuZGFyb2YvR2l0aHViL3NyYy9mdW5jdGlvbnMvdXVpZC50cyIsIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9zcmMvdXJsLnRzIiwiL2hvbWUvYmFuZGFyb2YvR2l0aHViL3NyYy9mdW5jdGlvbnMvdG8tZXJyb3IudHMiLCIvaG9tZS9iYW5kYXJvZi9HaXRodWIvc3JjL3R5cGVzL2FwaS12ZXJzaW9uLnRzIiwiL2hvbWUvYmFuZGFyb2YvR2l0aHViL3NyYy9zZGstdmVyc2lvbi50cyIsIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9zcmMvYnVpbGRlci5jbGFzcy50cyIsIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9zcmMvY29uc3RhbnRzL2J1aWxkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblxuICBmdW5jdGlvbiBDdXN0b21FdmVudChldmVudCwgcGFyYW1zKSB7XG4gICAgcGFyYW1zID0gcGFyYW1zIHx8IHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWw6IG51bGwgfTtcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgZXZ0LmluaXRDdXN0b21FdmVudChldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsKTtcbiAgICByZXR1cm4gZXZ0O1xuICB9XG5cbiAgd2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XG59KSgpO1xuIiwiY29uc3QgaXNTYWZhcmkgPVxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcblxuY29uc3QgaXNDbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcblxuLy8gVE9ETzogcXVldWUgYWxsIG9mIHRoZXNlIGluIGEgZGVib3VuY2VOZXh0VGlja1xuZXhwb3J0IGZ1bmN0aW9uIG5leHRUaWNrKGZuOiAoKSA9PiB2b2lkKSB7XG4gIC8vIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5uZXh0VGljaykge1xuICAvLyAgIGNvbnNvbGUubG9nKCdwcm9jZXNzLm5leHRUaWNrPycpO1xuICAvLyAgIHByb2Nlc3MubmV4dFRpY2soZm4pO1xuICAvLyAgIHJldHVybjtcbiAgLy8gfVxuICAvLyBGSVhNRTogZml4IHRoZSByZWFsIHNhZmFyaSBpc3N1ZSBvZiB0aGlzIHJhbmRvbWx5IG5vdCB3b3JraW5nXG4gIGlmICghaXNDbGllbnQgfHwgaXNTYWZhcmkgfHwgdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc2V0VGltZW91dChmbik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBjYWxsZWQgPSAwO1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IGZuKCkpO1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICB9KTtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gIGVsZW1lbnQuZGF0YSA9IFN0cmluZygoY2FsbGVkID0gKytjYWxsZWQpKTtcbn1cbiIsImV4cG9ydCB0eXBlIFN0cmluZ01hcCA9IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cbmNvbnN0IFBST1BFUlRZX05BTUVfREVOWV9MSVNUID0gT2JqZWN0LmZyZWV6ZShbJ19fcHJvdG9fXycsICdwcm90b3R5cGUnLCAnY29uc3RydWN0b3InXSk7XG5cbi8vIFRPRE86IHVuaXQgdGVzdHNcbmV4cG9ydCBjbGFzcyBRdWVyeVN0cmluZyB7XG4gIHN0YXRpYyBwYXJzZURlZXAocXVlcnlTdHJpbmc6IHN0cmluZykge1xuICAgIGNvbnN0IG9iaiA9IHRoaXMucGFyc2UocXVlcnlTdHJpbmcpO1xuICAgIHJldHVybiB0aGlzLmRlZXBlbihvYmopO1xuICB9XG5cbiAgc3RhdGljIHN0cmluZ2lmeURlZXAob2JqOiBhbnkpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLmZsYXR0ZW4ob2JqKTtcbiAgICByZXR1cm4gdGhpcy5zdHJpbmdpZnkobWFwKTtcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZShxdWVyeVN0cmluZzogc3RyaW5nKTogU3RyaW5nTWFwIHtcbiAgICBjb25zdCBxdWVyeTogU3RyaW5nTWFwID0ge307XG4gICAgY29uc3QgcGFpcnMgPSAocXVlcnlTdHJpbmdbMF0gPT09ICc/JyA/IHF1ZXJ5U3RyaW5nLnN1YnN0cigxKSA6IHF1ZXJ5U3RyaW5nKS5zcGxpdCgnJicpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhaXIgPSBwYWlyc1tpXS5zcGxpdCgnPScpO1xuICAgICAgLy8gVE9ETzogbm9kZSBzdXBwb3J0P1xuICAgICAgdHJ5IHtcbiAgICAgICAgcXVlcnlbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdIHx8ICcnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElnbm9yZSBtYWxmb3JtZWQgVVJJIGNvbXBvbmVudHNcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9XG5cbiAgc3RhdGljIHN0cmluZ2lmeShtYXA6IFN0cmluZ01hcCkge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXApIHtcbiAgICAgIGlmIChtYXAuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG1hcFtrZXldO1xuICAgICAgICBpZiAoc3RyKSB7XG4gICAgICAgICAgc3RyICs9ICcmJztcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgc3RhdGljIGRlZXBlbihtYXA6IFN0cmluZ01hcCkge1xuICAgIC8vIEZJWE1FOyBTaG91bGQgYmUgdHlwZSBUcmVlID0gUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgVHJlZT5cbiAgICAvLyByZXF1aXJlcyBhIHR5cGVzY3JpcHQgdXBncmFkZS5cbiAgICBjb25zdCBvdXRwdXQ6IGFueSA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBtYXApIHtcbiAgICAgIGxldCB0ID0gb3V0cHV0O1xuICAgICAgY29uc3QgcGFydHMgPSBrLnNwbGl0KCcuJyk7XG4gICAgICBjb25zdCBrZXkgPSBwYXJ0cy5wb3AoKSE7XG4gICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgYXNzZXJ0QWxsb3dlZFByb3BlcnR5TmFtZShwYXJ0KTtcbiAgICAgICAgdCA9IHRbcGFydF0gPSB0W3BhcnRdIHx8IHt9O1xuICAgICAgfVxuICAgICAgdFtrZXldID0gbWFwW2tdO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9XG5cbiAgc3RhdGljIGZsYXR0ZW4ob2JqOiBhbnksIF9jdXJyZW50PzogYW55LCBfcmVzOiBhbnkgPSB7fSk6IFN0cmluZ01hcCB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgY29uc3QgbmV3S2V5ID0gX2N1cnJlbnQgPyBfY3VycmVudCArICcuJyArIGtleSA6IGtleTtcbiAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRoaXMuZmxhdHRlbih2YWx1ZSwgbmV3S2V5LCBfcmVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9yZXNbbmV3S2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfcmVzO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydEFsbG93ZWRQcm9wZXJ0eU5hbWUobmFtZTogc3RyaW5nKTogYXNzZXJ0cyBuYW1lIHtcbiAgaWYgKFBST1BFUlRZX05BTUVfREVOWV9MSVNULmluZGV4T2YobmFtZSkgPj0gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5IG5hbWUgXCIke25hbWV9XCIgaXMgbm90IGFsbG93ZWRgKTtcbn1cbiIsImV4cG9ydCB0eXBlIExpc3RlbmVyPFQ+ID0gKHZhbHVlOiBUKSA9PiB2b2lkO1xuXG5leHBvcnQgY2xhc3MgU3Vic2NyaXB0aW9uPEZ1bmN0aW9uVHlwZSA9IEZ1bmN0aW9uPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgbGlzdGVuZXJzPzogRnVuY3Rpb25UeXBlW10sXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcj86IEZ1bmN0aW9uVHlwZVxuICApIHt9XG5cbiAgdW5zdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgZ2V0IGNsb3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy51bnN1YnNjcmliZWQ7XG4gIH1cblxuICBwcml2YXRlIHJlYWRvbmx5IG90aGVyU3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcblxuICBhZGQoc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24pIHtcbiAgICB0aGlzLm90aGVyU3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICBpZiAodGhpcy51bnN1YnNjcmliZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMubGlzdGVuZXIgJiYgdGhpcy5saXN0ZW5lcnMpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZih0aGlzLmxpc3RlbmVyKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMub3RoZXJTdWJzY3JpcHRpb25zLmZvckVhY2goc3ViID0+IHN1Yi51bnN1YnNjcmliZSgpKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlZCA9IHRydWU7XG4gIH1cbn1cblxuLy8gVE9ETzogZm9sbG93IG1pbmltYWwgYmFzaWMgc3BlYzogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JzZXJ2YWJsZVxuZXhwb3J0IGNsYXNzIEJlaGF2aW9yU3ViamVjdDxUID0gYW55LCBFcnJvclR5cGUgPSBhbnk+IHtcbiAgY29uc3RydWN0b3IocHVibGljIHZhbHVlOiBUKSB7fVxuXG4gIHByaXZhdGUgbGlzdGVuZXJzOiBMaXN0ZW5lcjxUPltdID0gW107XG4gIHByaXZhdGUgZXJyb3JMaXN0ZW5lcnM6IExpc3RlbmVyPEVycm9yVHlwZT5bXSA9IFtdO1xuXG4gIG5leHQodmFsdWU6IFQpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXIodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IGltcGxlbWVudCB0aGlzIGFzIFBJUEUgaW5zdGVhZFxuICBtYXA8TmV3VHlwZSA9IGFueT4oZm46IChpdGVtOiBUKSA9PiBOZXdUeXBlKSB7XG4gICAgY29uc3QgbmV3U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8TmV3VHlwZT4oZm4odGhpcy52YWx1ZSkpO1xuICAgIC8vIFRPRE86IG9uIGRlc3Ryb3kgZGVsZXRlIHRoZXNlXG4gICAgdGhpcy5zdWJzY3JpYmUodmFsID0+IHtcbiAgICAgIG5ld1N1YmplY3QubmV4dChmbih2YWwpKTtcbiAgICB9KTtcbiAgICB0aGlzLmNhdGNoKGVyciA9PiB7XG4gICAgICBuZXdTdWJqZWN0LmVycm9yKGVycik7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld1N1YmplY3Q7XG4gIH1cblxuICBjYXRjaChlcnJvckxpc3RlbmVyOiBMaXN0ZW5lcjxFcnJvclR5cGU+KSB7XG4gICAgdGhpcy5lcnJvckxpc3RlbmVycy5wdXNoKGVycm9yTGlzdGVuZXIpO1xuICAgIHJldHVybiBuZXcgU3Vic2NyaXB0aW9uKHRoaXMuZXJyb3JMaXN0ZW5lcnMsIGVycm9yTGlzdGVuZXIpO1xuICB9XG5cbiAgZXJyb3IoZXJyb3I6IEVycm9yVHlwZSkge1xuICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5lcnJvckxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXIoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHN1YnNjcmliZShsaXN0ZW5lcjogTGlzdGVuZXI8VD4sIGVycm9yTGlzdGVuZXI/OiBMaXN0ZW5lcjxFcnJvclR5cGU+KSB7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgaWYgKGVycm9yTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZXJyb3JMaXN0ZW5lcnMucHVzaChlcnJvckxpc3RlbmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpcHRpb24odGhpcy5saXN0ZW5lcnMsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHRvUHJvbWlzZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8VD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5zdWJzY3JpYmUoXG4gICAgICAgIHZhbHVlID0+IHtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyID0+IHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByb21pc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9Qcm9taXNlKCk7XG4gIH1cblxuICB0aGVuOiBQcm9taXNlPFQ+Wyd0aGVuJ10gPSAoLi4uYXJncykgPT4ge1xuICAgIHJldHVybiB0aGlzLnRvUHJvbWlzZSgpLnRoZW4oLi4uYXJncyk7XG4gIH07XG59XG5cbi8vIFRPRE86IG1ha2UgZGlmZmVyZW50IGNsYXNzZXNcbmV4cG9ydCBjb25zdCBPYnNlcnZlciA9IEJlaGF2aW9yU3ViamVjdDtcbmV4cG9ydCBjb25zdCBPYnNlcnZhYmxlID0gQmVoYXZpb3JTdWJqZWN0O1xuIiwiaW1wb3J0IHsgbmV4dFRpY2sgfSBmcm9tICcuLi9mdW5jdGlvbnMvbmV4dC10aWNrLmZ1bmN0aW9uJztcblxuY29uc3QgU3RhdGUgPSB7XG4gIFBlbmRpbmc6ICdQZW5kaW5nJyxcbiAgRnVsZmlsbGVkOiAnRnVsZmlsbGVkJyxcbiAgUmVqZWN0ZWQ6ICdSZWplY3RlZCcsXG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbDogYW55KSB7XG4gIHJldHVybiB2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsOiBhbnkpIHtcbiAgcmV0dXJuIHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jztcbn1cblxuaW50ZXJmYWNlIEhhbmRsZXI8VD4ge1xuICBvbkZ1bGZpbGxlZDogKHZhbDogVCkgPT4gYW55O1xuICBvblJlamVjdGVkOiAoZXJyOiBhbnkpID0+IGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIFRpbnlQcm9taXNlPFQgPSBhbnk+IHtcbiAgcHJpdmF0ZSBfc3RhdGUgPSBTdGF0ZS5QZW5kaW5nO1xuICBwcml2YXRlIF9oYW5kbGVyczogSGFuZGxlcjxUPltdID0gW107XG4gIHByaXZhdGUgX3ZhbHVlOiBUIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoZXhlY3V0b3I6IChyZXNvbHZlOiAodmFsOiBUKSA9PiBhbnksIHJlamVjdDogKGVycjogVCkgPT4gYW55KSA9PiB2b2lkKSB7XG4gICAgZXhlY3V0b3IodGhpcy5fcmVzb2x2ZS5iaW5kKHRoaXMpLCB0aGlzLl9yZWplY3QuYmluZCh0aGlzKSk7XG4gIH1cblxuICBwcml2YXRlIF9yZXNvbHZlKHg6IGFueSkge1xuICAgIGlmICh4IGluc3RhbmNlb2YgVGlueVByb21pc2UpIHtcbiAgICAgIHgudGhlbih0aGlzLl9yZXNvbHZlLmJpbmQodGhpcyksIHRoaXMuX3JlamVjdC5iaW5kKHRoaXMpKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHgpIHx8IGlzRnVuY3Rpb24oeCkpIHtcbiAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRoZW5hYmxlID0gKHggYXMgUHJvbWlzZTxhbnk+KS50aGVuO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuYWJsZSkpIHtcbiAgICAgICAgICB0aGVuYWJsZS5jYWxsKFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIChyZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkgdGhpcy5fcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkIGFzIGFueTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWNhbGxlZCkgdGhpcy5fcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZCBhcyBhbnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9mdWxmaWxsKHgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICAgIHRoaXMuX3JlamVjdChleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZnVsZmlsbCh4KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9mdWxmaWxsKHJlc3VsdDogVCkge1xuICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuRnVsZmlsbGVkO1xuICAgIHRoaXMuX3ZhbHVlID0gcmVzdWx0O1xuICAgIHRoaXMuX2hhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiB0aGlzLl9jYWxsSGFuZGxlcihoYW5kbGVyKSk7XG4gIH1cblxuICBwcml2YXRlIF9yZWplY3QoZXJyb3I6IGFueSkge1xuICAgIHRoaXMuX3N0YXRlID0gU3RhdGUuUmVqZWN0ZWQ7XG4gICAgdGhpcy5fdmFsdWUgPSBlcnJvcjtcbiAgICB0aGlzLl9oYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4gdGhpcy5fY2FsbEhhbmRsZXIoaGFuZGxlcikpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaXNQZW5kaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gU3RhdGUuUGVuZGluZztcbiAgfVxuXG4gIHByaXZhdGUgX2lzRnVsZmlsbGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gU3RhdGUuRnVsZmlsbGVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfaXNSZWplY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGUgPT09IFN0YXRlLlJlamVjdGVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfYWRkSGFuZGxlcihvbkZ1bGZpbGxlZDogKHZhbDogVCkgPT4gYW55LCBvblJlamVjdGVkOiAoZXJyOiBhbnkpID0+IGFueSkge1xuICAgIHRoaXMuX2hhbmRsZXJzLnB1c2goe1xuICAgICAgb25GdWxmaWxsZWQsXG4gICAgICBvblJlamVjdGVkLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfY2FsbEhhbmRsZXIoaGFuZGxlcjogSGFuZGxlcjxUPikge1xuICAgIGlmICh0aGlzLl9pc0Z1bGZpbGxlZCgpICYmIGlzRnVuY3Rpb24oaGFuZGxlci5vbkZ1bGZpbGxlZCkpIHtcbiAgICAgIGhhbmRsZXIub25GdWxmaWxsZWQodGhpcy5fdmFsdWUgYXMgVCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc1JlamVjdGVkKCkgJiYgaXNGdW5jdGlvbihoYW5kbGVyLm9uUmVqZWN0ZWQpKSB7XG4gICAgICBoYW5kbGVyLm9uUmVqZWN0ZWQodGhpcy5fdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHRoZW4ob25GdWxmaWxsZWQ6ICh2YWw6IFQpID0+IGFueSwgb25SZWplY3RlZDogKGVycjogYW55KSA9PiBhbnkpIHtcbiAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICBjYXNlIFN0YXRlLlBlbmRpbmc6IHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55UHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgdGhpcy5fYWRkSGFuZGxlcihcbiAgICAgICAgICAgIHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihvbkZ1bGZpbGxlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvbkZ1bGZpbGxlZCh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgIHJlamVjdChleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25SZWplY3RlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvblJlamVjdGVkKGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICByZWplY3QoZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgU3RhdGUuRnVsZmlsbGVkOiB7XG4gICAgICAgIHJldHVybiBuZXcgVGlueVByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uRnVsZmlsbGVkKSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUob25GdWxmaWxsZWQodGhpcy5fdmFsdWUgYXMgVCkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5fdmFsdWUgYXMgVCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgIHJlamVjdChleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjYXNlIFN0YXRlLlJlamVjdGVkOiB7XG4gICAgICAgIHJldHVybiBuZXcgVGlueVByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uUmVqZWN0ZWQpKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShvblJlamVjdGVkKHRoaXMuX3ZhbHVlKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0ICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgPyBQcm9taXNlIDogVGlueVByb21pc2UpIGFzIFByb21pc2VDb25zdHJ1Y3RvcjtcbiIsIi8vIFdlYnBhY2sgd29ya2Fyb3VuZCB0byBjb25kaXRpb25hbGx5IHJlcXVpcmUgY2VydGFpbiBleHRlcm5hbCBtb2R1bGVzXG4vLyBvbmx5IG9uIHRoZSBzZXJ2ZXIgYW5kIG5vdCBidW5kbGUgdGhlbSBvbiB0aGUgY2xpZW50XG5sZXQgc2VydmVyT25seVJlcXVpcmU6IE5vZGVSZXF1aXJlO1xudHJ5IHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWV2YWxcbiAgc2VydmVyT25seVJlcXVpcmUgPSBldmFsKCdyZXF1aXJlJyk7XG59IGNhdGNoIChlcnIpIHtcbiAgLy8gYWxsIGdvb2RcbiAgc2VydmVyT25seVJlcXVpcmUgPSAoKCkgPT4gbnVsbCkgYXMgYW55O1xufVxuXG5leHBvcnQgZGVmYXVsdCBzZXJ2ZXJPbmx5UmVxdWlyZTtcbiIsImltcG9ydCBQcm9taXNlIGZyb20gJy4uL2NsYXNzZXMvcHJvbWlzZS5jbGFzcyc7XG5pbXBvcnQgc2VydmVyT25seVJlcXVpcmUgZnJvbSAnLi9zZXJ2ZXItb25seS1yZXF1aXJlLmZ1bmN0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBTaW1wbGlmaWVkRmV0Y2hPcHRpb25zIHtcbiAgYm9keT86IHN0cmluZztcbiAgaGVhZGVycz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIG1ldGhvZD86ICdHRVQnIHwgJ1BPU1QnIHwgJ1BVVCcgfCAnREVMRVRFJyB8ICdQQVRDSCc7XG4gIGNyZWRlbnRpYWxzPzogJ2luY2x1ZGUnO1xuICBtb2RlPzogUmVxdWVzdE1vZGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2ltcGxlRmV0Y2hSZXNwb25zZSB7XG4gIG9rOiBib29sZWFuO1xuICBzdGF0dXM6IG51bWJlcjtcbiAgc3RhdHVzVGV4dDogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbiAgY2xvbmU6ICgpID0+IGFueTtcbiAgdGV4dDogKCkgPT4gUHJvbWlzZTxzdHJpbmc+O1xuICBqc29uOiAoKSA9PiBQcm9taXNlPGFueT47XG4gIGJsb2I6ICgpID0+IFByb21pc2U8QmxvYj47XG4gIGhlYWRlcnM6IHtcbiAgICBrZXlzOiAoKSA9PiBzdHJpbmdbXTtcbiAgICBlbnRyaWVzOiAoKSA9PiBbc3RyaW5nLCBzdHJpbmddW107XG4gICAgZ2V0OiAobjogc3RyaW5nKSA9PiBzdHJpbmc7XG4gICAgaGFzOiAobjogc3RyaW5nKSA9PiBib29sZWFuO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9taXNlUmVzb2x2ZTxUPih2YWx1ZTogVCkge1xuICByZXR1cm4gbmV3IFByb21pc2U8VD4ocmVzb2x2ZSA9PiByZXNvbHZlKHZhbHVlKSk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGV2ZWxvcGl0L3VuZmV0Y2gvbWFzdGVyL3NyYy9pbmRleC5tanNcbmZ1bmN0aW9uIHRpbnlGZXRjaCh1cmw6IHN0cmluZywgb3B0aW9uczogU2ltcGxpZmllZEZldGNoT3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxTaW1wbGVGZXRjaFJlc3BvbnNlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgcmVxdWVzdC5vcGVuKG9wdGlvbnMubWV0aG9kIHx8ICdnZXQnLCB1cmwsIHRydWUpO1xuXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgZm9yIChjb25zdCBpIGluIG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoaSwgb3B0aW9ucy5oZWFkZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJztcblxuICAgIHJlcXVlc3Qub25sb2FkID0gKCkgPT4ge1xuICAgICAgcmVzb2x2ZShyZXNwb25zZSgpKTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbmVycm9yID0gcmVqZWN0O1xuXG4gICAgcmVxdWVzdC5zZW5kKG9wdGlvbnMuYm9keSk7XG5cbiAgICBmdW5jdGlvbiByZXNwb25zZSgpIHtcbiAgICAgIGNvbnN0IGtleXM6IHN0cmluZ1tdID0gW107XG4gICAgICBjb25zdCBhbGw6IFtzdHJpbmcsIHN0cmluZ11bXSA9IFtdO1xuICAgICAgY29uc3QgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICAgICAgbGV0IGhlYWRlcjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICByZXF1ZXN0XG4gICAgICAgIC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAucmVwbGFjZSgvXiguKj8pOlteXFxTXFxuXSooW1xcc1xcU10qPykkL2dtLCAoX21hdGNoLCBfa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgIGxldCBrZXkgPSBfa2V5O1xuICAgICAgICAgIGtleXMucHVzaCgoa2V5ID0ga2V5LnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgICBhbGwucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIGhlYWRlciA9IGhlYWRlcnNba2V5XTtcbiAgICAgICAgICBoZWFkZXJzW2tleV0gPSBoZWFkZXIgPyBgJHtoZWFkZXJ9LCR7dmFsdWV9YCA6IHZhbHVlO1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9rOiAoKHJlcXVlc3Quc3RhdHVzIC8gMTAwKSB8IDApID09PSAyLCAvLyAyMDAtMjk5XG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgdXJsOiByZXF1ZXN0LnJlc3BvbnNlVVJMLFxuICAgICAgICBjbG9uZTogcmVzcG9uc2UsXG4gICAgICAgIHRleHQ6ICgpID0+IHByb21pc2VSZXNvbHZlKHJlcXVlc3QucmVzcG9uc2VUZXh0KSxcbiAgICAgICAganNvbjogKCkgPT4gcHJvbWlzZVJlc29sdmUocmVxdWVzdC5yZXNwb25zZVRleHQpLnRoZW4oSlNPTi5wYXJzZSksXG4gICAgICAgIGJsb2I6ICgpID0+IHByb21pc2VSZXNvbHZlKG5ldyBCbG9iKFtyZXF1ZXN0LnJlc3BvbnNlXSkpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAga2V5czogKCkgPT4ga2V5cyxcbiAgICAgICAgICBlbnRyaWVzOiAoKSA9PiBhbGwsXG4gICAgICAgICAgZ2V0OiAobjogc3RyaW5nKSA9PiBoZWFkZXJzW24udG9Mb3dlckNhc2UoKV0sXG4gICAgICAgICAgaGFzOiAobjogc3RyaW5nKSA9PiBuLnRvTG93ZXJDYXNlKCkgaW4gaGVhZGVycyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZldGNoKCkge1xuICAvLyBJZiBmZXRjaCBpcyBkZWZpbmVkLCBpbiB0aGUgYnJvd3NlciwgdmlhIHBvbHlmaWxsLCBvciBpbiBhIENsb3VkZmxhcmUgd29ya2VyLCB1c2UgaXQuXG4gIGxldCBfZmV0Y2g6IHR5cGVvZiBmZXRjaCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgaWYgKGdsb2JhbFRoaXMuZmV0Y2gpIHtcbiAgICBfZmV0Y2ggPz89IGdsb2JhbFRoaXMuZmV0Y2ggYXMgYW55O1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gSWYgZmV0Y2ggaXMgbm90IGRlZmluZWQsIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCwgdXNlIG5vZGUtZmV0Y2guXG4gICAgdHJ5IHtcbiAgICAgIC8vIG5vZGUtZmV0Y2hAXjMgaXMgRVNNIG9ubHksIGFuZCB3aWxsIHRocm93IGVycm9yIG9uIHJlcXVpcmUuXG4gICAgICBfZmV0Y2ggPz89IHNlcnZlck9ubHlSZXF1aXJlKCdub2RlLWZldGNoJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWYgbm9kZS1mZXRjaCBpcyBub3QgaW5zdGFsbGVkLCB1c2UgdGlueS1mZXRjaC5cbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ25vZGUtZmV0Y2ggaXMgbm90IGluc3RhbGxlZC4gY29uc2lkZXIgcG9seWZpbGxpbmcgZmV0Y2ggb3IgaW5zdGFsbGluZyBub2RlLWZldGNoLidcbiAgICAgICk7XG4gICAgICBjb25zb2xlLndhcm4oZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gT3RoZXJ3aXNlLCB1c2UgdGlueS1mZXRjaC5cbiAgcmV0dXJuIF9mZXRjaCA/PyB0aW55RmV0Y2g7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhcmdldDogb2JqZWN0LCAuLi5hcmdzOiBhbnlbXSkge1xuICBjb25zdCB0byA9IE9iamVjdCh0YXJnZXQpO1xuXG4gIGZvciAobGV0IGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3QgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAvLyBTa2lwIG92ZXIgaWYgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgIGZvciAoY29uc3QgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XG4gICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZShmdW5jOiBGdW5jdGlvbiwgd2FpdDogbnVtYmVyLCBvcHRpb25zOiBhbnkgPSB7fSkge1xuICBsZXQgY29udGV4dDogYW55O1xuICBsZXQgYXJnczogYW55O1xuICBsZXQgcmVzdWx0OiBhbnk7XG4gIGxldCB0aW1lb3V0ID0gbnVsbCBhcyBhbnk7XG4gIGxldCBwcmV2aW91cyA9IDA7XG4gIGNvbnN0IGxhdGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBEYXRlLm5vdygpO1xuICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbiAodGhpczogYW55KSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgIGNvbnRleHQgPSB0aGlzO1xuICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICB9XG4gICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cbiIsImltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi4vZnVuY3Rpb25zL3Rocm90dGxlLmZ1bmN0aW9uJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4uL2Z1bmN0aW9ucy9hc3NpZ24uZnVuY3Rpb24nO1xuXG5jb25zdCBjYW1lbENhc2VUb0tlYmFiQ2FzZSA9IChzdHI/OiBzdHJpbmcpID0+XG4gIHN0ciA/IHN0ci5yZXBsYWNlKC8oW0EtWl0pL2csIGcgPT4gYC0ke2dbMF0udG9Mb3dlckNhc2UoKX1gKSA6ICcnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFuaW1hdGlvblN0ZXAge1xuICAvLyBGaXJzdCBvbmUgaXMgYWx3YXlzIHN0YXJ0IHN0YXRlXG4gIC8vIGlzU3RhcnRTdGF0ZT86IGJvb2xlYW47XG4gIHN0eWxlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgZGVsYXk/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5pbWF0aW9uIHtcbiAgZWxlbWVudElkOiBzdHJpbmc7XG4gIHRyaWdnZXI6IHN0cmluZztcbiAgc3RlcHM6IEFuaW1hdGlvblN0ZXBbXTtcbiAgZHVyYXRpb246IG51bWJlcjtcbiAgZGVsYXk/OiBudW1iZXI7XG4gIGVhc2luZz86IHN0cmluZztcbiAgLy8gVE9ETzogZGVwcmVjYXRlIC0gb25seSBoZXJlIGJlY2F1c2Ugb2YgYW4gQVBJIGJ1Z1xuICBpZD86IHN0cmluZztcbiAgLy8gb25seSBhcHBseSBpbiBzY3JvbGxJblZpZXdcbiAgcmVwZWF0PzogYm9vbGVhbjtcbiAgLy8gb25seSBhcHBseSBpbiBzY3JvbGxJblZpZXcsIG51bWJlciBmcm9tIC0xIHRvIDFcbiAgdGhyZXNob2xkUGVyY2VudD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEFuaW1hdG9yIHtcbiAgYmluZEFuaW1hdGlvbnMoYW5pbWF0aW9uczogQW5pbWF0aW9uW10pIHtcbiAgICBmb3IgKGNvbnN0IGFuaW1hdGlvbiBvZiBhbmltYXRpb25zKSB7XG4gICAgICBzd2l0Y2ggKGFuaW1hdGlvbi50cmlnZ2VyKSB7XG4gICAgICAgIGNhc2UgJ3BhZ2VMb2FkJzpcbiAgICAgICAgICB0aGlzLnRyaWdnZXJBbmltYXRpb24oYW5pbWF0aW9uKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaG92ZXInOlxuICAgICAgICAgIHRoaXMuYmluZEhvdmVyQW5pbWF0aW9uKGFuaW1hdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Njcm9sbEluVmlldyc6XG4gICAgICAgICAgdGhpcy5iaW5kU2Nyb2xsSW5WaWV3QW5pbWF0aW9uKGFuaW1hdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB3YXJuRWxlbWVudE5vdFByZXNlbnQoaWQ6IHN0cmluZykge1xuICAgIGNvbnNvbGUud2FybihgQ2Fubm90IGFuaW1hdGUgZWxlbWVudDogZWxlbWVudCB3aXRoIElEICR7aWR9IG5vdCBmb3VuZCFgKTtcbiAgfVxuXG4gIHByaXZhdGUgYXVnbWVudEFuaW1hdGlvbihhbmltYXRpb246IEFuaW1hdGlvbiwgZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBzdHlsZXNVc2VkID0gdGhpcy5nZXRBbGxTdHlsZXNVc2VkKGFuaW1hdGlvbik7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZTogYW55ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAvLyBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAvLyAvLyBGSVhNRTogdGhpcyB3aWxsIGJyZWFrIGlmIG9yaWdpbmFsIGxvYWQgaXMgaW4gb25lIHJlcG9uc2l2ZSBzaXplIHRoZW4gcmVzaXplIHRvIGFub3RoZXIgaG1tbVxuICAgIC8vIE5lZWQgdG8gdXNlIHRyYW5zZm9ybSBpbnN0ZWFkIG9mIGxlZnQgc2luY2UgbGVmdCBjYW4gY2hhbmdlIG9uIHNjcmVlbiBzaXplc1xuICAgIGNvbnN0IGZpcnN0U3R5bGVzID0gYW5pbWF0aW9uLnN0ZXBzWzBdLnN0eWxlcztcbiAgICBjb25zdCBsYXN0U3R5bGVzID0gYW5pbWF0aW9uLnN0ZXBzW2FuaW1hdGlvbi5zdGVwcy5sZW5ndGggLSAxXSEuc3R5bGVzO1xuICAgIGNvbnN0IGJvdGhTdHlsZXMgPSBbZmlyc3RTdHlsZXMsIGxhc3RTdHlsZXNdO1xuXG4gICAgLy8gRklYTUU6IHRoaXMgd29uJ3Qgd29yayBhcyBleHBlY3RlZCBmb3IgYXVnbWVudGVkIGFuaW1hdGlvbnMgLSBtYXkgbmVlZCB0aGUgZWRpdG9yIGl0c2VsZiB0byBtYW5hZ2UgdGhpc1xuICAgIGZvciAoY29uc3Qgc3R5bGVzIG9mIGJvdGhTdHlsZXMpIHtcbiAgICAgIGZvciAoY29uc3Qgc3R5bGUgb2Ygc3R5bGVzVXNlZCkge1xuICAgICAgICBpZiAoIShzdHlsZSBpbiBzdHlsZXMpKSB7XG4gICAgICAgICAgc3R5bGVzW3N0eWxlXSA9IGNvbXB1dGVkU3R5bGVbc3R5bGVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRBbGxTdHlsZXNVc2VkKGFuaW1hdGlvbjogQW5pbWF0aW9uKSB7XG4gICAgY29uc3QgcHJvcGVydGllczogKGtleW9mIENTU1N0eWxlRGVjbGFyYXRpb24pW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHN0ZXAgb2YgYW5pbWF0aW9uLnN0ZXBzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBzdGVwLnN0eWxlcykge1xuICAgICAgICBpZiAocHJvcGVydGllcy5pbmRleE9mKGtleSBhcyBhbnkpID09PSAtMSkge1xuICAgICAgICAgIHByb3BlcnRpZXMucHVzaChrZXkgYXMgYW55KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcGVydGllcztcbiAgfVxuXG4gIHRyaWdnZXJBbmltYXRpb24oYW5pbWF0aW9uOiBBbmltYXRpb24pIHtcbiAgICAvLyBUT0RPOiBkbyBmb3IgQUxMIGVsZW1lbnRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYW5pbWF0aW9uLmVsZW1lbnRJZCB8fCBhbmltYXRpb24uaWQgfHwgJycpXG4gICAgKSBhcyBIVE1MRWxlbWVudFtdO1xuICAgIGlmICghZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLndhcm5FbGVtZW50Tm90UHJlc2VudChhbmltYXRpb24uZWxlbWVudElkIHx8IGFuaW1hdGlvbi5pZCB8fCAnJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQXJyYXkuZnJvbShlbGVtZW50cykuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuYXVnbWVudEFuaW1hdGlvbihhbmltYXRpb24sIGVsZW1lbnQpO1xuICAgICAgLy8gVE9ETzogZG8gdGhpcyBwcm9wZXJseSwgbWF5IGhhdmUgb3RoZXIgYW5pbWF0aW9ucyBvZiBkaWZmZXJlbnQgcHJvcGVydGllc1xuXG4gICAgICAvLyBUT0RPOiBvbmx5IG92ZXJyaWRlIHRoZSBwcm9wZXJ0aWVzXG4gICAgICAvLyBUT0RPOiBpZiB0aGVyZSBpcyBhbiBlbnRyYW5jZSBhbmQgaG92ZXIgYW5pbWF0aW9uLCB0aGUgdHJhbnNpdGlvbiBkdXJhdGlvbiB3aWxsIGdldCBlZmZlZFxuICAgICAgLy8gZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJycpO1xuXG4gICAgICAvLyBjb25zdCBzdHlsZWRVc2VkID0gdGhpcy5nZXRBbGxTdHlsZXNVc2VkKGFuaW1hdGlvbik7XG4gICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XG4gICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9ICcwJztcbiAgICAgIGFzc2lnbihlbGVtZW50LnN0eWxlLCBhbmltYXRpb24uc3RlcHNbMF0uc3R5bGVzKTtcbiAgICAgIC8vIFRPRE86IHF1ZXVlL2JhdGNoIHRoZXNlIHRpbWVvdXRzXG4gICAgICAvLyBUT0RPOiBvbmx5IGluY2x1ZGUgcHJvcGVydGllcyBleHBsaWNpdGx5IHNldCBpbiB0aGUgYW5pbWF0aW9uXG4gICAgICAvLyB1c2luZyBPYmplY3Qua2V5cyhzdHlsZXMpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAke2FuaW1hdGlvbi5kdXJhdGlvbn1zICR7Y2FtZWxDYXNlVG9LZWJhYkNhc2UoXG4gICAgICAgICAgYW5pbWF0aW9uLmVhc2luZ1xuICAgICAgICApfWA7XG4gICAgICAgIGlmIChhbmltYXRpb24uZGVsYXkpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9IGFuaW1hdGlvbi5kZWxheSArICdzJztcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ24oZWxlbWVudC5zdHlsZSwgYW5pbWF0aW9uLnN0ZXBzWzFdLnN0eWxlcyk7XG4gICAgICAgIC8vIFRPRE86IG1heWJlIHJlbW92ZS9yZXNldCB0cmFuc2l0b2luIHByb3BlcnR5IGFmdGVyIGFuaW1hdGlvbiBkdXJhdGlvblxuXG4gICAgICAgIC8vIFRPRE86IHF1ZXVlIHRpbWVyc1xuICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE86IHdoYXQgaWYgaGFzIG90aGVyIHRyYW5zaXRpb24gKHJlc2V0IGJhY2sgdG8gd2hhdCBpdCB3YXMpXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnJztcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gJyc7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoYW5pbWF0aW9uLmRlbGF5IHx8IDApICogMTAwMCArIGFuaW1hdGlvbi5kdXJhdGlvbiAqIDEwMDAgKyAxMDBcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYmluZEhvdmVyQW5pbWF0aW9uKGFuaW1hdGlvbjogQW5pbWF0aW9uKSB7XG4gICAgLy8gVE9ETzogaXMgaXQgbXVsdGlwbGUgYmluZGluZyB3aGVuIGVkaXRpbmcuLi4/XG4gICAgLy8gVE9ETzogdW5iaW5kIG9uIGVsZW1lbnQgcmVtb3ZlXG4gICAgLy8gVE9ETzogYXBwbHkgdG8gQUxMIGVsZW1lbnRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYW5pbWF0aW9uLmVsZW1lbnRJZCB8fCBhbmltYXRpb24uaWQgfHwgJycpXG4gICAgKSBhcyBIVE1MRWxlbWVudFtdO1xuICAgIGlmICghZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLndhcm5FbGVtZW50Tm90UHJlc2VudChhbmltYXRpb24uZWxlbWVudElkIHx8IGFuaW1hdGlvbi5pZCB8fCAnJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQXJyYXkuZnJvbShlbGVtZW50cykuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuYXVnbWVudEFuaW1hdGlvbihhbmltYXRpb24sIGVsZW1lbnQpO1xuXG4gICAgICBjb25zdCBkZWZhdWx0U3RhdGUgPSBhbmltYXRpb24uc3RlcHNbMF0uc3R5bGVzO1xuICAgICAgY29uc3QgaG92ZXJTdGF0ZSA9IGFuaW1hdGlvbi5zdGVwc1sxXS5zdHlsZXM7XG4gICAgICBmdW5jdGlvbiBhdHRhY2hEZWZhdWx0U3RhdGUoKSB7XG4gICAgICAgIGFzc2lnbihlbGVtZW50IS5zdHlsZSwgZGVmYXVsdFN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGF0dGFjaEhvdmVyU3RhdGUoKSB7XG4gICAgICAgIGFzc2lnbihlbGVtZW50IS5zdHlsZSwgaG92ZXJTdGF0ZSk7XG4gICAgICB9XG4gICAgICBhdHRhY2hEZWZhdWx0U3RhdGUoKTtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGF0dGFjaEhvdmVyU3RhdGUpO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgYXR0YWNoRGVmYXVsdFN0YXRlKTtcbiAgICAgIC8vIFRPRE86IHF1ZXVlL2JhdGNoIHRoZXNlIHRpbWVvdXRzXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAke2FuaW1hdGlvbi5kdXJhdGlvbn1zICR7Y2FtZWxDYXNlVG9LZWJhYkNhc2UoXG4gICAgICAgICAgYW5pbWF0aW9uLmVhc2luZ1xuICAgICAgICApfWA7XG4gICAgICAgIGlmIChhbmltYXRpb24uZGVsYXkpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9IGFuaW1hdGlvbi5kZWxheSArICdzJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBUT0RPOiB1bmJpbmQgb24gZWxlbWVudCByZW1vdmVcbiAgYmluZFNjcm9sbEluVmlld0FuaW1hdGlvbihhbmltYXRpb246IEFuaW1hdGlvbikge1xuICAgIC8vIFRPRE86IGFwcGx5IHRvIEFMTCBtYXRjaGluZyBlbGVtZW50c1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGFuaW1hdGlvbi5lbGVtZW50SWQgfHwgYW5pbWF0aW9uLmlkIHx8ICcnKVxuICAgICkgYXMgSFRNTEVsZW1lbnRbXTtcbiAgICBpZiAoIWVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgdGhpcy53YXJuRWxlbWVudE5vdFByZXNlbnQoYW5pbWF0aW9uLmVsZW1lbnRJZCB8fCBhbmltYXRpb24uaWQgfHwgJycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRPRE86IGlmIHNlcnZlciBzaWRlIHJlbmRlcmVkIGFuZCBzY3JvbGxlZCBpbnRvIHZpZXcgZG9uJ3QgYW5pbWF0ZS4uLlxuICAgIEFycmF5LmZyb20oZWxlbWVudHMpLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmF1Z21lbnRBbmltYXRpb24oYW5pbWF0aW9uLCBlbGVtZW50KTtcblxuICAgICAgbGV0IHRyaWdnZXJlZCA9IGZhbHNlO1xuICAgICAgbGV0IHBlbmRpbmdBbmltYXRpb24gPSBmYWxzZTtcbiAgICAgIGZ1bmN0aW9uIGltbWVkaWF0ZU9uU2Nyb2xsKCkge1xuICAgICAgICBpZiAoIXRyaWdnZXJlZCAmJiBpc1Njcm9sbGVkSW50b1ZpZXcoZWxlbWVudCkpIHtcbiAgICAgICAgICB0cmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICAgIHBlbmRpbmdBbmltYXRpb24gPSB0cnVlO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgYXNzaWduKGVsZW1lbnQhLnN0eWxlLCBhbmltYXRpb24uc3RlcHNbMV0uc3R5bGVzKTtcbiAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLnJlcGVhdCkge1xuICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0FuaW1hdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICghYW5pbWF0aW9uLnJlcGVhdCkge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gJyc7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb25EZWxheSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgKGFuaW1hdGlvbi5kdXJhdGlvbiArIChhbmltYXRpb24uZGVsYXkgfHwgMCkpICogMTAwMCArIDEwMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBhbmltYXRpb24ucmVwZWF0ICYmXG4gICAgICAgICAgdHJpZ2dlcmVkICYmXG4gICAgICAgICAgIXBlbmRpbmdBbmltYXRpb24gJiZcbiAgICAgICAgICAhaXNTY3JvbGxlZEludG9WaWV3KGVsZW1lbnQpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIHdlIHdhbnQgdG8gcmVwZWF0IHRoZSBhbmltYXRpb24gZXZlcnkgdGltZSB0aGUgdGhlIGVsZW1lbnQgaXMgb3V0IG9mIHZpZXcgYW5kIGJhY2sgYWdhaW5cbiAgICAgICAgICB0cmlnZ2VyZWQgPSBmYWxzZTtcbiAgICAgICAgICBhc3NpZ24oZWxlbWVudCEuc3R5bGUsIGFuaW1hdGlvbi5zdGVwc1swXS5zdHlsZXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IHJvbGwgYWxsIG9mIHRoZXNlIGluIG9uZSBmb3IgbW9yZSBlZmZpY2llbmN5IG9mIGNoZWNraW5nIGFsbCB0aGUgcmVjdHNcbiAgICAgIGNvbnN0IG9uU2Nyb2xsID0gdGhyb3R0bGUoaW1tZWRpYXRlT25TY3JvbGwsIDIwMCwgeyBsZWFkaW5nOiBmYWxzZSB9KTtcblxuICAgICAgLy8gVE9ETzogZnVsbHkgaW4gdmlldyBvciBwYXJ0aWFsbHlcbiAgICAgIGZ1bmN0aW9uIGlzU2Nyb2xsZWRJbnRvVmlldyhlbGVtOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgdGhyZXNob2xkUGVyY2VudCA9IChhbmltYXRpb24udGhyZXNob2xkUGVyY2VudCB8fCAwKSAvIDEwMDtcbiAgICAgICAgY29uc3QgdGhyZXNob2xkID0gdGhyZXNob2xkUGVyY2VudCAqIHdpbmRvd0hlaWdodDtcblxuICAgICAgICAvLyBUT0RPOiBwYXJ0aWFsIGluIHZpZXc/IG9yIHdoYXQgaWYgZWxlbWVudCBpcyBsYXJnZXIgdGhhbiBzY3JlZW4gaXRzZWxmXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgcmVjdC5ib3R0b20gPiB0aHJlc2hvbGQgJiYgcmVjdC50b3AgPCB3aW5kb3dIZWlnaHQgLSB0aHJlc2hvbGQgLy8gRWxlbWVudCBpcyBwZWVraW5nIHRvcCBvciBib3R0b21cbiAgICAgICAgICAvLyAocmVjdC50b3AgPiAwICYmIHJlY3QuYm90dG9tIDwgd2luZG93LmlubmVySGVpZ2h0KSB8fCAvLyBlbGVtZW50IGZpdHMgd2l0aGluIHRoZSBzY3JlZW4gYW5kIGlzIGZ1bGx5IG9uIHNjcmVlbiAobm90IGhhbmdpbmcgb2ZmIGF0IGFsbClcbiAgICAgICAgICAvLyAocmVjdC50b3AgPCAwICYmIHJlY3QuYm90dG9tID4gd2luZG93LmlubmVySGVpZ2h0KSAvLyBlbGVtZW50IGlzIGxhcmdlciB0aGFuIHRoZSBzY3JlZW4gYW5kIGhhbmdzIG92ZXIgdGhlIHRvcCBhbmQgYm90dG9tXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlZmF1bHRTdGF0ZSA9IGFuaW1hdGlvbi5zdGVwc1swXS5zdHlsZXM7XG4gICAgICBmdW5jdGlvbiBhdHRhY2hEZWZhdWx0U3RhdGUoKSB7XG4gICAgICAgIGFzc2lnbihlbGVtZW50IS5zdHlsZSwgZGVmYXVsdFN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGF0dGFjaERlZmF1bHRTdGF0ZSgpO1xuXG4gICAgICAvLyBUT0RPOiBxdWV1ZS9iYXRjaCB0aGVzZSB0aW1lb3V0cyFcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSBgYWxsICR7YW5pbWF0aW9uLmR1cmF0aW9ufXMgJHtjYW1lbENhc2VUb0tlYmFiQ2FzZShcbiAgICAgICAgICBhbmltYXRpb24uZWFzaW5nXG4gICAgICAgICl9YDtcbiAgICAgICAgaWYgKGFuaW1hdGlvbi5kZWxheSkge1xuICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gYW5pbWF0aW9uLmRlbGF5ICsgJ3MnO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gVE9ETzogb25lIGxpc3RlbmVyIGZvciBldmVyeXRoaW5nXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvblNjcm9sbCwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0gYXMgYW55KTtcblxuICAgICAgLy8gRG8gYW4gaW5pdGlhbCBjaGVja1xuICAgICAgaW1tZWRpYXRlT25TY3JvbGwoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggZmllbGQtY29udGVudCBpbiBSRkMgNzIzMCBzZWMgMy4yXG4gKlxuICogZmllbGQtY29udGVudCA9IGZpZWxkLXZjaGFyIFsgMSooIFNQIC8gSFRBQiApIGZpZWxkLXZjaGFyIF1cbiAqIGZpZWxkLXZjaGFyICAgPSBWQ0hBUiAvIG9icy10ZXh0XG4gKiBvYnMtdGV4dCAgICAgID0gJXg4MC1GRlxuICovXG5jb25zdCBmaWVsZENvbnRlbnRSZWdFeHAgPSAvXltcXHUwMDA5XFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHUwMGZmXSskLztcblxuaW1wb3J0IHsgSW5jb21pbmdNZXNzYWdlLCBTZXJ2ZXJSZXNwb25zZSB9IGZyb20gJ2h0dHAnO1xuaW50ZXJmYWNlIE9wdGlvbnMge1xuICBzZWN1cmU/OiBib29sZWFuO1xuICBleHBpcmVzPzogRGF0ZTtcbn1cblxuY2xhc3MgQ29va2llcyB7XG4gIHNlY3VyZT86IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZXF1ZXN0OiBJbmNvbWluZ01lc3NhZ2UsXG4gICAgcHJpdmF0ZSByZXNwb25zZTogU2VydmVyUmVzcG9uc2VcbiAgKSB7fVxuXG4gIGdldChuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBoZWFkZXIgPSB0aGlzLnJlcXVlc3QuaGVhZGVyc1snY29va2llJ10gYXMgc3RyaW5nO1xuICAgIGlmICghaGVhZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWF0Y2ggPSBoZWFkZXIubWF0Y2goZ2V0UGF0dGVybihuYW1lKSk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlID0gbWF0Y2hbMV07XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgc2V0KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgb3B0czogT3B0aW9ucykge1xuICAgIGNvbnN0IHJlcyA9IHRoaXMucmVzcG9uc2U7XG4gICAgY29uc3QgcmVxID0gdGhpcy5yZXF1ZXN0O1xuICAgIGxldCBoZWFkZXJzID0gcmVzLmdldEhlYWRlcignU2V0LUNvb2tpZScpIHx8IFtdO1xuICAgIC8vIFRPRE86IGp1c3QgbWFrZSB0aGlzIGFsd2F5cyB0cnVlXG4gICAgY29uc3Qgc2VjdXJlID1cbiAgICAgIHRoaXMuc2VjdXJlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyAhIXRoaXMuc2VjdXJlXG4gICAgICAgIDogKHJlcSBhcyBhbnkpLnByb3RvY29sID09PSAnaHR0cHMnIHx8IChyZXEuY29ubmVjdGlvbiBhcyBhbnkpLmVuY3J5cHRlZDtcbiAgICBjb25zdCBjb29raWUgPSBuZXcgQ29va2llKG5hbWUsIHZhbHVlLCBvcHRzKTtcblxuICAgIGlmICh0eXBlb2YgaGVhZGVycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGhlYWRlcnMgPSBbaGVhZGVyc107XG4gICAgfVxuXG4gICAgaWYgKCFzZWN1cmUgJiYgb3B0cyAmJiBvcHRzLnNlY3VyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2VuZCBzZWN1cmUgY29va2llIG92ZXIgdW5lbmNyeXB0ZWQgY29ubmVjdGlvbicpO1xuICAgIH1cblxuICAgIGNvb2tpZS5zZWN1cmUgPSBzZWN1cmU7XG4gICAgaWYgKG9wdHMgJiYgJ3NlY3VyZScgaW4gb3B0cykge1xuICAgICAgY29va2llLnNlY3VyZSA9ICEhb3B0cy5zZWN1cmU7XG4gICAgfVxuXG4gICAgcHVzaENvb2tpZShoZWFkZXJzLCBjb29raWUpO1xuXG4gICAgY29uc3Qgc2V0SGVhZGVyID0gcmVzLnNldEhlYWRlcjtcbiAgICBzZXRIZWFkZXIuY2FsbChyZXMsICdTZXQtQ29va2llJywgaGVhZGVycyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuY2xhc3MgQ29va2llIHtcbiAgcGF0aCA9ICcvJztcbiAgZXhwaXJlcz86IERhdGU7XG4gIGRvbWFpbjogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBodHRwT25seSA9IHRydWU7XG4gIHNhbWVTaXRlPzogYm9vbGVhbiB8IHN0cmluZyA9IGZhbHNlO1xuICBzZWN1cmUgPSBmYWxzZTtcbiAgb3ZlcndyaXRlID0gZmFsc2U7XG4gIG5hbWUgPSAnJztcbiAgdmFsdWUgPSAnJztcbiAgbWF4QWdlPzogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgYXR0cnM6IE9wdGlvbnMpIHtcbiAgICBpZiAoIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBuYW1lIGlzIGludmFsaWQnKTtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgJiYgIWZpZWxkQ29udGVudFJlZ0V4cC50ZXN0KHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgdmFsdWUgaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHRoaXMuZXhwaXJlcyA9IG5ldyBEYXRlKDApO1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlIHx8ICcnO1xuXG4gICAgaWYgKGF0dHJzLmV4cGlyZXMpIHtcbiAgICAgIHRoaXMuZXhwaXJlcyA9IGF0dHJzLmV4cGlyZXM7XG4gICAgfVxuICAgIGlmIChhdHRycy5zZWN1cmUpIHtcbiAgICAgIHRoaXMuc2VjdXJlID0gYXR0cnMuc2VjdXJlO1xuICAgIH1cbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgJHt0aGlzLm5hbWV9PSR7dGhpcy52YWx1ZX1gO1xuICB9XG5cbiAgdG9IZWFkZXIoKSB7XG4gICAgbGV0IGhlYWRlciA9IHRoaXMudG9TdHJpbmcoKTtcblxuICAgIGlmICh0aGlzLm1heEFnZSkge1xuICAgICAgdGhpcy5leHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIHRoaXMubWF4QWdlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucGF0aCkge1xuICAgICAgaGVhZGVyICs9IGA7IHBhdGg9JHt0aGlzLnBhdGh9YDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZXhwaXJlcykge1xuICAgICAgaGVhZGVyICs9IGA7IGV4cGlyZXM9JHt0aGlzLmV4cGlyZXMudG9VVENTdHJpbmcoKX1gO1xuICAgIH1cbiAgICBpZiAodGhpcy5kb21haW4pIHtcbiAgICAgIGhlYWRlciArPSBgOyBkb21haW49JHt0aGlzLmRvbWFpbn1gO1xuICAgIH1cblxuICAgIC8vIFRPRE86IHNhbWVzaXRlPW5vbmUgYnkgZGVmYXVsdCAoPylcbiAgICBoZWFkZXIgKz0gYDsgU2FtZVNpdGU9JHt0aGlzLnNhbWVTaXRlID09PSB0cnVlID8gJ3N0cmljdCcgOiAnTm9uZSd9YDtcblxuICAgIC8vIFRPRE86IE9uIGJ5IGRlZmF1bHRcbiAgICBpZiAodGhpcy5zZWN1cmUpIHtcbiAgICAgIGhlYWRlciArPSAnOyBzZWN1cmUnO1xuICAgIH1cbiAgICBpZiAodGhpcy5odHRwT25seSkge1xuICAgICAgaGVhZGVyICs9ICc7IGh0dHBvbmx5JztcbiAgICB9XG5cbiAgICByZXR1cm4gaGVhZGVyO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhdHRlcm4obmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKGAoPzpefDspICoke25hbWUucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKX09KFteO10qKWApO1xufVxuXG5mdW5jdGlvbiBwdXNoQ29va2llKGhlYWRlcnM6IGFueSwgY29va2llOiBDb29raWUpIHtcbiAgaWYgKGNvb2tpZS5vdmVyd3JpdGUpIHtcbiAgICBmb3IgKGxldCBpID0gaGVhZGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKGhlYWRlcnNbaV0uaW5kZXhPZihgJHtjb29raWUubmFtZX09YCkgPT09IDApIHtcbiAgICAgICAgaGVhZGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGVhZGVycy5wdXNoKGNvb2tpZS50b0hlYWRlcigpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29va2llcztcbiIsImV4cG9ydCBmdW5jdGlvbiBvbWl0PFQgZXh0ZW5kcyBvYmplY3Q+KG9iajogVCwgLi4udmFsdWVzOiAoa2V5b2YgVClbXSk6IFBhcnRpYWw8VD4ge1xuICBjb25zdCBuZXdPYmplY3QgPSBPYmplY3QuYXNzaWduKHt9LCBvYmopO1xuICBmb3IgKGNvbnN0IGtleSBvZiB2YWx1ZXMpIHtcbiAgICBkZWxldGUgKG5ld09iamVjdCBhcyBhbnkpW2tleV07XG4gIH1cbiAgcmV0dXJuIG5ld09iamVjdDtcbn1cbiIsIi8qKlxuICogQGNyZWRpdCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXVpZHY0KCkge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHZhciByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuICAgICAgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNsaWdodGx5IGNsZWFuZXIgYW5kIHNtYWxsZXIgVVVJRHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWQoKSB7XG4gIHJldHVybiB1dWlkdjQoKS5yZXBsYWNlKC8tL2csICcnKTtcbn1cbiIsImltcG9ydCB7IFVybFdpdGhTdHJpbmdRdWVyeSB9IGZyb20gJ3VybCc7XG5cbnR5cGUgRml4PFQ+ID0geyBbUCBpbiBrZXlvZiBUXTogVFtQXSB8IG51bGwgfTtcblxuLy8gSXQgc2VlbXMgdGhhdCB0aGUgdHlwZXMgZm9yIFVybFdpdGhTdHJpbmdRdWVyeSBhcmUgbm90IGNvcnJlY3QuXG5leHBvcnQgdHlwZSBVcmxMaWtlID0gRml4PFVybFdpdGhTdHJpbmdRdWVyeT47XG5cbmV4cG9ydCBmdW5jdGlvbiBlbXB0eVVybCgpOiBVcmxMaWtlIHtcbiAgcmV0dXJuIHtcbiAgICBxdWVyeTogbnVsbCxcbiAgICBwb3J0OiBudWxsLFxuICAgIGF1dGg6IG51bGwsXG4gICAgaGFzaDogbnVsbCxcbiAgICBob3N0OiBudWxsLFxuICAgIGhvc3RuYW1lOiBudWxsLFxuICAgIGhyZWY6IG51bGwsXG4gICAgcGF0aDogbnVsbCxcbiAgICBwYXRobmFtZTogbnVsbCxcbiAgICBwcm90b2NvbDogbnVsbCxcbiAgICBzZWFyY2g6IG51bGwsXG4gICAgc2xhc2hlczogbnVsbCxcbiAgfTtcbn1cblxuLy8gUmVwbGFjZW1lbnQgZm9yIGB1cmwucGFyc2VgIHVzaW5nIGBVUkxgIGdsb2JhbCBvYmplY3QgdGhhdCB3b3JrcyB3aXRoIHJlbGF0aXZlIHBhdGhzLlxuLy8gQXNzdW1wdGlvbnM6IHRoaXMgZnVuY3Rpb24gb3BlcmF0ZXMgaW4gYSBOb2RlSlMgZW52aXJvbm1lbnQuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UodXJsOiBzdHJpbmcpOiBVcmxMaWtlIHtcbiAgY29uc3Qgb3V0OiBVcmxMaWtlID0gZW1wdHlVcmwoKTtcblxuICBsZXQgdTtcbiAgY29uc3QgcGF0aE9ubHkgPSB1cmwgPT09ICcnIHx8IHVybFswXSA9PT0gJy8nO1xuXG4gIGlmIChwYXRoT25seSkge1xuICAgIHUgPSBuZXcgVVJMKHVybCwgJ2h0dHA6Ly8wLjAuMC4wLycpO1xuICAgIG91dC5ocmVmID0gdS5ocmVmO1xuICAgIG91dC5ocmVmID0gb3V0LmhyZWY/LnNsaWNlKDE0KTsgLy8gcmVtb3ZlICdodHRwOi8vMC4wLjAuMC8nXG4gIH0gZWxzZSB7XG4gICAgdSA9IG5ldyBVUkwodXJsKTtcbiAgICBvdXQuaHJlZiA9IHUuaHJlZjtcbiAgICBvdXQucG9ydCA9IHUucG9ydCA9PT0gJycgPyBudWxsIDogdS5wb3J0O1xuICAgIG91dC5oYXNoID0gdS5oYXNoID09PSAnJyA/IG51bGwgOiB1Lmhhc2g7XG4gICAgb3V0Lmhvc3QgPSB1Lmhvc3Q7XG4gICAgb3V0Lmhvc3RuYW1lID0gdS5ob3N0bmFtZTtcbiAgICBvdXQuaHJlZiA9IHUuaHJlZjtcbiAgICBvdXQucGF0aG5hbWUgPSB1LnBhdGhuYW1lO1xuICAgIG91dC5wcm90b2NvbCA9IHUucHJvdG9jb2w7XG4gICAgb3V0LnNsYXNoZXMgPSB1cmxbdS5wcm90b2NvbC5sZW5ndGhdID09PSAnLyc7IC8vIGNoZWNrIGlmIHRoZSBtaW1ldHlwZSBpcyBwcm9jZWVkZWQgYnkgYSBzbGFzaFxuICB9XG5cbiAgb3V0LnNlYXJjaCA9IHUuc2VhcmNoO1xuICBvdXQucXVlcnkgPSB1LnNlYXJjaC5zbGljZSgxKTsgLy8gcmVtb3ZlICc/J1xuICBvdXQucGF0aCA9IGAke3UucGF0aG5hbWV9JHt1LnNlYXJjaH1gO1xuICBvdXQucGF0aG5hbWUgPSB1LnBhdGhuYW1lO1xuXG4gIHJldHVybiBvdXQ7XG59XG4iLCIvKipcbiAqIFNhZmUgY29udmVyc2lvbiB0byBlcnJvciB0eXBlLiBJbnRlbmRlZCB0byBiZSB1c2VkIGluIGNhdGNoIGJsb2NrcyB3aGVyZSB0aGVcbiAqICB2YWx1ZSBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBhbiBlcnJvci5cbiAqXG4gKiAgQGV4YW1wbGVcbiAqICB0cnkge1xuICogICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpXG4gKiAgfVxuICogIGNhdGNoIChlcnI6IHVua25vd24pIHtcbiAqICAgIGNvbnN0IGVycm9yOiBFcnJvciA9IHRvRXJyb3IoZXJyKVxuICogIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRXJyb3IoZXJyOiB1bmtub3duKTogRXJyb3Ige1xuICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiBlcnI7XG4gIHJldHVybiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xufVxuIiwiZXhwb3J0IHR5cGUgQXBpVmVyc2lvbiA9ICd2MScgfCAndjMnO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVBJX1ZFUlNJT046IEFwaVZlcnNpb24gPSAndjMnO1xuIiwiZXhwb3J0IGNvbnN0IFNES19WRVJTSU9OID0gJzYuMi4wJztcbiIsImltcG9ydCAnLi9wb2x5ZmlsbHMvY3VzdG9tLWV2ZW50LXBvbHlmaWxsJztcbmltcG9ydCB7IEluY29taW5nTWVzc2FnZSwgU2VydmVyUmVzcG9uc2UgfSBmcm9tICdodHRwJztcbmltcG9ydCB7IG5leHRUaWNrIH0gZnJvbSAnLi9mdW5jdGlvbnMvbmV4dC10aWNrLmZ1bmN0aW9uJztcbmltcG9ydCB7IFF1ZXJ5U3RyaW5nIH0gZnJvbSAnLi9jbGFzc2VzL3F1ZXJ5LXN0cmluZy5jbGFzcyc7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICcuL2NsYXNzZXMvb2JzZXJ2YWJsZS5jbGFzcyc7XG5pbXBvcnQgeyBnZXRGZXRjaCB9IGZyb20gJy4vZnVuY3Rpb25zL2ZldGNoLmZ1bmN0aW9uJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vZnVuY3Rpb25zL2Fzc2lnbi5mdW5jdGlvbic7XG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4vZnVuY3Rpb25zL3Rocm90dGxlLmZ1bmN0aW9uJztcbmltcG9ydCB7IEFuaW1hdG9yIH0gZnJvbSAnLi9jbGFzc2VzL2FuaW1hdG9yLmNsYXNzJztcbmltcG9ydCB7IEJ1aWxkZXJFbGVtZW50IH0gZnJvbSAnLi90eXBlcy9lbGVtZW50JztcbmltcG9ydCBDb29raWVzIGZyb20gJy4vY2xhc3Nlcy9jb29raWVzLmNsYXNzJztcbmltcG9ydCB7IG9taXQgfSBmcm9tICcuL2Z1bmN0aW9ucy9vbWl0LmZ1bmN0aW9uJztcbmltcG9ydCB7IEJ1aWxkZXJDb250ZW50IH0gZnJvbSAnLi90eXBlcy9jb250ZW50JztcbmltcG9ydCB7IHV1aWQgfSBmcm9tICcuL2Z1bmN0aW9ucy91dWlkJztcbmltcG9ydCB7IHBhcnNlIGFzIHVybFBhcnNlIH0gZnJvbSAnLi91cmwnO1xuXG4vLyBEbyBub3QgY2hhbmdlIHRoaXMgdG8gYSByZXF1aXJlISBJdCB0aHJvd3MgcnVudGltZSBlcnJvcnMgLSByb2xsdXBcbi8vIHdpbGwgcHJlc2VydmUgdGhlIGByZXF1aXJlYCBhbmQgdGhyb3cgcnVudGltZSBlcnJvcnNcbmltcG9ydCBoYXNoIGZyb20gJ2hhc2gtc3VtJztcbmltcG9ydCB7IHRvRXJyb3IgfSBmcm9tICcuL2Z1bmN0aW9ucy90by1lcnJvcic7XG5pbXBvcnQgeyBlbXB0eVVybCwgVXJsTGlrZSB9IGZyb20gJy4vdXJsJztcbmltcG9ydCB7IERFRkFVTFRfQVBJX1ZFUlNJT04sIEFwaVZlcnNpb24gfSBmcm9tICcuL3R5cGVzL2FwaS12ZXJzaW9uJztcbmltcG9ydCB7IFNES19WRVJTSU9OIH0gZnJvbSAnLi9zZGstdmVyc2lvbic7XG5cbmV4cG9ydCB0eXBlIFVybCA9IGFueTtcblxuZnVuY3Rpb24gZGF0ZVBsdXNNaW51dGVzKG1pbnV0ZXMgPSAzMCkge1xuICByZXR1cm4gbmV3IERhdGUoRGF0ZS5ub3coKSArIG1pbnV0ZXMgKiA2MDAwMCk7XG59XG5cbmNvbnN0IGlzUG9zaXRpdmVOdW1iZXIgPSAodGhpbmc6IHVua25vd24pID0+XG4gIHR5cGVvZiB0aGluZyA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHRoaW5nKSAmJiB0aGluZyA+PSAwO1xuXG5leHBvcnQgY29uc3QgaXNSZWFjdE5hdGl2ZSA9IHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnO1xuXG5leHBvcnQgY29uc3QgdmFsaWRFbnZMaXN0ID0gW1xuICAncHJvZHVjdGlvbicsXG4gICdxYScsXG4gICd0ZXN0JyxcbiAgJ2RldmVsb3BtZW50JyxcbiAgJ2RldicsXG4gICdjZG4tcWEnLFxuICAnY2xvdWQnLFxuICAnZmFzdCcsXG4gICdjZG4yJyxcbiAgJ2Nkbi1wcm9kJyxcbl07XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW0odXJsOiBzdHJpbmcsIHZhcmlhYmxlOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgY29uc3QgcXVlcnkgPSB1cmwuc3BsaXQoJz8nKVsxXSB8fCAnJztcbiAgY29uc3QgdmFycyA9IHF1ZXJ5LnNwbGl0KCcmJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHBhaXIgPSB2YXJzW2ldLnNwbGl0KCc9Jyk7XG4gICAgaWYgKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKSA9PT0gdmFyaWFibGUpIHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5jb25zdCB1cmxQYXJzZXIgPSB7XG4gIHBhcnNlKHVybDogc3RyaW5nKTogVXJsTGlrZSB7XG4gICAgY29uc3QgZWw6IEhUTUxBbmNob3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpIGFzIGFueTtcbiAgICBlbC5ocmVmID0gdXJsO1xuICAgIGNvbnN0IG91dDogYW55ID0ge307XG5cbiAgICBjb25zdCBwcm9wcyA9IFtcbiAgICAgICd1c2VybmFtZScsXG4gICAgICAncGFzc3dvcmQnLFxuICAgICAgJ2hvc3QnLFxuICAgICAgJ2hvc3RuYW1lJyxcbiAgICAgICdwb3J0JyxcbiAgICAgICdwcm90b2NvbCcsXG4gICAgICAnb3JpZ2luJyxcbiAgICAgICdwYXRobmFtZScsXG4gICAgICAnc2VhcmNoJyxcbiAgICAgICdoYXNoJyxcbiAgICBdIGFzIGNvbnN0O1xuXG4gICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BzKSB7XG4gICAgICBvdXRbcHJvcF0gPSBlbFtwcm9wXTtcbiAgICB9XG5cbiAgICAvLyBJRSAxMSBwYXRobmFtZSBoYW5kbGluZyB3b3JrYXJvdW5kXG4gICAgLy8gKElFIG9taXRzIHByZWNlZWRpbmcgJy8nLCB1bmxpa2Ugb3RoZXIgYnJvd3NlcnMpXG4gICAgaWYgKFxuICAgICAgKG91dC5wYXRobmFtZSB8fCBvdXQucGF0aG5hbWUgPT09ICcnKSAmJlxuICAgICAgdHlwZW9mIG91dC5wYXRobmFtZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgIG91dC5wYXRobmFtZS5pbmRleE9mKCcvJykgIT09IDBcbiAgICApIHtcbiAgICAgIG91dC5wYXRobmFtZSA9ICcvJyArIG91dC5wYXRobmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xuICB9LFxufTtcblxuY29uc3QgcGFyc2U6ICh1cmw6IHN0cmluZykgPT4gVXJsTGlrZSA9IGlzUmVhY3ROYXRpdmVcbiAgPyAoKSA9PiBlbXB0eVVybCgpXG4gIDogdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCdcbiAgICA/IHVybFBhcnNlci5wYXJzZVxuICAgIDogdXJsUGFyc2U7XG5cbmZ1bmN0aW9uIHNldENvb2tpZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXM/OiBEYXRlKSB7XG4gIHRyeSB7XG4gICAgbGV0IGV4cGlyZXNTdHJpbmcgPSAnJztcblxuICAgIC8vIFRPRE86IG5lZWQgdG8ga25vdyBpZiBzZWN1cmUgc2VydmVyIHNpZGVcbiAgICBpZiAoZXhwaXJlcykge1xuICAgICAgZXhwaXJlc1N0cmluZyA9ICc7IGV4cGlyZXM9JyArIGV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWN1cmUgPSBpc0Jyb3dzZXIgPyBsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgOiB0cnVlO1xuICAgIGRvY3VtZW50LmNvb2tpZSA9XG4gICAgICBuYW1lICtcbiAgICAgICc9JyArXG4gICAgICAodmFsdWUgfHwgJycpICtcbiAgICAgIGV4cGlyZXNTdHJpbmcgK1xuICAgICAgJzsgcGF0aD0vJyArXG4gICAgICAoc2VjdXJlID8gJzsgc2VjdXJlOyBTYW1lU2l0ZT1Ob25lJyA6ICcnKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKCdDb3VsZCBub3Qgc2V0IGNvb2tpZScsIGVycik7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29va2llKG5hbWU6IHN0cmluZykge1xuICB0cnkge1xuICAgIHJldHVybiAoXG4gICAgICBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlKFxuICAgICAgICAgIG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnKD86KD86XnwuKjspXFxcXHMqJyArXG4gICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChuYW1lKS5yZXBsYWNlKC9bXFwtXFwuXFwrXFwqXS9nLCAnXFxcXCQmJykgK1xuICAgICAgICAgICAgICAnXFxcXHMqXFxcXD1cXFxccyooW147XSopLiokKXxeLiokJ1xuICAgICAgICAgICksXG4gICAgICAgICAgJyQxJ1xuICAgICAgICApXG4gICAgICApIHx8IG51bGxcbiAgICApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBnZXQgY29va2llJywgZXJyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaXplKG9iamVjdDogb2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gZmluZDxUID0gYW55Pih0YXJnZXQ6IFRbXSwgY2FsbGJhY2s6IChpdGVtOiBULCBpbmRleDogbnVtYmVyLCBsaXN0OiBUW10pID0+IGJvb2xlYW4pIHtcbiAgY29uc3QgbGlzdCA9IHRhcmdldDtcbiAgLy8gTWFrZXMgc3VyZXMgaXMgYWx3YXlzIGhhcyBhbiBwb3NpdGl2ZSBpbnRlZ2VyIGFzIGxlbmd0aC5cbiAgY29uc3QgbGVuZ3RoID0gbGlzdC5sZW5ndGggPj4+IDA7XG4gIGNvbnN0IHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbGVtZW50ID0gbGlzdFtpXTtcbiAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBlbGVtZW50LCBpLCBsaXN0KSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IHNlc3Npb25TdG9yYWdlS2V5ID0gJ2J1aWxkZXJTZXNzaW9uSWQnO1xuY29uc3QgbG9jYWxTdG9yYWdlS2V5ID0gJ2J1aWxkZXJWaXNpdG9ySWQnO1xuXG5leHBvcnQgY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgIWlzUmVhY3ROYXRpdmU7XG5leHBvcnQgY29uc3QgaXNJZnJhbWUgPSBpc0Jyb3dzZXIgJiYgd2luZG93LnRvcCAhPT0gd2luZG93LnNlbGY7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyYW1zTWFwIHtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG50eXBlIFRyYWNraW5nSG9vayA9IChcbiAgZXZlbnREYXRhOiBFdmVudCxcbiAgY29udGV4dDogeyBjb250ZW50PzogQnVpbGRlckNvbnRlbnQ7IFtrZXk6IHN0cmluZ106IGFueSB9XG4pID0+IEV2ZW50IHwgdW5kZWZpbmVkO1xuXG5pbnRlcmZhY2UgRXZlbnREYXRhIHtcbiAgY29udGVudElkPzogc3RyaW5nO1xuICBvd25lcklkOiBzdHJpbmc7XG4gIHZhcmlhdGlvbklkPzogc3RyaW5nO1xuICB1c2VyQXR0cmlidXRlcz86IGFueTtcbiAgdGFyZ2V0U2VsZWN0b3I/OiBzdHJpbmc7XG4gIHRhcmdldEJ1aWxkZXJFbGVtZW50Pzogc3RyaW5nO1xuICB1bmlxdWU/OiBib29sZWFuO1xuICBtZXRhZGF0YT86IGFueSB8IHN0cmluZztcbiAgbWV0YT86IGFueSB8IHN0cmluZztcbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xuICB2aXNpdG9ySWQ/OiBzdHJpbmc7XG4gIGFtb3VudD86IG51bWJlcjtcbn1cbi8vIFRPRE86IHNoYXJlIGludGVyZmFjZXMgd2l0aCBBUElcbmludGVyZmFjZSBFdmVudCB7XG4gIHR5cGU6IHN0cmluZztcbiAgZGF0YTogRXZlbnREYXRhO1xufVxuXG4vKipcbiAqIEF0dHJpYnV0ZXMgdGhhdCBjYW4gYmUgdXNlZCBmb3IgY3VzdG9tIHRhcmdldGluZy4ge0BsaW5rXG4gKiBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9ndWlkZXMvdGFyZ2V0aW5nLWFuZC1zY2hlZHVsaW5nfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJBdHRyaWJ1dGVzIHtcbiAgW2tleTogc3RyaW5nXTpcbiAgICB8IHVuZGVmaW5lZFxuICAgIHwgc3RyaW5nXG4gICAgfCBzdHJpbmdbXVxuICAgIHwgYm9vbGVhblxuICAgIHwgYm9vbGVhbltdXG4gICAgfCBudW1iZXJcbiAgICB8IG51bWJlcltdXG4gICAgfCBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAvKipcbiAgICogVVJMIHBhdGggb2YgdGhlIGN1cnJlbnQgdXNlci5cbiAgICovXG4gIHVybFBhdGg/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBxdWVyeVN0cmluZz86IHN0cmluZyB8IFBhcmFtc01hcDtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIGRldmljZT86ICdtb2JpbGUnIHwgJ3RhYmxldCcgfCAnZGVza3RvcCc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBsb2NhdGlvbj86IGFueTtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIHVzZXJBZ2VudD86IHN0cmluZztcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIHJlZmVycmVyPzogc3RyaW5nO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQGhpZGRlblxuICAgKi9cbiAgZW50cnlNZWRpdW0/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBsYW5ndWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIGJyb3dzZXI/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBjb29raWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBuZXdWaXNpdG9yPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIG9wZXJhdGluZ1N5c3RlbT86IHN0cmluZztcbn1cblxudHlwZSBBbGxvd0VucmljaCA9XG4gIHwgeyBhcGlWZXJzaW9uPzogRXh0cmFjdDxBcGlWZXJzaW9uLCAndjEnPiB9XG4gIHwgeyBhcGlWZXJzaW9uPzogRXh0cmFjdDxBcGlWZXJzaW9uLCAndjMnPjsgZW5yaWNoPzogYm9vbGVhbiB9XG4gIHwgeyBhcGlWZXJzaW9uPzogbmV2ZXI7IGVucmljaD86IGJvb2xlYW4gfTtcblxuZXhwb3J0IHR5cGUgR2V0Q29udGVudE9wdGlvbnMgPSBBbGxvd0VucmljaCAmIHtcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGZldGNoIG9wdGlvbnMgdG8gYmUgcGFzc2VkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gdGhlIGBmZXRjaGAgZnVuY3Rpb24uXG4gICAqL1xuICBmZXRjaE9wdGlvbnM/OiBvYmplY3Q7XG5cbiAgLyoqXG4gICAqIFVzZXIgYXR0cmlidXRlIGtleSB2YWx1ZSBwYWlycyB0byBiZSB1c2VkIGZvciB0YXJnZXRpbmdcbiAgICogaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3MvY3VzdG9tLXRhcmdldGluZy1hdHRyaWJ1dGVzXG4gICAqXG4gICAqIGUuZy5cbiAgICogYGBganNcbiAgICogdXNlckF0dHJpYnV0ZXM6IHtcbiAgICogICB1cmxQYXRoOiAnLycsXG4gICAqICAgcmV0dXJuVmlzaXRvcjogdHJ1ZSxcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIHVzZXJBdHRyaWJ1dGVzPzogVXNlckF0dHJpYnV0ZXM7XG4gIC8qKlxuICAgKiBBbGlhcyBmb3IgdXNlckF0dHJpYnV0ZXMudXJsUGF0aCBleGNlcHQgaXQgY2FuIGhhbmRsZSBhIGZ1bGwgVVJMIChvcHRpb25hbGx5IHdpdGggaG9zdCxcbiAgICogcHJvdG9jb2wsIHF1ZXJ5LCBldGMpIGFuZCB3ZSB3aWxsIHBhcnNlIG91dCB0aGUgcGF0aC5cbiAgICovXG4gIHVybD86IHN0cmluZztcbiAgLyoqXG4gICAqIEBwYWNrYWdlXG4gICAqL1xuICBpbmNsdWRlVXJsPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEluY2x1ZGUgY29udGVudCBvZiByZWZlcmVuY2VzIGluIHRoZSByZXNwb25zZS5cbiAgICogSWYgeW91IHVzZSB0aGUgYHJlZmVyZW5jZWAgZmllbGQgdG8gcHVsbCBpbiBvdGhlciBjb250ZW50IHdpdGhvdXQgdGhpc1xuICAgKiBlbmFibGVkIHdlIHdpbGwgbm90IGZldGNoIHRoYXQgY29udGVudCBmb3IgdGhlIGZpbmFsIHJlc3BvbnNlLlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGVucmljaGAgaW5zdGVhZFxuICAgKi9cbiAgaW5jbHVkZVJlZnM/OiBib29sZWFuO1xuICAvKipcbiAgICogU2Vjb25kcyB0byBjYWNoZSBjb250ZW50LiBTZXRzIHRoZSBtYXgtYWdlIG9mIHRoZSBjYWNoZS1jb250cm9sIGhlYWRlclxuICAgKiByZXNwb25zZSBoZWFkZXIuXG4gICAqXG4gICAqIFVzZSBhIGhpZ2hlciB2YWx1ZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLCBsb3dlciBmb3IgY29udGVudCB0aGF0IHdpbGwgY2hhbmdlIG1vcmUgZnJlcXVlbnRseVxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9xdWVyeS1hcGkjX19uZXh0On46dGV4dD0lMjZpbmNsdWRlUmVmcyUzRHRydWUtLGNhY2hlU2Vjb25kcywtTm99XG4gICAqL1xuICBjYWNoZVNlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBCdWlsZGVyLmlvIHVzZXMgc3RhbGUtd2hpbGUtcmV2YWxpZGF0ZSBjYWNoaW5nIGF0IHRoZSBDRE4gbGV2ZWwuIFRoaXMgbWVhbnMgd2UgYWx3YXlzIHNlcnZlXG4gICAqIGZyb20gZWRnZSBjYWNoZSBhbmQgdXBkYXRlIGNhY2hlcyBpbiB0aGUgYmFja2dyb3VuZCBmb3IgbWF4aW11bSBwb3NzaWJsZSBwZXJmb3JtYW5jZS4gVGhpcyBhbHNvXG4gICAqIG1lYW5zIHRoYXQgdGhlIG1vcmUgZnJlcXVlbnRseSBjb250ZW50IGlzIHJlcXVlc3RlZCwgdGhlIG1vcmUgZnJlc2ggaXQgd2lsbCBiZS4gVGhlIGxvbmdlc3Qgd2VcbiAgICogd2lsbCBldmVyIGhvbGQgc29tZXRoaW5nIGluIHN0YWxlIGNhY2hlIGlzIDEgZGF5IGJ5IGRlZmF1bHQsIGFuZCB5b3UgY2FuIHNldCB0aGlzIHRvIGJlIHNob3J0ZXJcbiAgICogeW91cnNlbGYgYXMgd2VsbC4gV2Ugc3VnZ2VzdCBrZWVwaW5nIHRoaXMgaGlnaCB1bmxlc3MgeW91IGhhdmUgY29udGVudCB0aGF0IG11c3QgY2hhbmdlIHJhcGlkbHlcbiAgICogYW5kIGdldHMgdmVyeSBsaXR0bGUgdHJhZmZpYy5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuZmFzdGx5LmNvbS9ibG9nL3ByZXZlbnQtYXBwbGljYXRpb24tbmV0d29yay1pbnN0YWJpbGl0eS1zZXJ2ZS1zdGFsZS1jb250ZW50fVxuICAgKi9cbiAgc3RhbGVDYWNoZVNlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBNYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gRGVmYXVsdHMgdG8gYDFgLlxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBVc2UgdG8gc3BlY2lmeSBhbiBvZmZzZXQgZm9yIHBhZ2luYXRpb24gb2YgcmVzdWx0cy4gVGhlIGRlZmF1bHQgaXMgMC5cbiAgICovXG4gIG9mZnNldD86IG51bWJlcjtcbiAgLyoqXG4gICAqIE1vbmdvZGIgc3R5bGUgcXVlcnkgb2YgeW91ciBkYXRhLiBFLmcuOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBxdWVyeToge1xuICAgKiAgaWQ6ICdhYmMxMjMnLFxuICAgKiAgZGF0YToge1xuICAgKiAgICBteUN1c3RvbUZpZWxkOiB7ICRndDogMjAgfSxcbiAgICogIH1cbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogU2VlIG1vcmUgaW5mbyBvbiBNb25nb0RCJ3MgcXVlcnkgb3BlcmF0b3JzIGFuZCBmb3JtYXQuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZG9jcy5tb25nb2RiLmNvbS9tYW51YWwvcmVmZXJlbmNlL29wZXJhdG9yL3F1ZXJ5L31cbiAgICovXG4gIHF1ZXJ5PzogYW55O1xuICAvKipcbiAgICogQnVzdCB0aHJvdWdoIGFsbCBjYWNoZXMuIE5vdCByZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbiAoZm9yIHBlcmZvcm1hbmNlKSxcbiAgICogYnV0IGNhbiBiZSB1c2VmdWwgZm9yIGRldmVsb3BtZW50IGFuZCBzdGF0aWMgYnVpbGRzIChzbyB0aGUgc3RhdGljIHNpdGUgaGFzXG4gICAqIGZ1bGx5IGZyZXNoIC8gdXAgdG8gZGF0ZSBjb250ZW50KVxuICAgKi9cbiAgY2FjaGVidXN0PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENvbnZlcnQgYW55IHZpc3VhbCBidWlsZGVyIGNvbnRlbnQgdG8gSFRNTC5cbiAgICpcbiAgICogVGhpcyB3aWxsIGJlIG9uIGRhdGEuaHRtbCBvZiB0aGUgcmVzcG9uc2UncyBjb250ZW50IGVudHJ5IG9iamVjdCBqc29uLlxuICAgKi9cbiAgcHJlcmVuZGVyPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEV4dHJhY3QgYW55IHN0eWxlcyB0byBhIHNlcGFyYXRlIGNzcyBwcm9wZXJ0eSB3aGVuIGdlbmVyYXRpbmcgSFRNTC5cbiAgICovXG4gIGV4dHJhY3RDc3M/OiBib29sZWFuO1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogYEJ1aWxkZXJDb250ZW50YCB0byByZW5kZXIgaW5zdGVhZCBvZiBmZXRjaGluZy5cbiAgICovXG4gIGluaXRpYWxDb250ZW50PzogYW55O1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIG1vZGVsIHRvIGZldGNoIGNvbnRlbnQgZm9yLlxuICAgKi9cbiAgbW9kZWw/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBTZXQgdG8gYGZhbHNlYCB0byBub3QgY2FjaGUgcmVzcG9uc2VzIHdoZW4gcnVubmluZyBvbiB0aGUgY2xpZW50LlxuICAgKi9cbiAgY2FjaGU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gdGhlIGN1cnJlbnQgbG9jYWxlIGluIHlvdXIgYXBwbGljYXRpb24gaWYgeW91IHdhbnQgbG9jYWxpemVkIGlucHV0cyB0byBiZSBhdXRvLXJlc29sdmVkLCBzaG91bGQgbWF0Y2ggb25lIG9mIHRoZSBsb2NhbGVzIGtleXMgaW4geW91ciBzcGFjZSBzZXR0aW5nc1xuICAgKiBMZWFybiBtb3JlIGFib3V0IGFkZGluZyBvciByZW1vdmluZyBsb2NhbGVzIFtoZXJlXShodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9hZGQtcmVtb3ZlLWxvY2FsZXMpXG4gICAqL1xuICBsb2NhbGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAcGFja2FnZVxuICAgKlxuICAgKiBJbmRpY2F0ZSB0aGF0IHRoZSBmZXRjaCByZXF1ZXN0IGlzIGZvciBwcmV2aWV3IHB1cnBvc2VzLlxuICAgKi9cbiAgcHJldmlldz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBTcGVjaWZpYyBjb250ZW50IGVudHJ5IElEIHRvIGZldGNoLlxuICAgKi9cbiAgZW50cnk/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAcGFja2FnZVxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBhbGlhcz86IHN0cmluZztcbiAgLyoqXG4gICAqIE9ubHkgaW5jbHVkZSB0aGVzZSBmaWVsZHMuXG4gICAqIE5vdGU6ICdvbWl0JyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgJ2ZpZWxkcydcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIGZpZWxkczogJ2lkLCBuYW1lLCBkYXRhLmN1c3RvbUZpZWxkJ1xuICAgKiBgYGBcbiAgICovXG4gIGZpZWxkcz86IHN0cmluZztcbiAgLyoqXG4gICAqIE9taXQgb25seSB0aGVzZSBmaWVsZHMuXG4gICAqIE5vdGU6ICdvbWl0JyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgJ2ZpZWxkcydcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIG9taXQ6ICdkYXRhLmJpZ0ZpZWxkLGRhdGEuYmxvY2tzJ1xuICAgKiBgYGBcbiAgICovXG4gIG9taXQ/OiBzdHJpbmc7XG4gIGtleT86IHN0cmluZztcbiAgLyoqXG4gICAqIEBwYWNrYWdlXG4gICAqXG4gICAqIEFmZmVjdHMgSFRNTCBnZW5lcmF0aW9uIGZvciBzcGVjaWZpYyB0YXJnZXRzLlxuICAgKi9cbiAgZm9ybWF0PzogJ2FtcCcgfCAnZW1haWwnIHwgJ2h0bWwnIHwgJ3JlYWN0JyB8ICdzb2xpZCc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBub1dyYXA/OiB0cnVlO1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogU3BlY2lmaWMgc3RyaW5nIHRvIHVzZSBmb3IgY2FjaGUgYnVzdGluZy4gZS5nLiBldmVyeSB0aW1lIHdlIGdlbmVyYXRlXG4gICAqIEhUTUwgd2UgZ2VuZXJhdGUgYSByZXYgKGEgcmV2aXNpb24gSUQpIGFuZCB3ZSBzZW5kIHRoYXQgd2l0aCBlYWNoIHJlcXVlc3RcbiAgICogb24gdGhlIGNsaWVudCwgc3VjaCB0aGF0IGlmIHdlIGdlbmVyYXRlIG5ldyBzZXJ2ZXIgSFRNTCB3ZSBnZXQgYSBuZXcgcmV2XG4gICAqIGFuZCB3ZSB1c2UgdGhhdCB0byBidXN0IHRoZSBjYWNoZSBiZWNhdXNlIGV2ZW4gdGhvdWdoIHRoZSBjb250ZW50IElEIG1heVxuICAgKiBiZSB0aGUgc2FtZSwgaXQgY291bGQgYmUgYW4gdXBkYXRlZCB2ZXJzaW9uIG9mIHRoaXMgY29udGVudCB0aGF0IG5lZWRzIHRvXG4gICAqIGJlIGZyZXNoLlxuICAgKi9cbiAgcmV2Pzogc3RyaW5nO1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogVGVsbCB0aGUgQVBJIHRoYXQgd2hlbiBnZW5lcmF0aW5nIEhUTUwgdG8gZ2VuZXJhdGUgaXQgaW4gc3RhdGljIG1vZGUgZm9yXG4gICAqIGEvYiB0ZXN0cyBpbnN0ZWFkIG9mIHRoZSBvbGRlciB3YXkgd2UgZGlkIHRoaXNcbiAgICovXG4gIHN0YXRpYz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIHF1ZXJ5IHBhcmFtcyBvZiB0aGUgQ29udGVudCBBUEkgdG8gc2VuZC5cbiAgICovXG4gIG9wdGlvbnM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogQHBhY2thZ2VcbiAgICpcbiAgICogRG9uJ3QgbGlzdGVuIHRvIHVwZGF0ZXMgaW4gdGhlIGVkaXRvciAtIHRoaXMgaXMgdXNlZnVsIGZvciBlbWJlZGRlZFxuICAgKiBzeW1ib2xzIHNvIHRoZXkgZG9uJ3QgYWNjaWRlbnRhbGx5IGxpc3RlbiB0byBtZXNzYWdlcyBhcyB5b3UgYXJlIGVkaXRpbmdcbiAgICogY29udGVudCB0aGlua2luZyB0aGV5IHNob3VsZCB1cGRhdGVzIHdoZW4gdGhleSBhY3R1YWxseSBzaG91bGRuJ3QuXG4gICAqL1xuICBub0VkaXRvclVwZGF0ZXM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gYHRydWVgLCBpdCB3aWxsIGxhenkgbG9hZCBzeW1ib2xzL3JlZmVyZW5jZXMuXG4gICAqIElmIHNldCB0byBgZmFsc2VgLCBpdCB3aWxsIHJlbmRlciB0aGUgZW50aXJlIGNvbnRlbnQgdHJlZSBlYWdlcmx5LlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGVucmljaGAgaW5zdGVhZFxuICAgKi9cbiAgbm9UcmF2ZXJzZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFByb3BlcnR5IHRvIG9yZGVyIHJlc3VsdHMgYnkuXG4gICAqIFVzZSAxIGZvciBhc2NlbmRpbmcgYW5kIC0xIGZvciBkZXNjZW5kaW5nLlxuICAgKlxuICAgKiBUaGUga2V5IGlzIHdoYXQgeW91J3JlIHNvcnRpbmcgb24sIHNvIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzb3J0cyBieSBjcmVhdGVkRGF0ZVxuICAgKiBhbmQgYmVjYXVzZSB0aGUgdmFsdWUgaXMgMSwgdGhlIHNvcnQgaXMgYXNjZW5kaW5nLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBcbiAgICogY3JlYXRlZERhdGU6IDFcbiAgICogYGBgXG4gICAqL1xuICBzb3J0PzogeyBba2V5OiBzdHJpbmddOiAxIHwgLTEgfTtcblxuICAvKipcbiAgICogSW5jbHVkZSBjb250ZW50IGVudHJpZXMgaW4gYSByZXNwb25zZSB0aGF0IGFyZSBzdGlsbCBpblxuICAgKiBkcmFmdCBtb2RlIGFuZCB1bi1hcmNoaXZlZC4gRGVmYXVsdCBpcyBmYWxzZS5cbiAgICovXG4gIGluY2x1ZGVVbnB1Ymxpc2hlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgdG8gY29uZmlndXJlIGhvdyBlbnJpY2htZW50IHdvcmtzLlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9jb250ZW50LWFwaSNjb2RlLWVucmljaC1vcHRpb25zLWNvZGV9XG4gICAqL1xuICBlbnJpY2hPcHRpb25zPzoge1xuICAgIC8qKlxuICAgICAqIFRoZSBkZXB0aCBsZXZlbCBmb3IgZW5yaWNoaW5nIHJlZmVyZW5jZXMuIEZvciBleGFtcGxlLCBhbiBlbnJpY2hMZXZlbCBvZiAxXG4gICAgICogd291bGQgcmV0dXJuIG9uZSBhZGRpdGlvbmFsIG5lc3RlZCBtb2RlbCB3aXRoaW4gdGhlIG9yaWdpbmFsIHJlc3BvbnNlLlxuICAgICAqIFRoZSBtYXhpbXVtIGxldmVsIGlzIDQuXG4gICAgICovXG4gICAgZW5yaWNoTGV2ZWw/OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBNb2RlbC1zcGVjaWZpYyBlbnJpY2htZW50IG9wdGlvbnMuIEFsbG93cyBzZWxlY3RpdmUgZmllbGQgaW5jbHVzaW9uL2V4Y2x1c2lvblxuICAgICAqIGZvciBlYWNoIHJlZmVyZW5jZWQgbW9kZWwgdHlwZS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGVucmljaE9wdGlvbnM6IHtcbiAgICAgKiAgIG1vZGVsOiB7XG4gICAgICogICAgICdwcm9kdWN0Jzoge1xuICAgICAqICAgICAgIGZpZWxkczogJ2lkLG5hbWUscHJpY2UnLFxuICAgICAqICAgICAgIG9taXQ6ICdkYXRhLmludGVybmFsTm90ZXMnXG4gICAgICogICAgIH0sXG4gICAgICogICAgICdjYXRlZ29yeSc6IHtcbiAgICAgKiAgICAgICBmaWVsZHM6ICdpZCxuYW1lJ1xuICAgICAqICAgICB9XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIG1vZGVsPzoge1xuICAgICAgW21vZGVsTmFtZTogc3RyaW5nXToge1xuICAgICAgICAvKiogQ29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgZmllbGRzIHRvIGluY2x1ZGUgKi9cbiAgICAgICAgZmllbGRzPzogc3RyaW5nO1xuICAgICAgICAvKiogQ29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgZmllbGRzIHRvIG9taXQgKi9cbiAgICAgICAgb21pdD86IHN0cmluZztcbiAgICAgICAgW2tleTogc3RyaW5nXTogYW55O1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgW2tleTogc3RyaW5nXTogYW55O1xuICB9O1xufTtcblxuZXhwb3J0IHR5cGUgQ2xhc3MgPSB7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIG5ldyAoLi4uYXJnczogYW55W10pOiBhbnk7XG59O1xuXG5pbnRlcmZhY2UgTWFwPEssIFY+IHtcbiAgY2xlYXIoKTogdm9pZDtcbiAgZGVsZXRlKGtleTogSyk6IGJvb2xlYW47XG4gIGVudHJpZXMoKTogSXRlcmFibGVJdGVyYXRvcjxbSywgVl0+O1xuICBmb3JFYWNoKGNhbGxiYWNrZm46ICh2YWx1ZTogViwgaW5kZXg6IEssIG1hcDogTWFwPEssIFY+KSA9PiB2b2lkLCB0aGlzQXJnPzogYW55KTogdm9pZDtcbiAgZ2V0KGtleTogSyk6IFY7XG4gIGhhcyhrZXk6IEspOiBib29sZWFuO1xuICBrZXlzKCk6IEl0ZXJhYmxlSXRlcmF0b3I8Sz47XG4gIHNldChrZXk6IEssIHZhbHVlPzogVik6IE1hcDxLLCBWPjtcbiAgc2l6ZTogbnVtYmVyO1xuICB2YWx1ZXMoKTogSXRlcmFibGVJdGVyYXRvcjxWPjtcbiAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmFibGVJdGVyYXRvcjxbSywgVl0+O1xufVxuXG4vKipcbiAqIFRoaXMgaXMgdGhlIGludGVyZmFjZSBmb3IgaW5wdXRzIGluIGBCdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50YFxuICpcbiAqIGBgYGpzXG4gKiBCdWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50KE15Q29tcG9uZW50LCB7XG4gKiAgIGlucHV0czogW3sgbmFtZTogJ3RpdGxlJywgdHlwZTogJ3RleHQnIH1dIC8vIDwtIElucHV0W11cbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBMZWFybiBtb3JlIGFib3V0IHJlZ2lzdGVyaW5nIGN1c3RvbSBjb21wb25lbnRzIFtoZXJlXShodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9jdXN0b20tcmVhY3QtY29tcG9uZW50cylcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnB1dCB7XG4gIC8qKiBUaGlzIGlzIHRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQgcHJvcCB0aGlzIGlucHV0IHJlcHJlc2VudHMgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogQSBmcmllbmRsaWVyIG5hbWUgdG8gc2hvdyBpbiB0aGUgVUkgaWYgdGhlIGNvbXBvbmVudCBwcm9wIG5hbWUgaXMgbm90IGlkZWFsIGZvciBlbmQgdXNlcnMgKi9cbiAgZnJpZW5kbHlOYW1lPzogc3RyaW5nO1xuICAvKiogQSBkZXNjcmlwdGlvbiB0byBzaG93IGluIHRoZSBVSSB0byBnaXZlIGd1aWRhbmNlIG9uIGhvdyB0byB1c2UgdGhpcyBpbnB1dCAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgLyoqIEEgZGVmYXVsdCB2YWx1ZSB0byB1c2UgKi9cbiAgZGVmYXVsdFZhbHVlPzogYW55O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgaW5wdXQgdG8gdXNlLCBzdWNoIGFzICd0ZXh0J1xuICAgKlxuICAgKiBTZWUgYWxsIGF2YWlsYWJsZSBpbnB1dHMgW2hlcmVdKGh0dHBzOi8vd3d3LmJ1aWxkZXIuaW8vYy9kb2NzL2N1c3RvbS1jb21wb25lbnRzLWlucHV0LXR5cGVzKVxuICAgKiBhbmQgeW91IGNhbiBjcmVhdGUgeW91ciBvd24gY3VzdG9tIGlucHV0IHR5cGVzIGFuZCBhc3NvY2lhdGVkIGVkaXRvciBVSXMgd2l0aCBbcGx1Z2luc10oaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3MvZXh0ZW5kaW5nL3BsdWdpbnMpXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKiBJcyB0aGlzIGlucHV0IG1hbmRhdG9yeSBvciBub3QgKi9cbiAgcmVxdWlyZWQ/OiBib29sZWFuO1xuICAvKiogQGhpZGRlbiAqL1xuICBhdXRvRm9jdXM/OiBib29sZWFuO1xuICBzdWJGaWVsZHM/OiByZWFkb25seSBJbnB1dFtdO1xuICAvKipcbiAgICogV2hlbiBpbnB1dCBpcyBvZiBgdHlwZWAgYG9iamVjdGAsIHVzZSB0aGlzIGZpZWxkIHRvIGNvbGxhcHNlIG11bHRpcGxlIGlucHV0c1xuICAgKiBpbiB0aGUgVmlzdWFsIEVkaXRvciBieSBkZWZhdWx0IGFuZCBwcmVzZXJ2ZSBzY3JlZW4gc3BhY2UuXG4gICAqL1xuICBmb2xkZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICogV2hlbiBpbnB1dCBpcyBvZiBgdHlwZWAgYG9iamVjdGAsIHByb3ZpZGUgZ3VpZGFuY2UgaW4gdGhlIFZpc3VhbCBFZGl0b3JcbiAgICogb24gaG93IHRvIGVkaXQgdGhpcyBvYmplY3QncyBjb250ZW50cy5cbiAgICovXG4gIGtleXNIZWxwZXJUZXh0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIHRleHQgdG8gcmVuZGVyIGluIHRoZSBVSSB0byBnaXZlIGd1aWRhbmNlIG9uIGhvdyB0byB1c2UgdGhpc1xuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqc1xuICAgKiBoZWxwZXJUZXh0OiAnQmUgc3VyZSB0byB1c2UgYSBwcm9wZXIgVVJMLCBzdGFydGluZyB3aXRoIFwiaHR0cHM6Ly9cIidcbiAgICogMTExXG4gICAqL1xuICBoZWxwZXJUZXh0Pzogc3RyaW5nO1xuICAvKiogQGhpZGRlbiAqL1xuICBhbGxvd2VkRmlsZVR5cGVzPzogcmVhZG9ubHkgc3RyaW5nW107XG4gIC8qKiBAaGlkZGVuICovXG4gIGltYWdlSGVpZ2h0PzogbnVtYmVyO1xuICAvKiogQGhpZGRlbiAqL1xuICBiZWhhdmlvcj86IHN0cmluZztcbiAgLyoqIEBoaWRkZW4gKi9cbiAgaW1hZ2VXaWR0aD86IG51bWJlcjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgbWVkaWFIZWlnaHQ/OiBudW1iZXI7XG4gIC8qKiBAaGlkZGVuICovXG4gIG1lZGlhV2lkdGg/OiBudW1iZXI7XG4gIC8qKiBAaGlkZGVuICovXG4gIGhpZGVGcm9tVUk/OiBib29sZWFuO1xuICAvKiogQGhpZGRlbiAqL1xuICBtb2RlbElkPzogc3RyaW5nO1xuICAvKipcbiAgICogTnVtYmVyIGZpZWxkIHR5cGUgdmFsaWRhdGlvbiBtYXhpbXVtIGFjY2VwdGVkIGlucHV0XG4gICAqL1xuICBtYXg/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBOdW1iZXIgZmllbGQgdHlwZSB2YWxpZGF0aW9uIG1pbmltdW0gYWNjZXB0ZWQgaW5wdXRcbiAgICovXG4gIG1pbj86IG51bWJlcjtcbiAgLyoqXG4gICAqIE51bWJlciBmaWVsZCB0eXBlIHN0ZXAgc2l6ZSB3aGVuIHVzaW5nIGFycm93c1xuICAgKi9cbiAgc3RlcD86IG51bWJlcjtcblxuICAvKipcbiAgICogU2V0IHRoaXMgdG8gYHRydWVgIHRvIHNob3cgdGhlIGVkaXRvciBmb3IgdGhpcyBpbnB1dCB3aGVuXG4gICAqIGNoaWxkcmVuIG9mIHRoaXMgY29tcG9uZW50IGFyZSBzZWxlY3RlZC4gVGhpcyBpcyB1c2VmdWwgZm9yIHRoaW5nc1xuICAgKiBsaWtlIFRhYnMsIHN1Y2ggdGhhdCB1c2VycyBtYXkgbm90IGFsd2F5cyBzZWxlY3QgdGhlIFRhYnMgY29tcG9uZW50XG4gICAqIGRpcmVjdGx5IGJ1dCB3aWxsIHN0aWxsIGJlIGxvb2tpbmcgZm9yIGhvdyB0byBhZGQgYWRkaXRpb25hbCB0YWJzXG4gICAqL1xuICBicm9hZGNhc3Q/OiBib29sZWFuO1xuICAvKipcbiAgICogU2V0IHRoaXMgdG8gYHRydWVgIHRvIHNob3cgdGhlIGVkaXRvciBmb3IgdGhpcyBpbnB1dCB3aGVuXG4gICAqIGdyb3VwIGxvY2tlZCBwYXJlbnRzIG9mIHRoaXMgY29tcG9uZW50IGFyZSBzZWxlY3RlZC4gVGhpcyBpcyB1c2VmdWxcbiAgICogdG8gYnViYmxlIHVwIGltcG9ydGFudCBpbnB1dHMgZm9yIGxvY2tlZCBncm91cHMsIGxpa2UgdGV4dCBhbmQgaW1hZ2VzXG4gICAqL1xuICBidWJibGU/OiBib29sZWFuO1xuICAvKipcbiAgICogU2V0IHRoaXMgdG8gYHRydWVgIGlmIHlvdSB3YW50IHRoaXMgY29tcG9uZW50IHRvIGJlIHRyYW5zbGF0YWJsZVxuICAgKi9cbiAgbG9jYWxpemVkPzogYm9vbGVhbjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgb3B0aW9ucz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKiBGb3IgXCJ0ZXh0XCIgaW5wdXQgdHlwZSwgc3BlY2lmeWluZyBhbiBlbnVtIHdpbGwgc2hvdyBhIGRyb3Bkb3duIG9mIG9wdGlvbnMgaW5zdGVhZFxuICAgKi9cbiAgZW51bT86XG4gICAgfCByZWFkb25seSBzdHJpbmdbXVxuICAgIHwgcmVhZG9ubHkgeyBsYWJlbDogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbjsgaGVscGVyVGV4dD86IHN0cmluZyB9W107XG4gIC8qKiBSZWdleCBmaWVsZCB2YWxpZGF0aW9uIGZvciBhbGwgc3RyaW5nIHR5cGVzICh0ZXh0LCBsb25nVGV4dCwgaHRtbCwgdXJsLCBldGMpICovXG4gIHJlZ2V4Pzoge1xuICAgIC8qKiBwYXR0ZXJuIHRvIHRlc3QsIGxpa2UgXCJeXFwvW2Etel0kXCIgKi9cbiAgICBwYXR0ZXJuOiBzdHJpbmc7XG4gICAgLyoqIGZsYWdzIGZvciB0aGUgUmVnRXhwIGNvbnN0cnVjdG9yLCBlLmcuIFwiZ2lcIiAgKi9cbiAgICBvcHRpb25zPzogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEZyaWVuZGx5IG1lc3NhZ2UgdG8gZGlzcGxheSB0byBlbmQtdXNlcnMgaWYgdGhlIHJlZ2V4IGZhaWxzLCBlLmcuXG4gICAgICogXCJZb3UgbXVzdCB1c2UgYSByZWxhdGl2ZSB1cmwgc3RhcnRpbmcgd2l0aCAnLy4uLicgXCJcbiAgICAgKi9cbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gIH07XG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0byBgdHJ1ZWAgdG8gcHV0IHRoaXMgdW5kZXIgdGhlIFwic2hvdyBtb3JlXCIgc2VjdGlvbiBvZlxuICAgKiB0aGUgb3B0aW9ucyBlZGl0b3IuIFVzZWZ1bCBmb3IgdGhpbmdzIHRoYXQgYXJlIG1vcmUgYWR2YW5jZWRcbiAgICogb3IgbW9yZSByYXJlbHkgdXNlZCBhbmQgZG9uJ3QgbmVlZCB0byBiZSB0b28gcHJvbWluZW50XG4gICAqL1xuICBhZHZhbmNlZD86IGJvb2xlYW47XG4gIC8qKiBAaGlkZGVuICovXG4gIG9uQ2hhbmdlPzogKFxuICAgIG9wdGlvbnM6IGFueSxcbiAgICBwcmV2aW91c09wdGlvbnM/OiBhbnlcbiAgKSA9PiBQcm9taXNlPHZvaWQ+IHwgKChvcHRpb25zOiBhbnksIHByZXZpb3VzT3B0aW9ucz86IGFueSkgPT4gdm9pZCkgfCBzdHJpbmcgfCB2b2lkIHwgdW5kZWZpbmVkO1xuICAvKiogQGhpZGRlbiAqL1xuICBjb2RlPzogYm9vbGVhbjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgcmljaFRleHQ/OiBib29sZWFuO1xuICAvKiogQGhpZGRlbiAqL1xuICBzaG93SWY/OiAoKG9wdGlvbnM6IE1hcDxzdHJpbmcsIGFueT4pID0+IGJvb2xlYW4pIHwgc3RyaW5nO1xuICAvKiogQGhpZGRlbiAqL1xuICBjb3B5T25BZGQ/OiBib29sZWFuO1xuICAvKipcbiAgICogVXNlIG9wdGlvbmFsbHkgd2l0aCBpbnB1dHMgb2YgdHlwZSBgcmVmZXJlbmNlYC4gUmVzdHJpY3RzIHRoZSBjb250ZW50IGVudHJ5IHBpY2tlciB0byBhIHNwZWNpZmljIG1vZGVsIGJ5IG5hbWUuXG4gICAqL1xuICBtb2RlbD86IHN0cmluZztcblxuICBtZXRhPzogUmVjb3JkPHN0cmluZywgYW55Pjtcbn1cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBpbnRlcmZhY2UgZm9yIHRoZSBvcHRpb25zIGZvciBgQnVpbGRlci5yZWdpc3RlckNvbXBvbmVudGBcbiAqXG4gKiBgYGBqc1xuICogQnVpbGRlci5yZWdpc3RlckNvbXBvbmVudChZb3VyQ29tcG9uZW50LCB7XG4gKiAgLy8gPC0gQ29tcG9uZW50IG9wdGlvbnNcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBMZWFybiBtb3JlIGFib3V0IHJlZ2lzdGVyaW5nIGN1c3RvbSBjb21wb25lbnRzIFtoZXJlXShodHRwczovL3d3dy5idWlsZGVyLmlvL2MvZG9jcy9jdXN0b20tcmVhY3QtY29tcG9uZW50cylcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnQge1xuICAvKipcbiAgICogTmFtZSB5b3VyIGNvbXBvbmVudCBzb21ldGhpbmcgdW5pcXVlLCBlLmcuICdNeUJ1dHRvbicuIFlvdSBjYW4gb3ZlcnJpZGUgYnVpbHQtaW4gY29tcG9uZW50c1xuICAgKiBieSByZWdpc3RlcmluZyBhIGNvbXBvbmVudCB3aXRoIHRoZSBzYW1lIG5hbWUsIGUuZy4gJ1RleHQnLCB0byByZXBsYWNlIHRoZSBidWlsdC1pbiB0ZXh0IGNvbXBvbmVudFxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKiogQGhpZGRlbiBAZGVwcmVjYXRlZCAqL1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgLyoqXG4gICAqIExpbmsgdG8gYSBkb2N1bWVudGF0aW9uIHBhZ2UgZm9yIHRoaXMgY29tcG9uZW50XG4gICAqL1xuICBkb2NzTGluaz86IHN0cmluZztcbiAgLyoqXG4gICAqIExpbmsgdG8gYW4gaW1hZ2UgdG8gYmUgdXNlZCBhcyBhbiBpY29uIGZvciB0aGlzIGNvbXBvbmVudCBpbiBCdWlsZGVyJ3MgZWRpdG9yXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIGltYWdlOiAnaHR0cHM6Ly9zb21lLWNkbi5jb20vbXktaWNvbi1mb3ItdGhpcy1jb21wb25lbnQucG5nJ1xuICAgKiBgYGBcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICogTGluayB0byBhIHNjcmVlbnNob3Qgc2hvd24gd2hlbiB1c2VyIGhvdmVycyBvdmVyIHRoZSBjb21wb25lbnQgaW4gQnVpbGRlcidzIGVkaXRvclxuICAgKiB1c2UgaHR0cHM6Ly9idWlsZGVyLmlvL3VwbG9hZCB0byB1cGxvYWQgeW91ciBzY3JlZXNob3QsIGZvciBlYXNpZXIgcmVzaXppbmcgYnkgQnVpbGRlci5cbiAgICovXG4gIHNjcmVlbnNob3Q/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoZW4gb3ZlcnJpZGluZyBidWlsdC1pbiBjb21wb25lbnRzLCBpZiB5b3UgZG9uJ3Qgd2FudCBhbnkgc3BlY2lhbCBiZWhhdmlvciB0aGF0XG4gICAqIHRoZSBvcmlnaW5hbCBoYXMsIHNldCB0aGlzIHRvIGB0cnVlYCB0byBza2lwIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG4gICAqXG4gICAqIERlZmF1bHQgYmVoYXZpb3JzIGluY2x1ZGUgc3BlY2lhbCBcInZpcnR1YWwgb3B0aW9uc1wiLCBzdWNoIGFzIGEgY3VzdG9tXG4gICAqIGFzcGVjdCByYXRpbyBlZGl0b3IgZm9yIEltYWdlcywgb3IgYSBzcGVjaWFsIGNvbHVtbiBlZGl0b3IgZm9yIENvbHVtbnNcbiAgICpcbiAgICogTGVhcm4gbW9yZSBhYm91dCBvdmVycmlkaW5nIGJ1aWx0LWluIGNvbXBvbmVudHMgaGVyZTogaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3MvY3VzdG9tLWNvbXBvbmVudHMtb3ZlcnJpZGluZ1xuICAgKi9cbiAgb3ZlcnJpZGU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJbnB1dCBzY2hlbWEgZm9yIHlvdXIgY29tcG9uZW50IGZvciB1c2VycyB0byBmaWxsIGluIHRoZSBvcHRpb25zIHZpYSBhIFVJXG4gICAqIHRoYXQgdHJhbnNsYXRlIHRvIHRoaXMgY29tcG9uZW50cyBwcm9wc1xuICAgKi9cbiAgaW5wdXRzPzogcmVhZG9ubHkgSW5wdXRbXTtcbiAgLyoqIEBoaWRkZW4gQGRlcHJlY2F0ZWQgKi9cbiAgY2xhc3M/OiBhbnk7XG4gIC8qKiBAaGlkZGVuIEBkZXByZWNhdGVkICovXG4gIHR5cGU/OiAnYW5ndWxhcicgfCAnd2ViY29tcG9uZW50JyB8ICdyZWFjdCcgfCAndnVlJztcbiAgLyoqXG4gICAqIERlZmF1bHQgc3R5bGVzIHRvIGFwcGx5IHdoZW4gZHJvcHBnZWQgaW50byB0aGUgQnVpbGRlci5pbyBlZGl0b3JcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBganNcbiAgICogZGVmYXVsdFN0eWxlczoge1xuICAgKiAgYXBwZWFyYW5jZTogJ25vbmUnLFxuICAgKiAgcGFkZGluZ1RvcDogJzE1cHgnLFxuICAgKiAgcGFkZGluZ0JvdHRvbTogJzE1cHgnLFxuICAgKiAgcGFkZGluZ0xlZnQ6ICcyNXB4JyxcbiAgICogIHBhZGRpbmdSaWdodDogJzI1cHgnLFxuICAgKiAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMCcsXG4gICAqICBjb2xvcjogJ3doaXRlJyxcbiAgICogIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBkZWZhdWx0U3R5bGVzPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqIFR1cm4gb24gaWYgeW91ciBjb21wb25lbnQgY2FuIGFjY2VwdCBjaGlsZHJlbi4gQmUgc3VyZSB0byB1c2UgaW4gY29tYmluYXRpb24gd2l0aFxuICAgKiB3aXRoQ2hpbGRyZW4oWW91ckNvbXBvbmVudCkgbGlrZSBoZXJlXG4gICAqIGdpdGh1Yi5jb20vQnVpbGRlcklPL2J1aWxkZXIvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvcmVhY3QtZGVzaWduLXN5c3RlbS9zcmMvY29tcG9uZW50cy9IZXJvV2l0aENoaWxkcmVuL0hlcm9XaXRoQ2hpbGRyZW4uYnVpbGRlci5qcyNMNVxuICAgKi9cbiAgY2FuSGF2ZUNoaWxkcmVuPzogYm9vbGVhbjtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgZnJhZ21lbnQ/OiBib29sZWFuO1xuICAvKipcbiAgICogRG8gbm90IHdyYXAgYSBjb21wb25lbnQgaW4gYSBkb20gZWxlbWVudC4gQmUgc3VyZSB0byB1c2Ugey4uLnByb3BzLmF0dHJpYnV0ZXN9IHdpdGggdGhpcyBvcHRpb25cbiAgICogbGlrZSBoZXJlIGdpdGh1Yi5jb20vQnVpbGRlcklPL2J1aWxkZXIvYmxvYi9tYXN0ZXIvcGFja2FnZXMvcmVhY3Qvc3JjL2Jsb2Nrcy9mb3Jtcy9JbnB1dC50c3gjTDM0XG4gICAqL1xuICBub1dyYXA/OiBib29sZWFuO1xuICAvKipcbiAgICogRGVmYXVsdCBjaGlsZHJlblxuICAgKi9cbiAgZGVmYXVsdENoaWxkcmVuPzogcmVhZG9ubHkgQnVpbGRlckVsZW1lbnRbXTtcbiAgLyoqXG4gICAqIERlZmF1bHQgb3B0aW9ucyB0byBtZXJnZSBpbiB3aGVuIGNyZWF0aW5nIHRoaXMgYmxvY2tcbiAgICovXG4gIGRlZmF1bHRzPzogUGFydGlhbDxCdWlsZGVyRWxlbWVudD47XG4gIC8qKiBAaGlkZGVuIEBkZXByZWNhdGVkICovXG4gIGhvb2tzPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBGdW5jdGlvbiB9O1xuICAvKipcbiAgICogSGlkZSB5b3VyIGNvbXBvbmVudCBpbiBlZGl0b3IsIHVzZWZ1bCBmb3IgZ3JhZHVhbGx5IGRlcHJlY2F0aW5nIGNvbXBvbmVudHNcbiAgICovXG4gIGhpZGVGcm9tSW5zZXJ0TWVudT86IGJvb2xlYW47XG4gIC8qKiBDdXN0b20gdGFnIG5hbWUgKGZvciBjdXN0b20gd2ViY29tcG9uZW50cyBvbmx5KSAqL1xuICB0YWc/OiBzdHJpbmc7XG4gIC8qKiBAaGlkZGVuIEBkZXByZWNhdGVkICovXG4gIHN0YXRpYz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBQYXNzaW5nIGEgbGlzdCBvZiBtb2RlbCBuYW1lcyB3aWxsIHJlc3RyaWN0IHVzaW5nIHRoZSBjb21wb25lbnQgdG8gb25seSB0aGUgbW9kZWxzIGxpc3RlZCBoZXJlLCBvdGhlcndpc2UgaXQnbGwgYmUgYXZhaWxhYmxlIGZvciBhbGwgbW9kZWxzXG4gICAqL1xuICBtb2RlbHM/OiByZWFkb25seSBzdHJpbmdbXTtcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgY29tcG9uZW50IGlzIGEgUmVhY3QgU2VydmVyIENvbXBvbmVudFxuICAgKi9cbiAgaXNSU0M/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZ5IHJlc3RyaWN0aW9ucyBkaXJlY3QgY2hpbGRyZW4gbXVzdCBtYXRjaFxuICAgKi9cbiAgY2hpbGRSZXF1aXJlbWVudHM/OiB7XG4gICAgLyoqIE1lc3NhZ2UgdG8gc2hvdyB3aGVuIHRoaXMgZG9lc24ndCBtYXRjaCwgZS5nLiBcIkNoaWxkcmVuIG9mICdDb2x1bW5zJyBtdXN0IGJlIGEgJ0NvbHVtbidcIiAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICAvKiogU2ltcGxlIHdheSB0byBzYXkgY2hpbGRyZW4gbXVzdCBiZSBhIHNwZWNpZmljIGNvbXBvbmVudCBuYW1lICovXG4gICAgY29tcG9uZW50Pzogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIE1vcmUgYWR2YW5jZWQgLSBzcGVjaWZ5IGEgTW9uZ29EQi1zdHlsZSBxdWVyeSAodXNpbmcgc2lmdC5qcyBnaXRodWIuY29tL2NyY24vc2lmdC5qcylcbiAgICAgKiBvZiB3aGF0IHRoZSBjaGlsZHJlbiBvYmplY3RzIHNob3VsZCBtYXRjaCwgZS5nLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgcXVlcnk6IHtcbiAgICAgKiAgICAvLyBDaGlsZCBvZiB0aGlzIGVsZW1lbnQgbXVzdCBiZSBhICdCdXR0b24nIG9yICdUZXh0JyBjb21wb25lbnRcbiAgICAgKiAgICAnY29tcG9uZW50Lm5hbWUnOiB7ICRpbjogWydCdXR0b24nLCAnVGV4dCddIH1cbiAgICAgKiAgfVxuICAgICAqL1xuICAgIHF1ZXJ5PzogYW55O1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZ5IHJlc3RyaWN0aW9ucyBhbnkgcGFyZW50IG11c3QgbWF0Y2hcbiAgICovXG4gIHJlcXVpcmVzUGFyZW50Pzoge1xuICAgIC8qKiBNZXNzYWdlIHRvIHNob3cgd2hlbiB0aGlzIGRvZXNuJ3QgbWF0Y2gsIGUuZy4gXCInQWRkIHRvIGNhcnQnIGJ1dHRvbnMgbXVzdCBiZSB3aXRoaW4gYSAnUHJvZHVjdCBib3gnXCIgKi9cbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgLyoqIFNpbXBsZSB3YXkgdG8gc2F5IGEgcGFyZW50IG11c3QgYmUgYSBzcGVjaWZpYyBjb21wb25lbnQgbmFtZSwgZS5nLiAnUHJvZHVjdCBib3gnICovXG4gICAgY29tcG9uZW50Pzogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogTW9yZSBhZHZhbmNlZCAtIHNwZWNpZnkgYSBNb25nb0RCLXN0eWxlIHF1ZXJ5ICh1c2luZyBzaWZ0LmpzIGdpdGh1Yi5jb20vY3Jjbi9zaWZ0LmpzKVxuICAgICAqIG9mIHdoYXQgYXQgbGVhc3Qgb25lIHBhcmVudCBpbiB0aGUgcGFyZW50cyBoaWVyYXJjaHkgc2hvdWxkIG1hdGNoLCBlLmcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICBxdWVyeToge1xuICAgICAqICAgIC8vIFRoaWxzIGVsZW1lbnQgbXVzdCBiZSBzb21ld2hlcmUgaW5zaWRlIGVpdGhlciBhICdQcm9kdWN0IGJveCcgb3IgJ0NvbGxlY3Rpb24nIGNvbXBvbmVudFxuICAgICAqICAgICdjb21wb25lbnQubmFtZSc6IHsgJGluOiBbJ1Byb2R1Y3QgQm94JywgJ0NvbGxlY3Rpb24nXSB9XG4gICAgICogIH1cbiAgICAgKi9cbiAgICBxdWVyeT86IGFueTtcbiAgfTtcblxuICBmcmllbmRseU5hbWU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFVzZSB0byByZXN0cmljdCBhY2Nlc3MgdG8geW91ciBjb21wb25lbnQgYmFzZWQgb24gYSB0aGUgY3VycmVudCB1c2VyIHBlcm1pc3Npb25zXG4gICAqIEJ5IGRlZmF1bHQgY29tcG9uZW50cyB3aWxsIHNob3cgdG8gYWxsIHVzZXJzXG4gICAqIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHBlcm1pc3Npb25zIGluIGJ1aWxkZXIgY2hlY2sgaHR0cHM6Ly93d3cuYnVpbGRlci5pby9jL2RvY3MvZ3VpZGVzL3JvbGVzLWFuZC1wZXJtaXNzaW9uc1xuICAgKi9cbiAgcmVxdWlyZWRQZXJtaXNzaW9ucz86IEFycmF5PFBlcm1pc3Npb24+O1xuXG4gIG1ldGE/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xufVxuXG50eXBlIFBlcm1pc3Npb24gPSAncmVhZCcgfCAncHVibGlzaCcgfCAnZWRpdENvZGUnIHwgJ2VkaXREZXNpZ25zJyB8ICdhZG1pbicgfCAnY3JlYXRlJztcblxudHlwZSBEZWVwUGFydGlhbDxUPiA9IHtcbiAgW1AgaW4ga2V5b2YgVF0/OiBUW1BdIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT5cbiAgICA/IEFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICAgIDogVFtQXSBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT5cbiAgICAgID8gUmVhZG9ubHlBcnJheTxEZWVwUGFydGlhbDxVPj5cbiAgICAgIDogRGVlcFBhcnRpYWw8VFtQXT47XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEluc2VydE1lbnVJdGVtIHtcbiAgbmFtZTogc3RyaW5nO1xuICBpY29uPzogc3RyaW5nO1xuICBpdGVtOiBEZWVwUGFydGlhbDxCdWlsZGVyRWxlbWVudD47XG59XG5cbi8qKlxuICogVXNlIHRoaXMgdG8gcmVnaXN0ZXIgY3VzdG9tIHNlY3Rpb25zIGluIHRoZSBJbnNlcnQgbWVudSwgZm9yIGluc3RhbmNlXG4gKiB0byBtYWtlIG5ldyBzZWN0aW9ucyB0byBvcmdhbml6ZSB5b3VyIGN1c3RvbSBjb21wb25lbnRzXG4gKlxuICogIVtFeGFtcGxlIG9mIHdoYXQgYSBjdXN0b20gc2VjdGlvbiBsb29rcyBsaWtlXShodHRwczovL2Nkbi5idWlsZGVyLmlvL2FwaS92MS9pbWFnZS9hc3NldHMlMkY3ZjdiYmNmNzJhMWE0ZDcyYmFjNWRhYTM1OWU3YmVmZCUyRmU1ZjI3OTJlOWMwZjQ0ZWQ4OWE5ZGNiNzdiOTQ1ODU4KVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogQnVpbGRlci5yZWdpc3RlcignaW5zZXJ0TWVudScsIHtcbiAqICAgbmFtZTogJ091ciBjb21wb25lbnRzJyxcbiAqICAgaXRlbXM6IFtcbiAqICAgICB7IG5hbWU6ICdIZXJvJyB9LFxuICogICAgIHsgbmFtZTogJ0RvdWJsZSBDb2x1bW5zJyB9LFxuICogICAgIHsgbmFtZTogJ1RyaXBsZSBDb2x1bW5zJyB9LFxuICogICAgIHsgbmFtZTogJ0R5bmFtaWMgQ29sdW1ucycgfSxcbiAqICAgXSxcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIG1ha2UgYXMgbWFueSBjdXN0b20gc2VjdGlvbnMgYXMgeW91IGxpa2VcbiAqXG4gKiBTZWUgYSBjb21wbGV0ZSB1c2FnZSBleGFtcGxlIFtoZXJlXShodHRwczovL2dpdGh1Yi5jb20vYnVpbGRlcmlvL2J1aWxkZXIvYmxvYi9tYWluL2V4YW1wbGVzL3JlYWN0LWRlc2lnbi1zeXN0ZW0vc3JjL2J1aWxkZXItc2V0dGluZ3MuanMpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5zZXJ0TWVudUNvbmZpZyB7XG4gIG5hbWU6IHN0cmluZztcbiAgcHJpb3JpdHk/OiBudW1iZXI7XG4gIHBlcnNpc3Q/OiBib29sZWFuO1xuICBhZHZhbmNlZD86IGJvb2xlYW47XG4gIGl0ZW1zOiByZWFkb25seSBJbnNlcnRNZW51SXRlbVtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQnVpbGRlckNvbXBvbmVudChpbmZvOiBQYXJ0aWFsPENvbXBvbmVudD4gPSB7fSkge1xuICByZXR1cm4gQnVpbGRlci5Db21wb25lbnQoaW5mbyk7XG59XG5cbi8vIFRPRE9cbnR5cGUgU2V0dGluZ3MgPSBhbnk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uIHtcbiAgbmFtZTogc3RyaW5nO1xuICBpbnB1dHM/OiByZWFkb25seSBJbnB1dFtdO1xuICByZXR1cm5UeXBlPzogSW5wdXQ7XG4gIGFjdGlvbjogKG9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHN0cmluZztcbiAgLyoqXG4gICAqIElzIGFuIGFjdGlvbiBmb3IgZXhwcmVzc2lvbiAoZS5nLiBjYWxjdWxhdGluZyBhIGJpbmRpbmcgbGlrZSBhIGZvcm11bGFcbiAgICogdG8gZmlsbCBhIHZhbHVlIGJhc2VkIG9uIGxvY2FsZSkgb3IgYSBmdW5jdGlvbiAoZS5nLiBzb21ldGhpbmcgdG8gdHJpZ2dlclxuICAgKiBvbiBhbiBldmVudCBsaWtlIGFkZCB0byBjYXJ0KSBvciBlaXRoZXIgKGUuZy4gYSBjdXN0b20gY29kZSBibG9jaylcbiAgICovXG4gIGtpbmQ6ICdleHByZXNzaW9uJyB8ICdmdW5jdGlvbicgfCAnYW55JztcbiAgLyoqXG4gICAqIEdsb2JhbGx5IHVuaXF1ZSBJRCBmb3IgYW4gYWN0aW9uLCBlLmcuIFwiQGJ1aWxkZXIuaW86c2V0U3RhdGVcIlxuICAgKi9cbiAgaWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEJ1aWxkZXIge1xuICBzdGF0aWMgVkVSU0lPTiA9IFNES19WRVJTSU9OO1xuXG4gIHN0YXRpYyBjb21wb25lbnRzOiBDb21wb25lbnRbXSA9IFtdO1xuICBzdGF0aWMgc2luZ2xldG9uSW5zdGFuY2U6IEJ1aWxkZXI7XG4gIC8qKlxuICAgKiBNYWtlcyBpdCBzbyB0aGF0IGEvYiB0ZXN0cyBnZW5lcmF0ZSBjb2RlIGxpa2Uge0BsaW5rXG4gICAqIGh0dHBzOi8vd3d3LmJ1aWxkZXIuaW8vYmxvZy9oaWdoLXBlcmZvcm1hbmNlLW5vLWNvZGUjX19uZXh0On46dGV4dD1TdGF0aWMlMjBnZW5lcmF0ZWQlMjBBJTJGQiUyMHRlc3Rpbmd9XG4gICAqIGluc3RlYWQgb2YgdGhlIG9sZCB3YXkgd2hlcmUgd2UgcmVuZGVyIG9ubHkgb25lIHRlc3QgZ3JvdXAgYXQgYSB0aW1lIG9uIHRoZVxuICAgKiBzZXJ2ZXIuIFRoaXMgaXMgdGhlIHByZWZlcnJlZC9iZXR0ZXIgd2F5IG5vdCBhbmQgd2Ugc2hvdWxkIHVsdGltYXRlbHkgbWFrZSBpdFxuICAgKiB0aGUgZGVmYXVsdFxuICAgKi9cbiAgc3RhdGljIGlzU3RhdGljID0gdHJ1ZTtcbiAgc3RhdGljIGFuaW1hdG9yID0gbmV3IEFuaW1hdG9yKCk7XG5cbiAgc3RhdGljIG5leHRUaWNrID0gbmV4dFRpY2s7XG4gIHN0YXRpYyB0aHJvdHRsZSA9IHRocm90dGxlO1xuXG4gIHN0YXRpYyBlZGl0b3JzOiBhbnlbXSA9IFtdO1xuICBzdGF0aWMgdHJ1c3RlZEhvc3RzOiBzdHJpbmdbXSA9IFtcbiAgICAnKi5iZXRhLmJ1aWxkZXIuaW8nLFxuICAgICdiZXRhLmJ1aWxkZXIuaW8nLFxuICAgICdidWlsZGVyLmlvJyxcbiAgICAnbG9jYWxob3N0JyxcbiAgICAncWEuYnVpbGRlci5pbycsXG4gIF07XG4gIHN0YXRpYyBzZXJ2ZXJDb250ZXh0OiBhbnk7XG4gIHN0YXRpYyBwbHVnaW5zOiBhbnlbXSA9IFtdO1xuXG4gIHN0YXRpYyBhY3Rpb25zOiBBY3Rpb25bXSA9IFtdO1xuICBzdGF0aWMgcmVnaXN0cnk6IHsgW2tleTogc3RyaW5nXTogYW55W10gfSA9IHt9O1xuICBzdGF0aWMgb3ZlcnJpZGVIb3N0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHN0YXRpYyBhdHRyaWJ1dGVzQ29va2llTmFtZSA9ICdidWlsZGVyLnVzZXJBdHRyaWJ1dGVzJztcblxuICAvKipcbiAgICogQHRvZG8gYGtleWAgcHJvcGVydHkgb24gYW55IGluZm8gd2hlcmUgaWYgYSBrZXkgbWF0Y2hlcyBhIGN1cnJlbnRcbiAgICoga2V5IGl0IGdldHMgcmVtb3ZlZFxuICAgKi9cbiAgc3RhdGljIHJlZ2lzdGVyKHR5cGU6ICdpbnNlcnRNZW51JywgaW5mbzogSW5zZXJ0TWVudUNvbmZpZyk6IHZvaWQ7XG4gIHN0YXRpYyByZWdpc3Rlcih0eXBlOiBzdHJpbmcsIGluZm86IGFueSk6IHZvaWQ7XG4gIHN0YXRpYyByZWdpc3Rlcih0eXBlOiBzdHJpbmcsIGluZm86IGFueSkge1xuICAgIGlmICh0eXBlID09PSAncGx1Z2luJykge1xuICAgICAgaW5mbyA9IHRoaXMuc2VyaWFsaXplSW5jbHVkaW5nRnVuY3Rpb25zKGluZm8sIHRydWUpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IGFsbCBtdXN0IGhhdmUgbmFtZSBhbmQgY2FuJ3QgY29uZmxpY3Q/XG4gICAgbGV0IHR5cGVMaXN0ID0gdGhpcy5yZWdpc3RyeVt0eXBlXTtcbiAgICBpZiAoIXR5cGVMaXN0KSB7XG4gICAgICB0eXBlTGlzdCA9IHRoaXMucmVnaXN0cnlbdHlwZV0gPSBbXTtcbiAgICB9XG4gICAgdHlwZUxpc3QucHVzaChpbmZvKTtcbiAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgIHR5cGU6ICdidWlsZGVyLnJlZ2lzdGVyJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgaW5mbyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UobWVzc2FnZSwgJyonKTtcbiAgICAgICAgaWYgKHBhcmVudCAhPT0gd2luZG93KSB7XG4gICAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKG1lc3NhZ2UsICcqJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdDb3VsZCBub3QgcG9zdG1lc3NhZ2UnLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlZ2lzdHJ5Q2hhbmdlLm5leHQodGhpcy5yZWdpc3RyeSk7XG4gIH1cblxuICBzdGF0aWMgcmVnaXN0cnlDaGFuZ2UgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHt9IGFzIHR5cGVvZiBCdWlsZGVyLnJlZ2lzdHJ5KTtcblxuICBzdGF0aWMgcmVnaXN0ZXJFZGl0b3IoaW5mbzogYW55KSB7XG4gICAgaWYgKEJ1aWxkZXIuaXNCcm93c2VyKSB7XG4gICAgICB3aW5kb3cucG9zdE1lc3NhZ2UoXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnYnVpbGRlci5yZWdpc3RlckVkaXRvcicsXG4gICAgICAgICAgZGF0YTogb21pdChpbmZvLCAnY29tcG9uZW50JyksXG4gICAgICAgIH0sXG4gICAgICAgICcqJ1xuICAgICAgKTtcbiAgICAgIGNvbnN0IHsgaG9zdG5hbWUgfSA9IGxvY2F0aW9uO1xuXG4gICAgICBpZiAoIUJ1aWxkZXIuaXNUcnVzdGVkSG9zdChob3N0bmFtZSkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnQnVpbGRlci5yZWdpc3RlckVkaXRvcigpIGNhbGxlZCBpbiB0aGUgd3JvbmcgZW52aXJvbm1lbnQhIFlvdSBjYW5ub3QgbG9hZCBjdXN0b20gZWRpdG9ycyBmcm9tIHlvdXIgYXBwLCB0aGV5IG11c3QgYmUgbG9hZGVkIHRocm91Z2ggdGhlIEJ1aWxkZXIuaW8gYXBwIGl0c2VsZi4gRm9sbG93IHRoZSByZWFkbWUgaGVyZSBmb3IgbW9yZSBkZXRhaWxzOiBodHRwczovL2dpdGh1Yi5jb20vYnVpbGRlcmlvL2J1aWxkZXIvdHJlZS9tYXN0ZXIvcGx1Z2lucy9jbG91ZGluYXJ5IG9yIGNvbnRhY3QgY2hhdCB1cyBpbiBvdXIgU3BlY3RydW0gY29tbXVuaXR5IGZvciBoZWxwOiBodHRwczovL3NwZWN0cnVtLmNoYXQvYnVpbGRlcidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5lZGl0b3JzLnB1c2goaW5mbyk7XG4gIH1cblxuICBzdGF0aWMgcmVnaXN0ZXJQbHVnaW4oaW5mbzogYW55KSB7XG4gICAgdGhpcy5wbHVnaW5zLnB1c2goaW5mbyk7XG4gIH1cblxuICBzdGF0aWMgcmVnaXN0ZXJBY3Rpb24oYWN0aW9uOiBBY3Rpb24pIHtcbiAgICB0aGlzLmFjdGlvbnMucHVzaChhY3Rpb24pO1xuXG4gICAgaWYgKEJ1aWxkZXIuaXNCcm93c2VyKSB7XG4gICAgICBjb25zdCBhY3Rpb25DbG9uZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYWN0aW9uKSk7XG4gICAgICBpZiAoYWN0aW9uLmFjdGlvbikge1xuICAgICAgICBhY3Rpb25DbG9uZS5hY3Rpb24gPSBhY3Rpb24uYWN0aW9uLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdidWlsZGVyLnJlZ2lzdGVyQWN0aW9uJyxcbiAgICAgICAgICBkYXRhOiBhY3Rpb25DbG9uZSxcbiAgICAgICAgfSxcbiAgICAgICAgJyonXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RlclRydXN0ZWRIb3N0KGhvc3Q6IHN0cmluZykge1xuICAgIHRoaXMudHJ1c3RlZEhvc3RzLnB1c2goaG9zdCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGNvbnRleHQgQHR5cGUge2ltcG9ydCgnaXNvbGF0ZWQtdm0nKS5Db250ZXh0fVxuICAgKiBVc2UgdGhpcyBmdW5jdGlvbiB0byBjb250cm9sIHRoZSBleGVjdXRpb24gY29udGV4dCBvZiBjdXN0b20gY29kZSBvbiB0aGUgc2VydmVyLlxuICAgKiBjb25zdCBpdm0gPSByZXF1aXJlKCdpc29sYXRlZC12bScpO1xuICAgKiBjb25zdCBpc29sYXRlID0gbmV3IGl2bS5Jc29sYXRlKHsgbWVtb3J5TGltaXQ6IDEyOCB9KTtcbiAgICogY29uc3QgY29udGV4dCA9IGlzb2xhdGUuY3JlYXRlQ29udGV4dFN5bmMoKTtcbiAgICogQnVpbGRlci5zZXRTZXJ2ZXJDb250ZXh0KGNvbnRleHQpO1xuICAgKi9cbiAgc3RhdGljIHNldFNlcnZlckNvbnRleHQoY29udGV4dDogYW55KSB7XG4gICAgdGhpcy5zZXJ2ZXJDb250ZXh0ID0gY29udGV4dDtcbiAgfVxuXG4gIHN0YXRpYyBpc1RydXN0ZWRIb3N0KGhvc3RuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBpc1RydXN0ZWQgPVxuICAgICAgdGhpcy50cnVzdGVkSG9zdHMuZmluZEluZGV4KHRydXN0ZWRIb3N0ID0+XG4gICAgICAgIHRydXN0ZWRIb3N0LnN0YXJ0c1dpdGgoJyouJylcbiAgICAgICAgICA/IGhvc3RuYW1lLmVuZHNXaXRoKHRydXN0ZWRIb3N0LnNsaWNlKDEpKVxuICAgICAgICAgIDogdHJ1c3RlZEhvc3QgPT09IGhvc3RuYW1lXG4gICAgICApID4gLTE7XG5cbiAgICByZXR1cm4gaXNUcnVzdGVkO1xuICB9XG5cbiAgc3RhdGljIGlzVHJ1c3RlZEhvc3RGb3JFdmVudChldmVudDogTWVzc2FnZUV2ZW50KSB7XG4gICAgaWYgKGV2ZW50Lm9yaWdpbiA9PT0gJ251bGwnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IHBhcnNlKGV2ZW50Lm9yaWdpbik7XG4gICAgcmV0dXJuIHVybC5ob3N0bmFtZSAmJiBCdWlsZGVyLmlzVHJ1c3RlZEhvc3QodXJsLmhvc3RuYW1lKTtcbiAgfVxuXG4gIHN0YXRpYyBydW5BY3Rpb24oYWN0aW9uOiBBY3Rpb24gfCBzdHJpbmcpIHtcbiAgICAvLyBUT0RPXG4gICAgY29uc3QgYWN0aW9uT2JqZWN0ID1cbiAgICAgIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnID8gZmluZCh0aGlzLmFjdGlvbnMsIGl0ZW0gPT4gaXRlbS5uYW1lID09PSBhY3Rpb24pIDogYWN0aW9uO1xuXG4gICAgaWYgKCFhY3Rpb25PYmplY3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uIG5vdCBmb3VuZDogJHthY3Rpb259YCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGZpZWxkcyhuYW1lOiBzdHJpbmcsIGZpZWxkczogcmVhZG9ubHkgSW5wdXRbXSkge1xuICAgIHdpbmRvdy5wYXJlbnQ/LnBvc3RNZXNzYWdlKFxuICAgICAge1xuICAgICAgICB0eXBlOiAnYnVpbGRlci5maWVsZHMnLFxuICAgICAgICBkYXRhOiB7IG5hbWUsIGZpZWxkcyB9LFxuICAgICAgfSxcbiAgICAgICcqJ1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBfZWRpdGluZ1BhZ2UgPSBmYWxzZTtcblxuICBzdGF0aWMgaXNJZnJhbWUgPSBpc0lmcmFtZTtcbiAgc3RhdGljIGlzQnJvd3NlciA9IGlzQnJvd3NlcjtcbiAgc3RhdGljIGlzUmVhY3ROYXRpdmUgPSBpc1JlYWN0TmF0aXZlO1xuICBzdGF0aWMgaXNTZXJ2ZXIgPSAhaXNCcm93c2VyICYmICFpc1JlYWN0TmF0aXZlO1xuICBzdGF0aWMgcHJldmlld2luZ01vZGVsID0gQnVpbGRlci5pc0Jyb3dzZXIgJiYgZ2V0UXVlcnlQYXJhbShsb2NhdGlvbi5ocmVmLCAnYnVpbGRlci5wcmV2aWV3Jyk7XG5cbiAgc3RhdGljIHNldHRpbmdzOiBTZXR0aW5ncyA9IHt9O1xuICBzdGF0aWMgc2V0dGluZ3NDaGFuZ2UgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFNldHRpbmdzPih7fSk7XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBoaWRkZW5cbiAgICpcbiAgICogVXNlIEJ1aWxkZXIucmVnaXN0ZXIoJ2VkaXRvci5zZXR0aW5ncycsIHt9KSBpbnN0ZWFkLlxuICAgKi9cbiAgc3RhdGljIHNldChzZXR0aW5nczogU2V0dGluZ3MpOiB2b2lkIHtcbiAgICBCdWlsZGVyLnJlZ2lzdGVyKCdlZGl0b3Iuc2V0dGluZ3MnLCBzZXR0aW5ncyk7XG4gIH1cblxuICBzdGF0aWMgaW1wb3J0KHBhY2thZ2VOYW1lOiBzdHJpbmcpIHtcbiAgICBpZiAoIUJ1aWxkZXIuaXNCcm93c2VyKSB7XG4gICAgICAvLyBUT0RPOiBzZXJ2ZXIgc2lkZSBzdXBwb3J0ICptYXliZSpcbiAgICAgIGNvbnNvbGUud2FybignQnVpbGRlci5pbXBvcnQgdXNlZCBvbiB0aGUgc2VydmVyIC0gdGhpcyBzaG91bGQgb25seSBiZSB1c2VkIGluIHRoZSBicm93c2VyJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgU3lzdGVtIH0gPSB3aW5kb3cgYXMgYW55O1xuXG4gICAgaWYgKCFTeXN0ZW0pIHtcbiAgICAgIGNvbnNvbGUud2FybignU3lzdGVtLmpzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBpbmNsdWRlIFN5c3RlbS5qcyB3aGVuIHVzaW5nIEJ1aWxkZXIuaW1wb3J0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBTeXN0ZW0uaW1wb3J0KGBodHRwczovL2Nkbi5idWlsZGVyLmlvL3N5c3RlbWpzLyR7cGFja2FnZU5hbWV9YCk7XG4gIH1cblxuICAvLyBUT0RPOiB0aGlzIGlzIHF1aWNrIGFuZCBkaXJ0eSwgZG8gYmV0dGVyIGltcGxlbWVudGF0aW9uIGxhdGVyLiBBbHNvIGNhbiBiZSB1bnJlbGlhYmxlXG4gIC8vIGlmIHBhZ2UgMzAxcyBldGMuIFVzZSBhIHF1ZXJ5IHBhcmFtIGluc3RlYWQ/IGFsc28gY291bGQgaGF2ZSBpc3N1ZXMgd2l0aCByZWRpcmVjdHMuIEluamVjdGluZyB2YXIgY291bGRcbiAgLy8gd29yayBidXQgaXMgYXN5bmMuLi5cbiAgc3RhdGljIGlzRWRpdGluZyA9IEJvb2xlYW4oXG4gICAgaXNJZnJhbWUgJiZcbiAgICAgICgoZG9jdW1lbnQucmVmZXJyZXIgJiYgZG9jdW1lbnQucmVmZXJyZXIubWF0Y2goL2J1aWxkZXJcXC5pb3xsb2NhbGhvc3Q6MTIzNC8pKSB8fFxuICAgICAgICBsb2NhdGlvbi5zZWFyY2guaW5kZXhPZignYnVpbGRlci5mcmFtZUVkaXRpbmc9JykgIT09IC0xKVxuICApO1xuXG4gIHN0YXRpYyBpc1ByZXZpZXdpbmcgPSBCb29sZWFuKFxuICAgIGlzQnJvd3NlciAmJlxuICAgICAgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdidWlsZGVyLnByZXZpZXc9JykgIT09IC0xIHx8XG4gICAgICAgIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdidWlsZGVyLmZyYW1lRWRpdGluZz0nKSAhPT0gLTEpXG4gICk7XG5cbiAgLy8gdXNlQ2RuQXBpID0gZmFsc2U7XG5cbiAgc3RhdGljIGdldCBlZGl0aW5nUGFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZWRpdGluZ1BhZ2U7XG4gIH1cblxuICBzdGF0aWMgc2V0IGVkaXRpbmdQYWdlKGVkaXRpbmdQYWdlKSB7XG4gICAgdGhpcy5fZWRpdGluZ1BhZ2UgPSBlZGl0aW5nUGFnZTtcbiAgICBpZiAoaXNCcm93c2VyICYmIGlzSWZyYW1lKSB7XG4gICAgICBpZiAoZWRpdGluZ1BhZ2UpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdidWlsZGVyLWVkaXRpbmctcGFnZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdidWlsZGVyLWVkaXRpbmctcGFnZScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHNlcmlhbGl6ZUluY2x1ZGluZ0Z1bmN0aW9ucyhpbmZvOiBhbnksIGlzRm9yUGx1Z2luPzogYm9vbGVhbikge1xuICAgIGNvbnN0IHNlcmlhbGl6ZUZuID0gKGZuVmFsdWU6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICBjb25zdCBmblN0ciA9IGZuVmFsdWUudG9TdHJpbmcoKS50cmltKCk7XG5cbiAgICAgIC8vIHdlIG5lZWQgdG8gYWNjb3VudCBmb3IgYSBmZXcgZGlmZmVyZW50IGZuIHN5bnRheGVzOlxuICAgICAgLy8gMS4gYGZ1bmN0aW9uIG5hbWUoYXJncykgPT4ge2NvZGV9YFxuICAgICAgLy8gMi4gYG5hbWUoYXJncykgPT4ge2NvZGV9YFxuICAgICAgLy8gMy4gYChhcmdzKSA9PiB7fWBcbiAgICAgIC8vIDQuIGBhcmdzID0+IHt9YFxuICAgICAgLy8gNS4gYGFzeW5jIGZ1bmN0aW9uKGFyZ3MpIHtjb2RlfWBcbiAgICAgIC8vIDYuIGBhc3luYyAoYXJncykgPT4ge31gXG4gICAgICAvLyA3LiBgYXN5bmMgYXJncyA9PiB7fWBcbiAgICAgIGNvbnN0IGlzQXJyb3dXaXRob3V0UGFyZW5zID0gL15bYS16QS1aMC05X10rXFxzKj0+L2kudGVzdChmblN0cik7XG4gICAgICBjb25zdCBhcHBlbmRGdW5jdGlvbiA9XG4gICAgICAgICFmblN0ci5zdGFydHNXaXRoKCdmdW5jdGlvbicpICYmXG4gICAgICAgICFmblN0ci5zdGFydHNXaXRoKCdhc3luYycpICYmXG4gICAgICAgICFmblN0ci5zdGFydHNXaXRoKCcoJykgJiZcbiAgICAgICAgIWlzQXJyb3dXaXRob3V0UGFyZW5zO1xuXG4gICAgICByZXR1cm4gYHJldHVybiAoJHthcHBlbmRGdW5jdGlvbiA/ICdmdW5jdGlvbiAnIDogJyd9JHtmblN0cn0pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylgO1xuICAgIH07XG5cbiAgICBjb25zdCBvYmpUb1JldHVybiA9IEpTT04ucGFyc2UoXG4gICAgICBKU09OLnN0cmluZ2lmeShpbmZvLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBzaG91bGROb3RTZXJpYWxpemVGbiA9IGlzRm9yUGx1Z2luICYmIGtleSA9PT0gJ29uU2F2ZSc7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgJiYgIXNob3VsZE5vdFNlcmlhbGl6ZUZuKSB7XG4gICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZUZuKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KVxuICAgICk7XG5cbiAgICBpZiAoaXNGb3JQbHVnaW4pIHtcbiAgICAgIG9ialRvUmV0dXJuLm9uU2F2ZSA9IGluZm8ub25TYXZlO1xuICAgIH1cblxuICAgIHJldHVybiBvYmpUb1JldHVybjtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHByZXBhcmVDb21wb25lbnRTcGVjVG9TZW5kKHNwZWM6IENvbXBvbmVudCk6IENvbXBvbmVudCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnRoaXMuc2VyaWFsaXplSW5jbHVkaW5nRnVuY3Rpb25zKHNwZWMpLFxuICAgICAgY2xhc3M6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIHJlZ2lzdGVyQmxvY2soY29tcG9uZW50OiBhbnksIG9wdGlvbnM6IENvbXBvbmVudCkge1xuICAgIHRoaXMucmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zKTtcbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RlckNvbXBvbmVudChjb21wb25lbnQ6IGFueSwgb3B0aW9uczogQ29tcG9uZW50KSB7XG4gICAgY29uc3Qgc3BlYyA9IHtcbiAgICAgIGNsYXNzOiBjb21wb25lbnQsXG4gICAgICAuLi5jb21wb25lbnQuYnVpbGRlck9wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH07XG4gICAgdGhpcy5hZGRDb21wb25lbnQoc3BlYyk7XG4gICAgY29uc3QgZWRpdGFibGUgPVxuICAgICAgb3B0aW9ucy5tb2RlbHMgJiYgdGhpcy5zaW5nbGV0b25JbnN0YW5jZS5lZGl0aW5nTW9kZWxcbiAgICAgICAgPyBpc0Jyb3dzZXIgJiYgb3B0aW9ucy5tb2RlbHMuaW5jbHVkZXModGhpcy5zaW5nbGV0b25JbnN0YW5jZS5lZGl0aW5nTW9kZWwpXG4gICAgICAgIDogaXNCcm93c2VyO1xuICAgIGlmIChlZGl0YWJsZSkge1xuICAgICAgY29uc3Qgc2VuZFNwZWMgPSB0aGlzLnByZXBhcmVDb21wb25lbnRTcGVjVG9TZW5kKHNwZWMpO1xuICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnYnVpbGRlci5yZWdpc3RlckNvbXBvbmVudCcsXG4gICAgICAgICAgZGF0YTogc2VuZFNwZWMsXG4gICAgICAgIH0sXG4gICAgICAgICcqJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBhZGRDb21wb25lbnQoY29tcG9uZW50OiBDb21wb25lbnQpIHtcbiAgICBjb25zdCBjdXJyZW50ID0gZmluZCh0aGlzLmNvbXBvbmVudHMsIGl0ZW0gPT4gaXRlbS5uYW1lID09PSBjb21wb25lbnQubmFtZSk7XG4gICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgIC8vIEZJWE1FOiB3aHkgZG9lcyBzb21ldGltZXMgd2UgZ2V0IGFuIGV4dHJhIHBvc3Qgd2l0aG91dCBjbGFzcyAtIHByb2JhYmx5XG4gICAgICAvLyBmcm9tIHBvc3RNZXNzYWdlIGhhbmRsZXIgd3JvbmcgaW4gc29tZSBwbGFjZVxuICAgICAgaWYgKGN1cnJlbnQuY2xhc3MgJiYgIWNvbXBvbmVudC5jbGFzcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmNvbXBvbmVudHMuc3BsaWNlKHRoaXMuY29tcG9uZW50cy5pbmRleE9mKGN1cnJlbnQpLCAxLCBjb21wb25lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IHN0eWxlIGd1aWRlLCBldGMgb2ZmIHRoaXMgc3lzdGVtIGFzIHdlbGw/XG4gIHN0YXRpYyBjb21wb25lbnQoaW5mbzogUGFydGlhbDxDb21wb25lbnQ+ID0ge30pIHtcbiAgICByZXR1cm4gKGNvbXBvbmVudDogQ2xhc3MpID0+IHtcbiAgICAgIGNvbnN0IHNwZWMgPSB7IC4uLmluZm8sIGNsYXNzOiBjb21wb25lbnQgfTtcbiAgICAgIGlmICghc3BlYy5uYW1lKSB7XG4gICAgICAgIHNwZWMubmFtZSA9IGNvbXBvbmVudC5uYW1lO1xuICAgICAgfVxuICAgICAgdGhpcy5hZGRDb21wb25lbnQoc3BlYyBhcyBDb21wb25lbnQpO1xuXG4gICAgICBjb25zdCBzZW5kU3BlYyA9IHRoaXMucHJlcGFyZUNvbXBvbmVudFNwZWNUb1NlbmQoc3BlYyBhcyBDb21wb25lbnQpO1xuICAgICAgLy8gVE9ETzogc2VyaWFsaXplIGNvbXBvbmVudCBuYW1lIGFuZCBpbnB1dHNcbiAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ2J1aWxkZXIucmVnaXN0ZXJDb21wb25lbnQnLFxuICAgICAgICAgICAgZGF0YTogc2VuZFNwZWMsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAnKidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBpc1JlYWN0ID0gZmFsc2U7XG4gIHN0YXRpYyBzZGtJbmZvID0gdW5kZWZpbmVkIGFzXG4gICAgfCB7XG4gICAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgICAgdmVyc2lvbjogc3RyaW5nO1xuICAgICAgfVxuICAgIHwgdW5kZWZpbmVkO1xuXG4gIHN0YXRpYyBnZXQgQ29tcG9uZW50KCkge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudDtcbiAgfVxuXG4gIHByaXZhdGUgZXZlbnRzUXVldWU6IEV2ZW50W10gPSBbXTtcblxuICBwcml2YXRlIHRocm90dGxlZENsZWFyRXZlbnRzUXVldWUgPSB0aHJvdHRsZSgoKSA9PiB7XG4gICAgdGhpcy5wcm9jZXNzRXZlbnRzUXVldWUoKTtcbiAgICAvLyBFeHRlbmQgdGhlIHNlc3Npb24gY29va2llXG4gICAgdGhpcy5zZXRDb29raWUoc2Vzc2lvblN0b3JhZ2VLZXksIHRoaXMuc2Vzc2lvbklkLCBkYXRlUGx1c01pbnV0ZXMoMzApKTtcbiAgfSwgNSk7XG5cbiAgcHJpdmF0ZSBwcm9jZXNzRXZlbnRzUXVldWUoKSB7XG4gICAgaWYgKCF0aGlzLmV2ZW50c1F1ZXVlLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBldmVudHMgPSB0aGlzLmV2ZW50c1F1ZXVlO1xuICAgIHRoaXMuZXZlbnRzUXVldWUgPSBbXTtcblxuICAgIGNvbnN0IGZ1bGxVc2VyQXR0cmlidXRlcyA9IHtcbiAgICAgIC4uLkJ1aWxkZXIub3ZlcnJpZGVVc2VyQXR0cmlidXRlcyxcbiAgICAgIC4uLnRoaXMudHJhY2tpbmdVc2VyQXR0cmlidXRlcyxcbiAgICB9O1xuICAgIGZvciAoY29uc3QgZXZlbnQgb2YgZXZlbnRzKSB7XG4gICAgICBpZiAoIWV2ZW50LmRhdGEubWV0YWRhdGEpIHtcbiAgICAgICAgZXZlbnQuZGF0YS5tZXRhZGF0YSA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKCFldmVudC5kYXRhLm1ldGFkYXRhLnVzZXIpIHtcbiAgICAgICAgZXZlbnQuZGF0YS5tZXRhZGF0YS51c2VyID0ge307XG4gICAgICB9XG4gICAgICBPYmplY3QuYXNzaWduKGV2ZW50LmRhdGEubWV0YWRhdGEudXNlciwgZnVsbFVzZXJBdHRyaWJ1dGVzLCBldmVudC5kYXRhLm1ldGFkYXRhLnVzZXIpO1xuICAgIH1cblxuICAgIGNvbnN0IGhvc3QgPSB0aGlzLmhvc3Q7XG5cbiAgICBnZXRGZXRjaCgpKGAke2hvc3R9L2FwaS92MS90cmFja2AsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBldmVudHMgfSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIC4uLnRoaXMuZ2V0U2RrSGVhZGVycygpLFxuICAgICAgfSxcbiAgICAgIG1vZGU6ICdjb3JzJyxcbiAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAvLyBOb3QgdGhlIGVuZCBvZiB0aGUgd29ybGRcbiAgICB9KTtcbiAgfVxuXG4gIGVudjogc3RyaW5nID0gJ3Byb2R1Y3Rpb24nO1xuXG4gIHNlc3Npb25JZCA9IHRoaXMuZ2V0U2Vzc2lvbklkKCk7XG5cbiAgdGFyZ2V0Q29udGVudCA9IHRydWU7XG5cbiAgY29udGVudFBlclJlcXVlc3QgPSAxO1xuXG4gIC8vIFRPRE86IG1ha2UgYXJyYXkgb3IgZnVuY3Rpb25cbiAgYWxsb3dDdXN0b21Gb250cyA9IHRydWU7XG5cbiAgcHJpdmF0ZSBjb29raWVzOiBDb29raWVzIHwgbnVsbCA9IG51bGw7XG5cbiAgLy8gVE9ETzogYXBpIG9wdGlvbnMgb2JqZWN0XG4gIHByaXZhdGUgY2FjaGVidXN0ID0gZmFsc2U7XG4gIHByaXZhdGUgb3ZlcnJpZGVQYXJhbXMgPSAnJztcbiAgcHJpdmF0ZSBub0NhY2hlID0gZmFsc2U7XG4gIHByaXZhdGUgcHJldmlldyA9IGZhbHNlO1xuXG4gIGdldCBicm93c2VyVHJhY2tpbmdEaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gQnVpbGRlci5pc0Jyb3dzZXIgJiYgQm9vbGVhbigod2luZG93IGFzIGFueSkuYnVpbGRlck5vVHJhY2sgfHwgIW5hdmlnYXRvci5jb29raWVFbmFibGVkKTtcbiAgfVxuXG4gIGdldCBjYW5UcmFjaygpIHtcbiAgICByZXR1cm4gdGhpcy5jYW5UcmFjayQudmFsdWU7XG4gIH1cblxuICBzZXQgY2FuVHJhY2soY2FuVHJhY2spIHtcbiAgICB0aGlzLmhhc092ZXJyaWRkZW5DYW5UcmFjayA9IHRydWU7XG4gICAgaWYgKHRoaXMuY2FuVHJhY2sgIT09IGNhblRyYWNrKSB7XG4gICAgICB0aGlzLmNhblRyYWNrJC5uZXh0KGNhblRyYWNrKTtcbiAgICB9XG4gIH1cblxuICBnZXQgYXBpVmVyc2lvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hcGlWZXJzaW9uJC52YWx1ZTtcbiAgfVxuXG4gIHNldCBhcGlWZXJzaW9uKGFwaVZlcnNpb246IEFwaVZlcnNpb24gfCB1bmRlZmluZWQpIHtcbiAgICBpZiAodGhpcy5hcGlWZXJzaW9uICE9PSBhcGlWZXJzaW9uKSB7XG4gICAgICB0aGlzLmFwaVZlcnNpb24kLm5leHQoYXBpVmVyc2lvbik7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGFwaUVuZHBvaW50KCkge1xuICAgIHJldHVybiB0aGlzLmFwaUVuZHBvaW50JC52YWx1ZTtcbiAgfVxuXG4gIHNldCBhcGlFbmRwb2ludChhcGlFbmRwb2ludDogJ2NvbnRlbnQnIHwgJ3F1ZXJ5Jykge1xuICAgIGlmICh0aGlzLmFwaUVuZHBvaW50ICE9PSBhcGlFbmRwb2ludCkge1xuICAgICAgdGhpcy5hcGlFbmRwb2ludCQubmV4dChhcGlFbmRwb2ludCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpY3RhdGVzIHdoaWNoIEFQSSBlbmRwb2ludCBpcyB1c2VkIHdoZW4gZmV0Y2hpbmcgY29udGVudC4gQWxsb3dzIGAnY29udGVudCdgIGFuZCBgJ3F1ZXJ5J2AuXG4gICAqIERlZmF1bHRzIHRvIGAncXVlcnknYC5cbiAgICovXG4gIHByaXZhdGUgYXBpRW5kcG9pbnQkID0gbmV3IEJlaGF2aW9yU3ViamVjdDwnY29udGVudCcgfCAncXVlcnknPigncXVlcnknKTtcbiAgcHJpdmF0ZSBhcGlWZXJzaW9uJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8QXBpVmVyc2lvbiB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcbiAgcHJpdmF0ZSBjYW5UcmFjayQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KCF0aGlzLmJyb3dzZXJUcmFja2luZ0Rpc2FibGVkKTtcbiAgcHJpdmF0ZSBoYXNPdmVycmlkZGVuQ2FuVHJhY2sgPSBmYWxzZTtcbiAgcHJpdmF0ZSBhcGlLZXkkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgcHJpdmF0ZSBhdXRoVG9rZW4kID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgcHJpdmF0ZSBjb250ZW50SWQkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICB1c2VyQXR0cmlidXRlc0NoYW5nZWQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGFueT4obnVsbCk7XG5cbiAgZ2V0IGVkaXRpbmdNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmVkaXRpbmdNb2RlJC52YWx1ZTtcbiAgfVxuXG4gIHNldCBlZGl0aW5nTW9kZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5lZGl0aW5nTW9kZSkge1xuICAgICAgdGhpcy5lZGl0aW5nTW9kZSQubmV4dCh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgZWRpdGluZ01vZGUkID0gbmV3IEJlaGF2aW9yU3ViamVjdChpc0lmcmFtZSk7XG5cbiAgZ2V0IGVkaXRpbmdNb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5lZGl0aW5nTW9kZWwkLnZhbHVlO1xuICB9XG5cbiAgc2V0IGVkaXRpbmdNb2RlbCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5lZGl0aW5nTW9kZWwpIHtcbiAgICAgIHRoaXMuZWRpdGluZ01vZGVsJC5uZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZpbmRQYXJlbnRFbGVtZW50KFxuICAgIHRhcmdldDogSFRNTEVsZW1lbnQsXG4gICAgY2FsbGJhY2s6IChlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4gYm9vbGVhbixcbiAgICBjaGVja0VsZW1lbnQgPSB0cnVlXG4gICk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IHBhcmVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gY2hlY2tFbGVtZW50ID8gdGFyZ2V0IDogdGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgZG8ge1xuICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBjYWxsYmFjayhwYXJlbnQpO1xuICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgIH1cbiAgICB9IHdoaWxlICgocGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQpKTtcblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kQnVpbGRlclBhcmVudCh0YXJnZXQ6IEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZFBhcmVudEVsZW1lbnQodGFyZ2V0LCBlbCA9PiB7XG4gICAgICBjb25zdCBpZCA9IGVsLmdldEF0dHJpYnV0ZSgnYnVpbGRlci1pZCcpIHx8IGVsLmlkO1xuICAgICAgcmV0dXJuIEJvb2xlYW4oaWQgJiYgaWQuaW5kZXhPZignYnVpbGRlci0nKSA9PT0gMCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBUT0RPOiBkZWNvcmF0b3IgdG8gZG8gdGhpcyBzdHVmZiB3aXRoIHRoZSBnZXQvc2V0IChob3cgZG8gd2l0aCB0eXBpbmcgdG9vPyBjb21waWxlcj8pXG4gIGVkaXRpbmdNb2RlbCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PG51bGwgfCBzdHJpbmc+KG51bGwpO1xuXG4gIHNldFVzZXJBZ2VudCh1c2VyQWdlbnQ6IHN0cmluZykge1xuICAgIHRoaXMudXNlckFnZW50ID0gdXNlckFnZW50IHx8ICcnO1xuICB9XG4gIHVzZXJBZ2VudDogc3RyaW5nID0gKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvci51c2VyQWdlbnQpIHx8ICcnO1xuXG4gIHRyYWNraW5nSG9va3M6IFRyYWNraW5nSG9va1tdID0gW107XG5cbiAgLyoqXG4gICAqIFNldCBhIGhvb2sgdG8gbW9kaWZ5IGV2ZW50cyBiZWluZyB0cmFja2VkIGZyb20gYnVpbGRlciwgc3VjaCBhcyBpbXByZXNzaW9ucyBhbmQgY2xpY2tzXG4gICAqXG4gICAqIEZvciBleGFtcGxlLCB0byB0cmFjayB0aGUgbW9kZWwgSUQgb2YgZWFjaCBldmVudCBhc3NvY2lhdGVkIHdpdGggY29udGVudCBmb3IgcXVlcnlpbmdcbiAgICogYnkgbW9kZSwgeW91IGNhbiBkb1xuICAgKlxuICAgKiAgICBidWlsZGVyLnNldFRyYWNraW5nSG9vaygoZXZlbnQsIGNvbnRleHQpID0+IHtcbiAgICogICAgICBpZiAoY29udGV4dC5jb250ZW50KSB7XG4gICAqICAgICAgICBldmVudC5kYXRhLm1ldGFkYXRhLm1vZGVsSWQgPSBjb250ZXh0LmNvbnRlbnQubW9kZWxJZFxuICAgKiAgICAgIH1cbiAgICogICAgfSlcbiAgICovXG4gIHNldFRyYWNraW5nSG9vayhob29rOiBUcmFja2luZ0hvb2spIHtcbiAgICB0aGlzLnRyYWNraW5nSG9va3MucHVzaChob29rKTtcbiAgfVxuXG4gIHRyYWNrKGV2ZW50TmFtZTogc3RyaW5nLCBwcm9wZXJ0aWVzOiBQYXJ0aWFsPEV2ZW50RGF0YT4gPSB7fSwgY29udGV4dD86IGFueSkge1xuICAgIC8vIFRPRE86IHF1ZXVlIHVwIHRyYWNrIHJlcXVlc3RzIGFuZCBmaXJlIHRoZW0gb2ZmIHdoZW4gY2FuVHJhY2sgc2V0IHRvIHRydWUgLSBvdGhlcndpc2UgbWF5IGdldCBsb3RzIG9mIGNsaWNrcyB3aXRoIG5vIGltcHJlc3Npb25zXG4gICAgaWYgKGlzSWZyYW1lIHx8ICFpc0Jyb3dzZXIgfHwgQnVpbGRlci5pc1ByZXZpZXdpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhcGlLZXkgPSB0aGlzLmFwaUtleTtcbiAgICBpZiAoIWFwaUtleSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ0J1aWxkZXIgaW50ZWdyYXRpb24gZXJyb3I6IExvb2tzIGxpa2UgdGhlIEJ1aWxkZXIgU0RLIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCBwcm9wZXJseSAoeW91ciBBUEkga2V5IGhhcyBub3QgYmVlbiBzZXQpLiBNYWtlIHN1cmUgeW91IGFyZSBjYWxsaW5nIGBidWlsZGVyLmluaXQoXCLCq1lPVVItQVBJLUtFWcK7XCIpO2AgYXMgZWFybHkgYXMgcG9zc2libGUgaW4geW91ciBhcHBsaWNhdGlvblxcJ3MgY29kZS4nXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBldmVudERhdGE6IEV2ZW50ID0gSlNPTi5wYXJzZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdHlwZTogZXZlbnROYW1lLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgLi4ub21pdChwcm9wZXJ0aWVzLCAnbWV0YScpLFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBzZGtWZXJzaW9uOiBCdWlsZGVyLlZFUlNJT04sXG4gICAgICAgICAgICB1cmw6IGxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzLm1ldGEsXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzLm1ldGFkYXRhLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3duZXJJZDogYXBpS2V5LFxuICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzOiB0aGlzLmdldFVzZXJBdHRyaWJ1dGVzKCksXG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgICAgICB2aXNpdG9ySWQ6IHRoaXMudmlzaXRvcklkLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuXG4gICAgZm9yIChjb25zdCBob29rIG9mIHRoaXMudHJhY2tpbmdIb29rcykge1xuICAgICAgY29uc3QgcmV0dXJuVmFsdWUgPSBob29rKGV2ZW50RGF0YSwgY29udGV4dCB8fCB7fSk7XG4gICAgICBpZiAocmV0dXJuVmFsdWUpIHtcbiAgICAgICAgZXZlbnREYXRhID0gcmV0dXJuVmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYmF0Y2ggZXZlbnRzXG4gICAgdGhpcy5ldmVudHNRdWV1ZS5wdXNoKGV2ZW50RGF0YSk7XG5cbiAgICBpZiAodGhpcy5jYW5UcmFjaykge1xuICAgICAgdGhpcy50aHJvdHRsZWRDbGVhckV2ZW50c1F1ZXVlKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Vzc2lvbklkKCkge1xuICAgIGxldCBzZXNzaW9uSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIgJiYgdHlwZW9mIHNlc3Npb25TdG9yYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZXNzaW9uSWQgPSB0aGlzLmdldENvb2tpZShzZXNzaW9uU3RvcmFnZUtleSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdTZXNzaW9uIHN0b3JhZ2UgZXJyb3InLCBlcnIpO1xuICAgICAgLy8gSXQncyBva1xuICAgIH1cblxuICAgIGlmICghc2Vzc2lvbklkKSB7XG4gICAgICBzZXNzaW9uSWQgPSB1dWlkKCk7XG4gICAgfVxuXG4gICAgLy8gR2l2ZSB0aGUgYXBwIGEgc2Vjb25kIHRvIHN0YXJ0IHVwIGFuZCBzZXQgY2FuVHJhY2sgdG8gZmFsc2UgaWYgbmVlZGVkXG4gICAgaWYgKEJ1aWxkZXIuaXNCcm93c2VyKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAodGhpcy5jYW5UcmFjaykge1xuICAgICAgICAgICAgdGhpcy5zZXRDb29raWUoc2Vzc2lvblN0b3JhZ2VLZXksIHNlc3Npb25JZCwgZGF0ZVBsdXNNaW51dGVzKDMwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKCdDb29raWUgc2V0dGluZyBlcnJvcicsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc2Vzc2lvbklkO1xuICB9XG5cbiAgLy8gU2V0IHRoaXMgdG8gY29udHJvbCB0aGUgdXNlcklkXG4gIC8vIFRPRE86IGFsbG93IGNoYW5naW5nIGl0IG1pZCBzZXNzaW9uIGFuZCB1cGRhdGluZyBleGlzdGluZyBkYXRhIHRvIGJlIGFzc29jaWF0ZWRcbiAgLy8gZS5nLiBmb3Igd2hlbiBhIHVzZXIgbmF2aWdhdGVzIGFuZCB0aGVuIGxvZ3MgaW5cbiAgdmlzaXRvcklkOiBzdHJpbmcgPSB0aGlzLmdldFZpc2l0b3JJZCgpO1xuXG4gIGdldFZpc2l0b3JJZCgpIHtcbiAgICBpZiAodGhpcy52aXNpdG9ySWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnZpc2l0b3JJZDtcbiAgICB9XG4gICAgbGV0IHZpc2l0b3JJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChCdWlsZGVyLmlzQnJvd3NlciAmJiB0eXBlb2YgbG9jYWxTdG9yYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBUT0RPOiBjb29raWUgaW5zdGVhZD9cbiAgICAgICAgdmlzaXRvcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0obG9jYWxTdG9yYWdlS2V5KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ0xvY2FsIHN0b3JhZ2UgZXJyb3InLCBlcnIpO1xuICAgICAgLy8gSXQncyBva1xuICAgIH1cblxuICAgIGlmICghdmlzaXRvcklkKSB7XG4gICAgICB2aXNpdG9ySWQgPSB1dWlkKCk7XG4gICAgfVxuXG4gICAgdGhpcy52aXNpdG9ySWQgPSB2aXNpdG9ySWQ7XG5cbiAgICAvLyBHaXZlIHRoZSBhcHAgYSBzZWNvbmQgdG8gc3RhcnQgdXAgYW5kIHNldCBjYW5UcmFjayB0byBmYWxzZSBpZiBuZWVkZWRcbiAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0aGlzLmNhblRyYWNrICYmIHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09ICd1bmRlZmluZWQnICYmIHZpc2l0b3JJZCkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obG9jYWxTdG9yYWdlS2V5LCB2aXNpdG9ySWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5kZWJ1ZygnU2Vzc2lvbiBzdG9yYWdlIGVycm9yJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB2aXNpdG9ySWQ7XG4gIH1cblxuICB0cmFja0ltcHJlc3Npb24oY29udGVudElkOiBzdHJpbmcsIHZhcmlhdGlvbklkPzogc3RyaW5nLCBwcm9wZXJ0aWVzPzogYW55LCBjb250ZXh0PzogYW55KSB7XG4gICAgaWYgKGlzSWZyYW1lIHx8ICFpc0Jyb3dzZXIgfHwgQnVpbGRlci5pc1ByZXZpZXdpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gVE9ETzogdXNlIHRoaXMudHJhY2sgbWV0aG9kXG4gICAgdGhpcy50cmFjayhcbiAgICAgICdpbXByZXNzaW9uJyxcbiAgICAgIHtcbiAgICAgICAgY29udGVudElkLFxuICAgICAgICB2YXJpYXRpb25JZDogdmFyaWF0aW9uSWQgIT09IGNvbnRlbnRJZCA/IHZhcmlhdGlvbklkIDogdW5kZWZpbmVkLFxuICAgICAgICBtZXRhZGF0YTogcHJvcGVydGllcyxcbiAgICAgIH0sXG4gICAgICBjb250ZXh0XG4gICAgKTtcbiAgfVxuXG4gIHRyYWNrQ29udmVyc2lvbihhbW91bnQ/OiBudW1iZXIsIGN1c3RvbVByb3BlcnRpZXM/OiBhbnkpOiB2b2lkO1xuICB0cmFja0NvbnZlcnNpb24oXG4gICAgYW1vdW50PzogbnVtYmVyLFxuICAgIGNvbnRlbnRJZD86IHN0cmluZyB8IGFueSxcbiAgICB2YXJpYXRpb25JZD86IHN0cmluZyxcbiAgICBjdXN0b21Qcm9wZXJ0aWVzPzogYW55LFxuICAgIGNvbnRleHQ/OiBhbnlcbiAgKSB7XG4gICAgaWYgKGlzSWZyYW1lIHx8ICFpc0Jyb3dzZXIgfHwgQnVpbGRlci5pc1ByZXZpZXdpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWV0YSA9IHR5cGVvZiBjb250ZW50SWQgPT09ICdvYmplY3QnID8gY29udGVudElkIDogY3VzdG9tUHJvcGVydGllcztcbiAgICBsZXQgdXNlQ29udGVudElkID0gdHlwZW9mIGNvbnRlbnRJZCA9PT0gJ3N0cmluZycgPyBjb250ZW50SWQgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoIXVzZUNvbnRlbnRJZCAmJiAhY29udGVudElkICYmIHRoaXMuY29udGVudElkKSB7XG4gICAgICB1c2VDb250ZW50SWQgPSB0aGlzLmNvbnRlbnRJZDtcbiAgICB9XG5cbiAgICBsZXQgdXNlVmFyaWF0aW9uSWQgPSB2YXJpYXRpb25JZDtcbiAgICBpZiAoIXVzZVZhcmlhdGlvbklkICYmIHVzZUNvbnRlbnRJZCkge1xuICAgICAgdXNlVmFyaWF0aW9uSWQgPSB0aGlzLmdldFRlc3RDb29raWUodXNlQ29udGVudElkKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYWNrKFxuICAgICAgJ2NvbnZlcnNpb24nLFxuICAgICAge1xuICAgICAgICBhbW91bnQsXG4gICAgICAgIHZhcmlhdGlvbklkOlxuICAgICAgICAgIHVzZVZhcmlhdGlvbklkICYmIHVzZUNvbnRlbnRJZCAmJiB1c2VWYXJpYXRpb25JZCAhPT0gdXNlQ29udGVudElkXG4gICAgICAgICAgICA/IHVzZVZhcmlhdGlvbklkXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgbWV0YSxcbiAgICAgICAgY29udGVudElkOiB1c2VDb250ZW50SWQsXG4gICAgICB9LFxuICAgICAgY29udGV4dFxuICAgICk7XG4gIH1cblxuICBhdXRvVHJhY2sgPSAhQnVpbGRlci5pc0Jyb3dzZXJcbiAgICA/IGZhbHNlXG4gICAgOiAhdGhpcy5pc0RldmVsb3BtZW50RW52ICYmXG4gICAgICAhKEJ1aWxkZXIuaXNCcm93c2VyICYmIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdidWlsZGVyLnByZXZpZXc9JykgIT09IC0xKTtcblxuICAvLyBUT0RPOiBzZXQgdGhpcyBmb3IgUUFcbiAgcHJpdmF0ZSBnZXQgaXNEZXZlbG9wbWVudEVudigpIHtcbiAgICAvLyBBdXRvbWF0aWMgZGV0ZXJtaW5pbmcgb2YgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRcbiAgICByZXR1cm4gKFxuICAgICAgQnVpbGRlci5pc0lmcmFtZSB8fFxuICAgICAgKEJ1aWxkZXIuaXNCcm93c2VyICYmIChsb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHwgbG9jYXRpb24ucG9ydCAhPT0gJycpKSB8fFxuICAgICAgdGhpcy5lbnYgIT09ICdwcm9kdWN0aW9uJ1xuICAgICk7XG4gIH1cblxuICB0cmFja0ludGVyYWN0aW9uKFxuICAgIGNvbnRlbnRJZDogc3RyaW5nLFxuICAgIHZhcmlhdGlvbklkPzogc3RyaW5nLFxuICAgIGFscmVhZHlUcmFja2VkT25lID0gZmFsc2UsXG4gICAgZXZlbnQ/OiBNb3VzZUV2ZW50LFxuICAgIGNvbnRleHQ/OiBhbnlcbiAgKSB7XG4gICAgaWYgKGlzSWZyYW1lIHx8ICFpc0Jyb3dzZXIgfHwgQnVpbGRlci5pc1ByZXZpZXdpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQgJiYgKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCk7XG4gICAgY29uc3QgdGFyZ2V0QnVpbGRlckVsZW1lbnQgPSB0YXJnZXQgJiYgdGhpcy5maW5kQnVpbGRlclBhcmVudCh0YXJnZXQpO1xuXG4gICAgZnVuY3Rpb24gcm91bmQobnVtOiBudW1iZXIpIHtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bSAqIDEwMDApIC8gMTAwMDtcbiAgICB9XG5cbiAgICBjb25zdCBtZXRhZGF0YTogYW55ID0ge307XG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICBjb25zdCB7IGNsaWVudFgsIGNsaWVudFkgfSA9IGV2ZW50O1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBjb25zdCB0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB4T2Zmc2V0ID0gY2xpZW50WCAtIHRhcmdldFJlY3QubGVmdDtcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IGNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcDtcblxuICAgICAgICBjb25zdCB4UmF0aW8gPSByb3VuZCh4T2Zmc2V0IC8gdGFyZ2V0UmVjdC53aWR0aCk7XG4gICAgICAgIGNvbnN0IHlSYXRpbyA9IHJvdW5kKHlPZmZzZXQgLyB0YXJnZXRSZWN0LmhlaWdodCk7XG5cbiAgICAgICAgbWV0YWRhdGEudGFyZ2V0T2Zmc2V0ID0ge1xuICAgICAgICAgIHg6IHhSYXRpbyxcbiAgICAgICAgICB5OiB5UmF0aW8sXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0QnVpbGRlckVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0UmVjdCA9IHRhcmdldEJ1aWxkZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCB4T2Zmc2V0ID0gY2xpZW50WCAtIHRhcmdldFJlY3QubGVmdDtcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IGNsaWVudFkgLSB0YXJnZXRSZWN0LnRvcDtcblxuICAgICAgICBjb25zdCB4UmF0aW8gPSByb3VuZCh4T2Zmc2V0IC8gdGFyZ2V0UmVjdC53aWR0aCk7XG4gICAgICAgIGNvbnN0IHlSYXRpbyA9IHJvdW5kKHlPZmZzZXQgLyB0YXJnZXRSZWN0LmhlaWdodCk7XG5cbiAgICAgICAgbWV0YWRhdGEuYnVpbGRlclRhcmdldE9mZnNldCA9IHtcbiAgICAgICAgICB4OiB4UmF0aW8sXG4gICAgICAgICAgeTogeVJhdGlvLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGJ1aWxkZXJJZCA9XG4gICAgICB0YXJnZXRCdWlsZGVyRWxlbWVudCAmJlxuICAgICAgKHRhcmdldEJ1aWxkZXJFbGVtZW50LmdldEF0dHJpYnV0ZSgnYnVpbGRlci1pZCcpIHx8IHRhcmdldEJ1aWxkZXJFbGVtZW50LmlkKTtcblxuICAgIGlmIChidWlsZGVySWQgJiYgdGFyZ2V0QnVpbGRlckVsZW1lbnQpIHtcbiAgICAgIG1ldGFkYXRhLmJ1aWxkZXJFbGVtZW50SW5kZXggPSAoW10gYXMgRWxlbWVudFtdKS5zbGljZVxuICAgICAgICAuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJ1aWxkZXJJZCkpXG4gICAgICAgIC5pbmRleE9mKHRhcmdldEJ1aWxkZXJFbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYWNrKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgIHtcbiAgICAgICAgY29udGVudElkLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgdmFyaWF0aW9uSWQ6IHZhcmlhdGlvbklkICE9PSBjb250ZW50SWQgPyB2YXJpYXRpb25JZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgdW5pcXVlOiAhYWxyZWFkeVRyYWNrZWRPbmUsXG4gICAgICAgIHRhcmdldEJ1aWxkZXJFbGVtZW50OiBidWlsZGVySWQgfHwgdW5kZWZpbmVkLFxuICAgICAgfSxcbiAgICAgIGNvbnRleHRcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIG92ZXJyaWRlVXNlckF0dHJpYnV0ZXM6IFBhcnRpYWw8VXNlckF0dHJpYnV0ZXM+ID0ge307XG5cbiAgdHJhY2tpbmdVc2VyQXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuXG4gIGNvbXBvbmVudChpbmZvOiBQYXJ0aWFsPENvbXBvbmVudD4gPSB7fSkge1xuICAgIHJldHVybiBCdWlsZGVyLmNvbXBvbmVudChpbmZvKTtcbiAgfVxuXG4gIGdldCBhcGlLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXBpS2V5JC52YWx1ZTtcbiAgfVxuXG4gIHNldCBhcGlLZXkoa2V5OiBzdHJpbmcgfCBudWxsKSB7XG4gICAgdGhpcy5hcGlLZXkkLm5leHQoa2V5KTtcbiAgfVxuXG4gIGdldCBjb250ZW50SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudElkJC52YWx1ZTtcbiAgfVxuXG4gIHNldCBjb250ZW50SWQoaWQ6IHN0cmluZyB8IG51bGwpIHtcbiAgICB0aGlzLmNvbnRlbnRJZCQubmV4dChpZCk7XG4gIH1cblxuICBnZXQgYXV0aFRva2VuKCkge1xuICAgIHJldHVybiB0aGlzLmF1dGhUb2tlbiQudmFsdWU7XG4gIH1cblxuICBzZXQgYXV0aFRva2VuKHRva2VuOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgdGhpcy5hdXRoVG9rZW4kLm5leHQodG9rZW4pO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYXBpS2V5OiBzdHJpbmcgfCBudWxsID0gbnVsbCxcbiAgICBwcm90ZWN0ZWQgcmVxdWVzdD86IEluY29taW5nTWVzc2FnZSxcbiAgICBwcm90ZWN0ZWQgcmVzcG9uc2U/OiBTZXJ2ZXJSZXNwb25zZSxcbiAgICBmb3JjZU5ld0luc3RhbmNlID0gZmFsc2UsXG4gICAgYXV0aFRva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbCxcbiAgICBhcGlWZXJzaW9uPzogQXBpVmVyc2lvblxuICApIHtcbiAgICAvLyBUT0RPOiB1c2UgYSB3aW5kb3cgdmFyaWFibGUgZm9yIHRoaXMgcGVyaGFwcywgZS5nLiBiYyB3ZWJjb21wb25lbnRzIG1heSBiZSBsb2FkaW5nIGJ1aWxkZXIgdHdpY2VcbiAgICAvLyB3aXRoIGl0J3MgYW5kIHJlYWN0ICh1c2Ugcm9sbHVwIGJ1aWxkIHRvIGZpeClcbiAgICBpZiAoQnVpbGRlci5pc0Jyb3dzZXIgJiYgIWZvcmNlTmV3SW5zdGFuY2UgJiYgQnVpbGRlci5zaW5nbGV0b25JbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIEJ1aWxkZXIuc2luZ2xldG9uSW5zdGFuY2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVxdWVzdCAmJiB0aGlzLnJlc3BvbnNlKSB7XG4gICAgICB0aGlzLnNldFVzZXJBZ2VudCgodGhpcy5yZXF1ZXN0LmhlYWRlcnNbJ3VzZXItYWdlbnQnXSBhcyBzdHJpbmcpIHx8ICcnKTtcbiAgICAgIHRoaXMuY29va2llcyA9IG5ldyBDb29raWVzKHRoaXMucmVxdWVzdCwgdGhpcy5yZXNwb25zZSk7XG4gICAgfVxuXG4gICAgaWYgKGFwaUtleSkge1xuICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgfVxuICAgIGlmIChhcGlWZXJzaW9uKSB7XG4gICAgICB0aGlzLmFwaVZlcnNpb24gPSBhcGlWZXJzaW9uO1xuICAgIH1cbiAgICBpZiAoYXV0aFRva2VuKSB7XG4gICAgICB0aGlzLmF1dGhUb2tlbiA9IGF1dGhUb2tlbjtcbiAgICB9XG4gICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgaWYgKEJ1aWxkZXIuaXNFZGl0aW5nKSB7XG4gICAgICAgIHRoaXMuYmluZE1lc3NhZ2VMaXN0ZW5lcnMoKTtcblxuICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ2J1aWxkZXIuYW5pbWF0b3JPcHRpb25zJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHZlcnNpb246IDIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgJyonXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLyBUT0RPOiBwb3N0bWVzc2FnZSB0byBwYXJlbnQgdGhlIGJ1aWxkZXIgaW5mbyBmb3IgZXZlcnkgcGFja2FnZVxuICAgICAgLy8gdHlwZTogJ2J1aWxkZXIuc2RrJywgZGF0YTogeyBuYW1lOiAnQGJ1aWxkZXIuaW8vcmVhY3QnLCB2ZXJzaW9uOiAnMC4xLjIzJyB9XG4gICAgICAvLyAod2luZG93IGFzIGFueSkuQlVJTERFUl9WRVJTSU9OID0gQnVpbGRlci5WRVJTSU9OO1xuICAgICAgLy8gRW5zdXJlIGFsd2F5cyBvbmUgQnVpbGRlciBnbG9iYWwgc2luZ2xldG9uXG4gICAgICAvLyBUT0RPOiBzb21lIHBlb3BsZSB3b24ndCB3YW50IHRoaXMsIGUuZy4gcmFrdXRlblxuICAgICAgLy8gTWF5YmUgaGlkZSB0aGlzIGJlaGluZCBzeW1ib2wgb3Igb24gZG9jdW1lbnQsIGV0Y1xuICAgICAgLy8gaWYgKCh3aW5kb3cgYXMgYW55KS5CdWlsZGVyKSB7XG4gICAgICAvLyAgIEJ1aWxkZXIuY29tcG9uZW50cyA9ICh3aW5kb3cgYXMgYW55KS5CdWlsZGVyLmNvbXBvbmVudHM7XG4gICAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gICAod2luZG93IGFzIGFueSkuQnVpbGRlciA9IEJ1aWxkZXI7XG4gICAgICAvLyB9XG4gICAgfVxuXG4gICAgaWYgKGlzSWZyYW1lKSB7XG4gICAgICB0aGlzLm1lc3NhZ2VGcmFtZUxvYWRlZCgpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IG9uIGRlc3Ryb3kgY2xlYXIgc3Vic2NyaXB0aW9uXG4gICAgdGhpcy5jYW5UcmFjayQuc3Vic2NyaWJlKCh2YWx1ZTogYW55KSA9PiB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXNzaW9uU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHNlc3Npb25TdG9yYWdlS2V5KSkge1xuICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHNlc3Npb25TdG9yYWdlS2V5LCB0aGlzLnNlc3Npb25JZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdTZXNzaW9uIHN0b3JhZ2UgZXJyb3InLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ldmVudHNRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLnRocm90dGxlZENsZWFyRXZlbnRzUXVldWUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb29raWVRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmNvb2tpZVF1ZXVlLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldENvb2tpZShpdGVtWzBdLCBpdGVtWzFdKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLmNvb2tpZVF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgIC8vIFRPRE86IGRlZmVyIHNvIHN1YmNsYXNzIGNvbnN0cnVjdG9yIHJ1bnMgYW5kIGluamVjdHMgbG9jYXRpb24gc2VydmljZVxuICAgICAgdGhpcy5zZXRUZXN0c0Zyb21VcmwoKTtcbiAgICAgIC8vIFRPRE86IGRvIHRoaXMgb24gZXZlcnkgcmVxdWVzdCBzZW5kP1xuICAgICAgdGhpcy5nZXRPdmVycmlkZXNGcm9tUXVlcnlTdHJpbmcoKTtcblxuICAgICAgLy8gY29va2llcyB1c2VkIGluIHBlcnNvbmFsaXphdGlvbiBjb250YWluZXIgc2NyaXB0LCBzbyBuZWVkIHRvIHNldCBiZWZvcmUgaHlkcmF0aW9uIHRvIG1hdGNoIHNjcmlwdCByZXN1bHRcbiAgICAgIGNvbnN0IHVzZXJBdHRyQ29va2llID0gdGhpcy5nZXRDb29raWUoQnVpbGRlci5hdHRyaWJ1dGVzQ29va2llTmFtZSk7XG4gICAgICBpZiAodXNlckF0dHJDb29raWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gSlNPTi5wYXJzZSh1c2VyQXR0ckNvb2tpZSk7XG4gICAgICAgICAgdGhpcy5zZXRVc2VyQXR0cmlidXRlcyhhdHRyaWJ1dGVzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5kZWJ1ZygnRXJyb3IgcGFyc2luZyB1c2VyIGF0dHJpYnV0ZXMgY29va2llJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgbW9kaWZ5U2VhcmNoKHNlYXJjaDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHNlYXJjaC5yZXBsYWNlKFxuICAgICAgLyhefCZ8XFw/KShidWlsZGVyXy4qPyk9L2dpLFxuICAgICAgKF9tYXRjaCwgZ3JvdXAxLCBncm91cDIpID0+IGdyb3VwMSArIGdyb3VwMi5yZXBsYWNlKC9fL2csICcuJykgKyAnPSdcbiAgICApO1xuICB9XG5cbiAgc2V0VGVzdHNGcm9tVXJsKCkge1xuICAgIGNvbnN0IHNlYXJjaCA9IHRoaXMuZ2V0TG9jYXRpb24oKS5zZWFyY2g7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFF1ZXJ5U3RyaW5nLnBhcnNlRGVlcCh0aGlzLm1vZGlmeVNlYXJjaChzZWFyY2ggfHwgJycpLnN1YnN0cigxKSk7XG4gICAgICBjb25zdCB0ZXN0cyA9IHBhcmFtcy5idWlsZGVyICYmIHBhcmFtcy5idWlsZGVyLnRlc3RzO1xuICAgICAgaWYgKHRlc3RzICYmIHR5cGVvZiB0ZXN0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGVzdHMpIHtcbiAgICAgICAgICBpZiAodGVzdHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5zZXRUZXN0Q29va2llKGtleSwgdGVzdHNba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5kZWJ1ZygnRXJyb3IgcGFyc2luZyB0ZXN0cyBmcm9tIFVSTCcsIGUpO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0T3ZlcnJpZGVzKCkge1xuICAgIC8vIFVnbHkgLSBwYXNzIGRvd24gaW5zdGFuY2VzIHBlciByZXF1ZXN0IGluc3RlYWQgdXNpbmcgcmVhY3QgY29udGV4dFxuICAgIC8vIG9yIHVzZSBidWlsZGVyLmdldCgnZm9vJywgeyByZXEsIHJlcyB9KSBpbiByZWFjdC4uLi4uLi4uLi4uXG4gICAgQnVpbGRlci5vdmVycmlkZVVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgdGhpcy5jYWNoZWJ1c3QgPSBmYWxzZTtcbiAgICB0aGlzLm5vQ2FjaGUgPSBmYWxzZTtcbiAgICB0aGlzLnByZXZpZXcgPSBmYWxzZTtcbiAgICB0aGlzLmVkaXRpbmdNb2RlbCA9IG51bGw7XG4gICAgdGhpcy5vdmVycmlkZXMgPSB7fTtcbiAgICB0aGlzLmVudiA9ICdwcm9kdWN0aW9uJztcbiAgICB0aGlzLnVzZXJBZ2VudCA9ICcnO1xuICAgIHRoaXMucmVxdWVzdCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZ2V0T3ZlcnJpZGVzRnJvbVF1ZXJ5U3RyaW5nKCkge1xuICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5nZXRMb2NhdGlvbigpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBRdWVyeVN0cmluZy5wYXJzZURlZXAodGhpcy5tb2RpZnlTZWFyY2gobG9jYXRpb24uc2VhcmNoIHx8ICcnKS5zdWJzdHIoMSkpO1xuICAgICAgY29uc3QgeyBidWlsZGVyIH0gPSBwYXJhbXM7XG4gICAgICBpZiAoYnVpbGRlcikge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgdXNlckF0dHJpYnV0ZXMsXG4gICAgICAgICAgb3ZlcnJpZGVzLFxuICAgICAgICAgIGVudixcbiAgICAgICAgICBob3N0LFxuICAgICAgICAgIGFwaSxcbiAgICAgICAgICBjYWNoZWJ1c3QsXG4gICAgICAgICAgbm9DYWNoZSxcbiAgICAgICAgICBwcmV2aWV3LFxuICAgICAgICAgIGVkaXRpbmcsXG4gICAgICAgICAgZnJhbWVFZGl0aW5nLFxuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgcGFyYW1zOiBvdmVycmlkZVBhcmFtcyxcbiAgICAgICAgfSA9IGJ1aWxkZXI7XG5cbiAgICAgICAgaWYgKHVzZXJBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgdGhpcy5zZXRVc2VyQXR0cmlidXRlcyh1c2VyQXR0cmlidXRlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIC8vIHBpY2tpbmcgb25seSBsb2NhbGUsIGluY2x1ZGVSZWZzLCBhbmQgZW5yaWNoIGZvciBub3dcbiAgICAgICAgICB0aGlzLnF1ZXJ5T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIC4uLihvcHRpb25zLmxvY2FsZSAmJiB7IGxvY2FsZTogb3B0aW9ucy5sb2NhbGUgfSksXG4gICAgICAgICAgICAuLi4ob3B0aW9ucy5pbmNsdWRlUmVmcyAmJiB7IGluY2x1ZGVSZWZzOiBvcHRpb25zLmluY2x1ZGVSZWZzIH0pLFxuICAgICAgICAgICAgLi4uKG9wdGlvbnMuZW5yaWNoICYmIHsgZW5yaWNoOiBvcHRpb25zLmVucmljaCB9KSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG92ZXJyaWRlcykge1xuICAgICAgICAgIHRoaXMub3ZlcnJpZGVzID0gb3ZlcnJpZGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbGlkRW52TGlzdC5pbmRleE9mKGVudiB8fCBhcGkpID4gLTEpIHtcbiAgICAgICAgICB0aGlzLmVudiA9IGVudiB8fCBhcGk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQnVpbGRlci5pc0VkaXRpbmcpIHtcbiAgICAgICAgICBjb25zdCBlZGl0aW5nTW9kZWwgPSBmcmFtZUVkaXRpbmcgfHwgZWRpdGluZyB8fCBwcmV2aWV3O1xuICAgICAgICAgIGlmIChlZGl0aW5nTW9kZWwgJiYgZWRpdGluZ01vZGVsICE9PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdGluZ01vZGVsID0gZWRpdGluZ01vZGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYWNoZWJ1c3QpIHtcbiAgICAgICAgICB0aGlzLmNhY2hlYnVzdCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9DYWNoZSkge1xuICAgICAgICAgIHRoaXMubm9DYWNoZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJldmlldykge1xuICAgICAgICAgIHRoaXMucHJldmlldyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgICAgdGhpcy5vdmVycmlkZVBhcmFtcyA9IG92ZXJyaWRlUGFyYW1zO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5kZWJ1ZygnRXJyb3IgcGFyc2luZyBvdmVycmlkZXMgZnJvbSBVUkwnLCBlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG1lc3NhZ2VGcmFtZUxvYWRlZCgpIHtcbiAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2J1aWxkZXIubG9hZGVkJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgICcqJ1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGJsb2NrQ29udGVudExvYWRpbmcgPSAnJztcblxuICBwcml2YXRlIGJpbmRNZXNzYWdlTGlzdGVuZXJzKCkge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBldmVudCA9PiB7XG4gICAgICBjb25zdCBpc1RydXN0ZWQgPSBCdWlsZGVyLmlzVHJ1c3RlZEhvc3RGb3JFdmVudChldmVudCk7XG4gICAgICBpZiAoIWlzVHJ1c3RlZCkgcmV0dXJuO1xuXG4gICAgICBjb25zdCB7IGRhdGEgfSA9IGV2ZW50O1xuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdidWlsZGVyLnBpbmcnOiB7XG4gICAgICAgICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdidWlsZGVyLnBvbmcnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnKidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5yZWdpc3Rlcic6IHtcbiAgICAgICAgICAgIC8vIFRPRE86IHBvc3NpYmx5IGRvIHRoaXMgZm9yIGFsbC4uLlxuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gd2luZG93KSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgdHlwZSwgaW5mbyB9ID0gb3B0aW9ucztcbiAgICAgICAgICAgIC8vIFRPRE86IGFsbCBtdXN0IGhhdmUgbmFtZSBhbmQgY2FuJ3QgY29uZmxpY3Q/XG4gICAgICAgICAgICBsZXQgdHlwZUxpc3QgPSBCdWlsZGVyLnJlZ2lzdHJ5W3R5cGVdO1xuICAgICAgICAgICAgaWYgKCF0eXBlTGlzdCkge1xuICAgICAgICAgICAgICB0eXBlTGlzdCA9IEJ1aWxkZXIucmVnaXN0cnlbdHlwZV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHR5cGVMaXN0LnB1c2goaW5mbyk7XG4gICAgICAgICAgICBCdWlsZGVyLnJlZ2lzdHJ5Q2hhbmdlLm5leHQoQnVpbGRlci5yZWdpc3RyeSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5zZXR0aW5nc0NoYW5nZSc6IHtcbiAgICAgICAgICAgIC8vIFRPRE86IHBvc3NpYmx5IGRvIHRoaXMgZm9yIGFsbC4uLlxuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gd2luZG93KSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICBpZiAoIXNldHRpbmdzKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihCdWlsZGVyLnNldHRpbmdzLCBzZXR0aW5ncyk7XG4gICAgICAgICAgICBCdWlsZGVyLnNldHRpbmdzQ2hhbmdlLm5leHQoQnVpbGRlci5zZXR0aW5ncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5yZWdpc3RlckVkaXRvcic6IHtcbiAgICAgICAgICAgIC8vIFRPRE86IHBvc3NpYmx5IGRvIHRoaXMgZm9yIGFsbC4uLlxuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gd2luZG93KSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5mbyA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIGlmICghaW5mbykge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhc0NvbXBvbmVudCA9ICEhaW5mby5jb21wb25lbnQ7XG4gICAgICAgICAgICBCdWlsZGVyLmVkaXRvcnMuZXZlcnkoKHRoaXNJbmZvLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaW5mby5uYW1lID09PSB0aGlzSW5mby5uYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNJbmZvLmNvbXBvbmVudCAmJiAhaGFzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIEJ1aWxkZXIuZWRpdG9yc1tpbmRleF0gPSB0aGlzSW5mbztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnYnVpbGRlci50cmlnZ2VyQW5pbWF0aW9uJzoge1xuICAgICAgICAgICAgQnVpbGRlci5hbmltYXRvci50cmlnZ2VyQW5pbWF0aW9uKGRhdGEuZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5jb250ZW50VXBkYXRlJzpcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGRhdGEuZGF0YS5rZXkgfHwgZGF0YS5kYXRhLmFsaWFzIHx8IGRhdGEuZGF0YS5lbnRyeSB8fCBkYXRhLmRhdGEubW9kZWxOYW1lO1xuICAgICAgICAgICAgY29uc3QgY29udGVudERhdGEgPSBkYXRhLmRhdGEuZGF0YTsgLy8gaG1tbS4uLlxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc0J5S2V5W2tleV07XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXIgJiYgIXRoaXMubm9FZGl0b3JVcGRhdGVzW2tleV0pIHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChbY29udGVudERhdGFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5nZXRDb21wb25lbnRzJzpcbiAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQ/LnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2J1aWxkZXIuY29tcG9uZW50cycsXG4gICAgICAgICAgICAgICAgZGF0YTogQnVpbGRlci5jb21wb25lbnRzLm1hcChpdGVtID0+IEJ1aWxkZXIucHJlcGFyZUNvbXBvbmVudFNwZWNUb1NlbmQoaXRlbSkpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnKidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIuZWRpdGluZ01vZGVsJzpcbiAgICAgICAgICAgIHRoaXMuZWRpdGluZ01vZGVsID0gZGF0YS5kYXRhLm1vZGVsO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdidWlsZGVyLnJlZ2lzdGVyQ29tcG9uZW50JzpcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudERhdGEgPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICBCdWlsZGVyLmFkZENvbXBvbmVudChjb21wb25lbnREYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYnVpbGRlci5ibG9ja0NvbnRlbnRMb2FkaW5nJzpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5kYXRhLm1vZGVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICB0aGlzLmJsb2NrQ29udGVudExvYWRpbmcgPSBkYXRhLmRhdGEubW9kZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIuZWRpdGluZ01vZGUnOlxuICAgICAgICAgICAgY29uc3QgZWRpdGluZ01vZGUgPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICBpZiAoZWRpdGluZ01vZGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nTW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYnVpbGRlci1lZGl0aW5nJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnYnVpbGRlci1lZGl0aW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIuZWRpdGluZ1BhZ2VNb2RlJzpcbiAgICAgICAgICAgIGNvbnN0IGVkaXRpbmdQYWdlTW9kZSA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIEJ1aWxkZXIuZWRpdGluZ1BhZ2UgPSBlZGl0aW5nUGFnZU1vZGU7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2J1aWxkZXIub3ZlcnJpZGVVc2VyQXR0cmlidXRlcyc6XG4gICAgICAgICAgICBjb25zdCB1c2VyQXR0cmlidXRlcyA9IGRhdGEuZGF0YTtcbiAgICAgICAgICAgIGFzc2lnbihCdWlsZGVyLm92ZXJyaWRlVXNlckF0dHJpYnV0ZXMsIHVzZXJBdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hHZXRDb250ZW50UXVldWUodHJ1ZSk7XG4gICAgICAgICAgICAvLyBUT0RPOiByZWZldGNoIHRvb1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdidWlsZGVyLm92ZXJyaWRlVGVzdEdyb3VwJzpcbiAgICAgICAgICAgIGNvbnN0IHsgdmFyaWF0aW9uSWQsIGNvbnRlbnRJZCB9ID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgaWYgKHZhcmlhdGlvbklkICYmIGNvbnRlbnRJZCkge1xuICAgICAgICAgICAgICB0aGlzLnNldFRlc3RDb29raWUoY29udGVudElkLCB2YXJpYXRpb25JZCk7XG4gICAgICAgICAgICAgIHRoaXMuZmx1c2hHZXRDb250ZW50UXVldWUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdidWlsZGVyLmV2YWx1YXRlJzoge1xuICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRhdGEuZGF0YS50ZXh0O1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IGRhdGEuZGF0YS5hcmd1bWVudHMgfHwgW107XG4gICAgICAgICAgICBjb25zdCBpZCA9IGRhdGEuZGF0YS5pZDtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1mdW5jdGlvbi1jb25zdHJ1Y3Rvci13aXRoLXN0cmluZy1hcmdzXG4gICAgICAgICAgICBjb25zdCBmbiA9IG5ldyBGdW5jdGlvbih0ZXh0KTtcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IGFueTtcbiAgICAgICAgICAgIGxldCBlcnJvcjogRXJyb3IgfCBudWxsID0gbnVsbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIGVycm9yID0gdG9FcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2J1aWxkZXIuZXZhbHVhdGVFcnJvcicsXG4gICAgICAgICAgICAgICAgICBkYXRhOiB7IGlkLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJyonXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIChyZXN1bHQgYXMgUHJvbWlzZTxhbnk+KVxuICAgICAgICAgICAgICAgICAgLnRoZW4oZmluYWxSZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucGFyZW50Py5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYnVpbGRlci5ldmFsdWF0ZVJlc3VsdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGlkLCByZXN1bHQ6IGZpbmFsUmVzdWx0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAnKidcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdidWlsZGVyLmV2YWx1YXRlUmVzdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyByZXN1bHQsIGlkIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgJyonXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvYnNlcnZlcnNCeUtleTogeyBba2V5OiBzdHJpbmddOiBCZWhhdmlvclN1YmplY3Q8QnVpbGRlckNvbnRlbnRbXT4gfCB1bmRlZmluZWQgfSA9IHt9O1xuICBub0VkaXRvclVwZGF0ZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XG5cbiAgZ2V0IGRlZmF1bHRDYW5UcmFjaygpIHtcbiAgICByZXR1cm4gQm9vbGVhbihcbiAgICAgIEJ1aWxkZXIuaXNCcm93c2VyICYmXG4gICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQudHJpbSgpICYmXG4gICAgICAgICFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKFxuICAgICAgICAgIC9ib3R8Y3Jhd2xlcnxzcGlkZXJ8cm9ib3R8Y3Jhd2xpbmd8cHJlcmVuZGVyfGdvb2dsZXxiYWlkdXxiaW5nfG1zbnxkdWNrZHVja2JvdHx0ZW9tYXxzbHVycHx5YW5kZXh8cGhhbnRvbXxoZWFkbGVzc3xzZWxlbml1bXxwdXBwZXRlZXIvaVxuICAgICAgICApICYmXG4gICAgICAgICF0aGlzLmJyb3dzZXJUcmFja2luZ0Rpc2FibGVkXG4gICAgKTtcbiAgfVxuXG4gIGluaXQoXG4gICAgYXBpS2V5OiBzdHJpbmcsXG4gICAgY2FuVHJhY2sgPSB0aGlzLmRlZmF1bHRDYW5UcmFjayxcbiAgICByZXE/OiBJbmNvbWluZ01lc3NhZ2UsXG4gICAgcmVzPzogU2VydmVyUmVzcG9uc2UsXG4gICAgYXV0aFRva2VuPzogc3RyaW5nIHwgbnVsbCxcbiAgICBhcGlWZXJzaW9uPzogQXBpVmVyc2lvblxuICApIHtcbiAgICBpZiAocmVxKSB7XG4gICAgICB0aGlzLnJlcXVlc3QgPSByZXE7XG4gICAgfVxuICAgIGlmIChyZXMpIHtcbiAgICAgIHRoaXMucmVzcG9uc2UgPSByZXM7XG4gICAgfVxuICAgIGlmICghdGhpcy5oYXNPdmVycmlkZGVuQ2FuVHJhY2spIHtcbiAgICAgIHRoaXMuY2FuVHJhY2sgPSBjYW5UcmFjaztcbiAgICB9XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgaWYgKGF1dGhUb2tlbikge1xuICAgICAgdGhpcy5hdXRoVG9rZW4gPSBhdXRoVG9rZW47XG4gICAgfVxuICAgIGlmIChhcGlWZXJzaW9uKSB7XG4gICAgICB0aGlzLmFwaVZlcnNpb24gPSBhcGlWZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldCBwcmV2aWV3aW5nTW9kZWwoKSB7XG4gICAgY29uc3Qgc2VhcmNoID0gdGhpcy5nZXRMb2NhdGlvbigpLnNlYXJjaDtcbiAgICBjb25zdCBwYXJhbXMgPSBRdWVyeVN0cmluZy5wYXJzZSgoc2VhcmNoIHx8ICcnKS5zdWJzdHIoMSkpO1xuICAgIHJldHVybiBwYXJhbXNbJ2J1aWxkZXIucHJldmlldyddO1xuICB9XG5cbiAgLy8gVE9ETzogYWxsb3cgYWRkaW5nIGxvY2F0aW9uIG9iamVjdCBhcyBwcm9wZXJ0eSBhbmQvb3IgaW4gY29uc3RydWN0b3JcbiAgZ2V0TG9jYXRpb24oKTogVXJsIHtcbiAgICBsZXQgcGFyc2VkTG9jYXRpb246IGFueSA9IHt9O1xuXG4gICAgLy8gaW4gc3NyIG1vZGVcbiAgICBpZiAodGhpcy5yZXF1ZXN0KSB7XG4gICAgICBwYXJzZWRMb2NhdGlvbiA9IHBhcnNlKHRoaXMucmVxdWVzdC51cmwgPz8gJycpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgLy8gaW4gdGhlIGJyb3dzZXJcbiAgICAgIHBhcnNlZExvY2F0aW9uID0gcGFyc2UobG9jYXRpb24uaHJlZik7XG4gICAgfVxuXG4gICAgLy8gSUUxMSBidWcgd2l0aCBwYXJzZWQgcGF0aCBiZWluZyBlbXB0eSBzdHJpbmdcbiAgICAvLyBjYXVzZXMgaXNzdWVzIHdpdGggb3VyIHVzZXIgdGFyZ2V0aW5nXG4gICAgaWYgKHBhcnNlZExvY2F0aW9uLnBhdGhuYW1lID09PSAnJykge1xuICAgICAgcGFyc2VkTG9jYXRpb24ucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlZExvY2F0aW9uO1xuICB9XG5cbiAgZ2V0VXNlckF0dHJpYnV0ZXModXNlckFnZW50ID0gdGhpcy51c2VyQWdlbnQgfHwgJycpIHtcbiAgICBjb25zdCBpc01vYmlsZSA9IHtcbiAgICAgIEFuZHJvaWQoKSB7XG4gICAgICAgIHJldHVybiB1c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSk7XG4gICAgICB9LFxuICAgICAgQmxhY2tCZXJyeSgpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJBZ2VudC5tYXRjaCgvQmxhY2tCZXJyeS9pKTtcbiAgICAgIH0sXG4gICAgICBpT1MoKSB7XG4gICAgICAgIHJldHVybiB1c2VyQWdlbnQubWF0Y2goL2lQaG9uZXxpUG9kL2kpO1xuICAgICAgfSxcbiAgICAgIE9wZXJhKCkge1xuICAgICAgICByZXR1cm4gdXNlckFnZW50Lm1hdGNoKC9PcGVyYSBNaW5pL2kpO1xuICAgICAgfSxcbiAgICAgIFdpbmRvd3MoKSB7XG4gICAgICAgIHJldHVybiB1c2VyQWdlbnQubWF0Y2goL0lFTW9iaWxlL2kpIHx8IHVzZXJBZ2VudC5tYXRjaCgvV1BEZXNrdG9wL2kpO1xuICAgICAgfSxcbiAgICAgIGFueSgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBpc01vYmlsZS5BbmRyb2lkKCkgfHxcbiAgICAgICAgICBpc01vYmlsZS5CbGFja0JlcnJ5KCkgfHxcbiAgICAgICAgICBpc01vYmlsZS5pT1MoKSB8fFxuICAgICAgICAgIGlzTW9iaWxlLk9wZXJhKCkgfHxcbiAgICAgICAgICBpc01vYmlsZS5XaW5kb3dzKClcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IGlzVGFibGV0ID0gdXNlckFnZW50Lm1hdGNoKC9UYWJsZXR8aVBhZC9pKTtcblxuICAgIGNvbnN0IHVybCA9IHRoaXMuZ2V0TG9jYXRpb24oKTtcblxuICAgIHJldHVybiB7XG4gICAgICB1cmxQYXRoOiB1cmwucGF0aG5hbWUsXG4gICAgICBob3N0OiB1cmwuaG9zdCB8fCB1cmwuaG9zdG5hbWUsXG4gICAgICAvLyBUT0RPOiBtYXliZSBhbiBvcHRpb24gdG8gY2hvb3NlIHRvIHRhcmdldCBvZmYgb2YgbW9iaWxlL3RhYmxldC9kZXNrdG9wIG9yIGp1c3QgbW9iaWxlL2Rlc2t0b3BcbiAgICAgIGRldmljZTogaXNUYWJsZXQgPyAndGFibGV0JyA6IGlzTW9iaWxlLmFueSgpID8gJ21vYmlsZScgOiAnZGVza3RvcCcsXG4gICAgICAuLi5CdWlsZGVyLm92ZXJyaWRlVXNlckF0dHJpYnV0ZXMsXG4gICAgfSBhcyBVc2VyQXR0cmlidXRlcztcbiAgfVxuXG4gIHByb3RlY3RlZCBvdmVycmlkZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgcHJvdGVjdGVkIHF1ZXJ5T3B0aW9uczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuXG4gIHByaXZhdGUgZ2V0Q29udGVudFF1ZXVlOiBudWxsIHwgR2V0Q29udGVudE9wdGlvbnNbXSA9IG51bGw7XG4gIHByaXZhdGUgcHJpb3JDb250ZW50UXVldWU6IG51bGwgfCBHZXRDb250ZW50T3B0aW9uc1tdID0gbnVsbDtcblxuICBzZXRVc2VyQXR0cmlidXRlcyhvcHRpb25zOiBvYmplY3QpIHtcbiAgICBhc3NpZ24oQnVpbGRlci5vdmVycmlkZVVzZXJBdHRyaWJ1dGVzLCBvcHRpb25zKTtcbiAgICBpZiAodGhpcy5jYW5UcmFjaykge1xuICAgICAgdGhpcy5zZXRDb29raWUoQnVpbGRlci5hdHRyaWJ1dGVzQ29va2llTmFtZSwgSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRVc2VyQXR0cmlidXRlcygpKSk7XG4gICAgfVxuXG4gICAgdGhpcy51c2VyQXR0cmlidXRlc0NoYW5nZWQubmV4dChvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdXNlciBhdHRyaWJ1dGVzIGp1c3QgZm9yIHRyYWNraW5nIHB1cnBvc2VzLlxuICAgKlxuICAgKiBEbyB0aGlzIHNvIHByb3BlcnRpZXMgZXhpc3Qgb24gZXZlbnQgb2JqZWN0cyBmb3IgcXVlcnlpbmcgaW5zaWdodHMsIGJ1dFxuICAgKiB3b24ndCBhZmZlY3QgdGFyZ2V0aW5nXG4gICAqXG4gICAqIFVzZSB0aGlzIHdoZW4geW91IHdhbnQgdG8gdHJhY2sgcHJvcGVydGllcyBidXQgZG9uJ3QgbmVlZCB0byB0YXJnZXQgb2ZmXG4gICAqIG9mIHRoZW0gdG8gb3B0aW1pemUgY2FjaGUgZWZmaWNpZW5jeVxuICAgKi9cbiAgc2V0VHJhY2tpbmdVc2VyQXR0cmlidXRlcyhhdHRyaWJ1dGVzOiBvYmplY3QpIHtcbiAgICBhc3NpZ24odGhpcy50cmFja2luZ1VzZXJBdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzKTtcbiAgfVxuXG4gIGdldChcbiAgICBtb2RlbE5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zOiBHZXRDb250ZW50T3B0aW9ucyAmIHtcbiAgICAgIHJlcT86IEluY29taW5nTWVzc2FnZTtcbiAgICAgIHJlcz86IFNlcnZlclJlc3BvbnNlO1xuICAgICAgYXBpS2V5Pzogc3RyaW5nO1xuICAgICAgYXV0aFRva2VuPzogc3RyaW5nO1xuICAgIH0gPSB7fVxuICApIHtcbiAgICBsZXQgaW5zdGFuY2U6IEJ1aWxkZXIgPSB0aGlzO1xuICAgIGxldCBmaW5hbExvY2FsZSA9XG4gICAgICBvcHRpb25zLmxvY2FsZSB8fCBvcHRpb25zLnVzZXJBdHRyaWJ1dGVzPy5sb2NhbGUgfHwgdGhpcy5nZXRVc2VyQXR0cmlidXRlcygpLmxvY2FsZTtcblxuICAgIGlmICghKCdub1RyYXZlcnNlJyBpbiBvcHRpb25zKSkge1xuICAgICAgb3B0aW9ucy5ub1RyYXZlcnNlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IGZpbmFsT3B0aW9ucyA9IHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAuLi4oZmluYWxMb2NhbGUgJiYge1xuICAgICAgICBsb2NhbGU6IFN0cmluZyhmaW5hbExvY2FsZSksXG4gICAgICAgIHVzZXJBdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgbG9jYWxlOiBTdHJpbmcoZmluYWxMb2NhbGUpLFxuICAgICAgICAgIC4uLm9wdGlvbnMudXNlckF0dHJpYnV0ZXMsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICB9O1xuICAgIGlmICghQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIGluc3RhbmNlID0gbmV3IEJ1aWxkZXIoXG4gICAgICAgIG9wdGlvbnMuYXBpS2V5IHx8IHRoaXMuYXBpS2V5LFxuICAgICAgICBvcHRpb25zLnJlcSxcbiAgICAgICAgb3B0aW9ucy5yZXMsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgb3B0aW9ucy5hdXRoVG9rZW4gfHwgdGhpcy5hdXRoVG9rZW4sXG4gICAgICAgIG9wdGlvbnMuYXBpVmVyc2lvbiB8fCB0aGlzLmFwaVZlcnNpb25cbiAgICAgICk7XG4gICAgICBpbnN0YW5jZS5hcGlFbmRwb2ludCA9IHRoaXMuYXBpRW5kcG9pbnQ7XG4gICAgICBpbnN0YW5jZS5zZXRVc2VyQXR0cmlidXRlcyh0aGlzLmdldFVzZXJBdHRyaWJ1dGVzKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOT1RFOiBBbGwgdGhlc2UgYXJlIHdoZW4gLmluaXQgaXMgbm90IGNhbGxlZCBhbmQgdGhlIGN1c3RvbWVyXG4gICAgICAvLyBkaXJlY3RseSBjYWxscyAuZ2V0IG9uIHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgQnVpbGRlclxuICAgICAgaWYgKG9wdGlvbnMuYXBpS2V5ICYmICF0aGlzLmFwaUtleSkge1xuICAgICAgICB0aGlzLmFwaUtleSA9IG9wdGlvbnMuYXBpS2V5O1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuYXV0aFRva2VuICYmICF0aGlzLmF1dGhUb2tlbikge1xuICAgICAgICB0aGlzLmF1dGhUb2tlbiA9IG9wdGlvbnMuYXV0aFRva2VuO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuYXBpVmVyc2lvbiAmJiAhdGhpcy5hcGlWZXJzaW9uKSB7XG4gICAgICAgIHRoaXMuYXBpVmVyc2lvbiA9IG9wdGlvbnMuYXBpVmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlLnF1ZXVlR2V0Q29udGVudChtb2RlbE5hbWUsIGZpbmFsT3B0aW9ucykubWFwKFxuICAgICAgLyogbWFwKCAqLyAobWF0Y2hlczogYW55W10gfCBudWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gbWF0Y2hlcyAmJiBtYXRjaGVzWzBdO1xuICAgICAgICBpZiAoQnVpbGRlci5pc1N0YXRpYykge1xuICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1hdGNoRGF0YSA9IG1hdGNoICYmIG1hdGNoLmRhdGE7XG4gICAgICAgIGlmICghbWF0Y2hEYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG1hdGNoRGF0YS5ibG9ja3NTdHJpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbWF0Y2hEYXRhLmJsb2NrcyA9IEpTT04ucGFyc2UobWF0Y2hEYXRhLmJsb2Nrc1N0cmluZyk7XG4gICAgICAgICAgZGVsZXRlIG1hdGNoRGF0YS5ibG9ja3NTdHJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC8vIFRPRE86IGFkZCBhYiB0ZXN0IGluZm8gaGVyZSBhbmQgb3RoZXIgaGlnaCBsZXZlbCBzdHVmZlxuICAgICAgICAgIGRhdGE6IG1hdGNoRGF0YSxcbiAgICAgICAgICBpZDogbWF0Y2guaWQsXG4gICAgICAgICAgdmFyaWF0aW9uSWQ6IG1hdGNoLnRlc3RWYXJpYXRpb25JZCB8fCBtYXRjaC52YXJpYXRpb25JZCB8fCBudWxsLFxuICAgICAgICAgIHRlc3RWYXJpYXRpb25JZDogbWF0Y2gudGVzdFZhcmlhdGlvbklkIHx8IG1hdGNoLnZhcmlhdGlvbklkIHx8IG51bGwsXG4gICAgICAgICAgdGVzdFZhcmlhdGlvbk5hbWU6IG1hdGNoLnRlc3RWYXJpYXRpb25OYW1lIHx8IG51bGwsXG4gICAgICAgICAgbGFzdFVwZGF0ZWQ6IG1hdGNoLmxhc3RVcGRhdGVkIHx8IG51bGwsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgKTtcbiAgICAvLyApO1xuICB9XG5cbiAgLy8gVE9ETzogZW50cnkgaWQgaW4gb3B0aW9uc1xuICBxdWV1ZUdldENvbnRlbnQobW9kZWxOYW1lOiBzdHJpbmcsIG9wdGlvbnM6IEdldENvbnRlbnRPcHRpb25zID0ge30pIHtcbiAgICAvLyBUT0RPOiBpZiBxdWVyeSBkbyBtb2RlbE5hbWUgKyBxdWVyeVxuICAgIGNvbnN0IGtleSA9XG4gICAgICBvcHRpb25zLmtleSB8fFxuICAgICAgb3B0aW9ucy5hbGlhcyB8fFxuICAgICAgLy8gVE9ETzogU0RLcyBvbmx5IHBhc3MgZW50cnkga2V5IHdoZW4gZ2l2ZW4gdG8gdGhlbSwgYW5kIG5ldmVyIHdoZW4gZWRpdGluZy4uLlxuICAgICAgLy8gb3B0aW9ucy5lbnRyeSB8fFxuXG4gICAgICAvLyBUT0RPOiB0aGlzIGlzIHVnbHkgLSBpbnN0ZWFkIG9mIG11bHRpcGxlIG9mIHNhbWUgbW9kZWwgd2l0aCBkaWZmZXJlbnQgb3B0aW9ucyBhcmUgc2VudFxuICAgICAgLy8gc2F5IHJlcXVpcmVzIGtleS9hbGlhcy4gT3IgaWYgbm90IHBlcmhhcHMgbWFrZSBhIHJlbGlhYmxlIGhhc2ggb2YgdGhlIG9wdGlvbnMgYW5kIHVzZSB0aGF0LlxuICAgICAgLy8gVE9ETzogc3RvcmUgbGFzdCB1c2VyIHN0YXRlIG9uIGxhc3QgcmVxdWVzdCBhbmQgaWYgdXNlciBhdHRyaWJ1dGVzIGRpZmZlcmVudCBub3dcbiAgICAgIC8vIGdpdmUgYSB3YXJuaW5nIHRoYXQgbmVlZCB0byB1c2Uga2V5cyB0byByZXF1ZXN0IG5ldyBjb250ZW50ZVxuICAgICAgLy8gKG9wdGlvbnMgJiZcbiAgICAgIC8vICAgT2JqZWN0LmtleXMob3B0aW9ucykuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdtb2RlbCcpLmxlbmd0aCAmJlxuICAgICAgLy8gICBKU09OLnN0cmluZ2lmeSh7IG1vZGVsOiBtb2RlbE5hbWUsIC4uLm9wdGlvbnMsIGluaXRpYWxDb250ZW50OiB1bmRlZmluZWQgfSkpIHx8XG4gICAgICBtb2RlbE5hbWU7XG5cbiAgICBjb25zdCBpc0VkaXRpbmdUaGlzTW9kZWwgPSB0aGlzLmVkaXRpbmdNb2RlbCA9PT0gbW9kZWxOYW1lO1xuICAgIC8vIFRPRE86IGluY2x1ZGUgcGFyYW1zIGluIHRoaXMga2V5Li4uLi4uLi5cbiAgICBjb25zdCBjdXJyZW50T2JzZXJ2YWJsZSA9IHRoaXMub2JzZXJ2ZXJzQnlLZXlba2V5XSBhcyBCZWhhdmlvclN1YmplY3Q8QnVpbGRlckNvbnRlbnRbXT4gfCBudWxsO1xuXG4gICAgLy8gaWYgKG9wdGlvbnMucXVlcnkgJiYgb3B0aW9ucy5xdWVyeS5faWQpIHtcbiAgICAvLyAgIHRoaXMuZmx1c2hHZXRDb250ZW50UXVldWUoW29wdGlvbnNdKVxuICAgIC8vIH1cblxuICAgIGlmICh0aGlzLmFwaUtleSA9PT0gJ0RFTU8nICYmICF0aGlzLm92ZXJyaWRlc1trZXldICYmICFvcHRpb25zLmluaXRpYWxDb250ZW50KSB7XG4gICAgICBvcHRpb25zLmluaXRpYWxDb250ZW50ID0gW107XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbml0aWFsQ29udGVudCB9ID0gb3B0aW9ucztcblxuICAgIC8vIFRPRE86IHJlZnJlc2ggb3B0aW9uIGluIG9wdGlvbnNcbiAgICBpZiAoY3VycmVudE9ic2VydmFibGUgJiYgKCFjdXJyZW50T2JzZXJ2YWJsZS52YWx1ZSB8fCBvcHRpb25zLmNhY2hlKSkge1xuICAgICAgLy8gVE9ETzogdGVzdCBpZiB0aGlzIHJhbiwgb3RoZXJ3aXNlIG9uIDQwNCBzb21lIG9ic2VydmVycyBtYXkgbmV2ZXIgYmUgY2FsbGVkLi4uXG4gICAgICBpZiAoY3VycmVudE9ic2VydmFibGUudmFsdWUpIHtcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgIC8vIFRPRE86IHJldHVybiBhIG5ldyBvYnNlcnZhYmxlIGFuZCBvbmx5IHRoYXQgb25lIGZpcmVzIHN1YnNjcmliZXJzLCBkb24ndCByZWZpcmUgZm9yIGV4aXN0aW5nIG9uZXNcbiAgICAgICAgICBjdXJyZW50T2JzZXJ2YWJsZS5uZXh0KGN1cnJlbnRPYnNlcnZhYmxlLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VycmVudE9ic2VydmFibGU7XG4gICAgfVxuICAgIGlmIChpc0VkaXRpbmdUaGlzTW9kZWwpIHtcbiAgICAgIGlmIChCdWlsZGVyLmlzQnJvd3Nlcikge1xuICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyB0eXBlOiAnYnVpbGRlci51cGRhdGVDb250ZW50JywgZGF0YTogeyBvcHRpb25zIH0gfSwgJyonKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpbml0aWFsQ29udGVudCAvKiB8fCBpc0VkaXRpbmdUaGlzTW9kZWwgKi8pIHtcbiAgICAgIGlmICghdGhpcy5nZXRDb250ZW50UXVldWUpIHtcbiAgICAgICAgdGhpcy5nZXRDb250ZW50UXVldWUgPSBbXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5nZXRDb250ZW50UXVldWUucHVzaCh7IC4uLm9wdGlvbnMsIG1vZGVsOiBtb2RlbE5hbWUsIGtleSB9KTtcbiAgICAgIGlmICh0aGlzLmdldENvbnRlbnRRdWV1ZSAmJiB0aGlzLmdldENvbnRlbnRRdWV1ZS5sZW5ndGggPj0gdGhpcy5jb250ZW50UGVyUmVxdWVzdCkge1xuICAgICAgICBjb25zdCBxdWV1ZSA9IHRoaXMuZ2V0Q29udGVudFF1ZXVlLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuZ2V0Q29udGVudFF1ZXVlID0gW107XG4gICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmZsdXNoR2V0Q29udGVudFF1ZXVlKGZhbHNlLCBxdWV1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZmx1c2hHZXRDb250ZW50UXVldWUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IG5ldyBCZWhhdmlvclN1YmplY3Q8QnVpbGRlckNvbnRlbnRbXT4obnVsbCBhcyBhbnkpO1xuICAgIHRoaXMub2JzZXJ2ZXJzQnlLZXlba2V5XSA9IG9ic2VydmFibGU7XG4gICAgaWYgKG9wdGlvbnMubm9FZGl0b3JVcGRhdGVzKSB7XG4gICAgICB0aGlzLm5vRWRpdG9yVXBkYXRlc1trZXldID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGluaXRpYWxDb250ZW50KSB7XG4gICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIC8vIFRPRE86IG5lZWQgdG8gdGVzdE1vZGlmeSB0aGlzIEkgdGhpbmsuLi4/XG4gICAgICAgIG9ic2VydmFibGUubmV4dChpbml0aWFsQ29udGVudCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG4gIH1cblxuICAvLyB0aGlzIGlzIG5lZWRlZCB0byBzYXRpc2Z5IHRoZSBBbmd1bGFyIFNESywgd2hpY2ggdXNlZCB0byByZWx5IG9uIHRoZSBtb3JlIGNvbXBsZXggdmVyc2lvbiBvZiBgcmVxdWVzdFVybGAuXG4gIC8vIGV2ZW4gdGhvdWdoIHdlIG9ubHkgdXNlIGBmZXRjaCgpYCBub3csIHdlIHByZWZlciB0byBrZWVwIHRoZSBvbGQgYmVoYXZpb3IgYW5kIHVzZSB0aGUgYGZldGNoYCB0aGF0IGNvbWVzIGZyb21cbiAgLy8gdGhlIGNvcmUgU0RLIGZvciBjb25zaXN0ZW5jeVxuICByZXF1ZXN0VXJsKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiB7IGhlYWRlcnM6IHsgW2hlYWRlcjogc3RyaW5nXTogbnVtYmVyIHwgc3RyaW5nIHwgc3RyaW5nW10gfCB1bmRlZmluZWQgfTsgbmV4dD86IGFueSB9XG4gICkge1xuICAgIHJldHVybiBnZXRGZXRjaCgpKHVybCwgdGhpcy5hZGRTZGtIZWFkZXJzKG9wdGlvbnMpKS50aGVuKHJlcyA9PiByZXMuanNvbigpKTtcbiAgfVxuXG4gIGdldCBob3N0KCkge1xuICAgIHN3aXRjaCAodGhpcy5lbnYpIHtcbiAgICAgIGNhc2UgJ3FhJzpcbiAgICAgICAgcmV0dXJuICdodHRwczovL3FhLmJ1aWxkZXIuaW8nO1xuICAgICAgY2FzZSAndGVzdCc6XG4gICAgICAgIHJldHVybiAnaHR0cHM6Ly9idWlsZGVyLWlvLXRlc3Qud2ViLmFwcCc7XG4gICAgICBjYXNlICdmYXN0JzpcbiAgICAgICAgcmV0dXJuICdodHRwczovL2Zhc3QuYnVpbGRlci5pbyc7XG4gICAgICBjYXNlICdjbG91ZCc6XG4gICAgICAgIHJldHVybiAnaHR0cHM6Ly9jbG91ZC5idWlsZGVyLmlvJztcbiAgICAgIGNhc2UgJ2NkbjInOlxuICAgICAgICByZXR1cm4gJ2h0dHBzOi8vY2RuMi5idWlsZGVyLmlvJztcbiAgICAgIGNhc2UgJ2Nkbi1xYSc6XG4gICAgICAgIHJldHVybiAnaHR0cHM6Ly9jZG4tcWEuYnVpbGRlci5pbyc7XG4gICAgICBjYXNlICdkZXZlbG9wbWVudCc6XG4gICAgICBjYXNlICdkZXYnOlxuICAgICAgICByZXR1cm4gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMCc7XG4gICAgICBjYXNlICdjZG4tcHJvZCc6XG4gICAgICAgIHJldHVybiAnaHR0cHM6Ly9jZG4uYnVpbGRlci5pbyc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gQnVpbGRlci5vdmVycmlkZUhvc3QgfHwgJ2h0dHBzOi8vY2RuLmJ1aWxkZXIuaW8nO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2RrSGVhZGVycygpOlxuICAgIHwge1xuICAgICAgICAnWC1CdWlsZGVyLVNESyc6IHN0cmluZztcbiAgICAgICAgJ1gtQnVpbGRlci1TREstR0VOJzogJzEnO1xuICAgICAgICAnWC1CdWlsZGVyLVNESy1WZXJzaW9uJzogc3RyaW5nO1xuICAgICAgfVxuICAgIHwge30ge1xuICAgIGlmICghQnVpbGRlci5zZGtJbmZvKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICdYLUJ1aWxkZXItU0RLJzogQnVpbGRlci5zZGtJbmZvLm5hbWUsXG4gICAgICAnWC1CdWlsZGVyLVNESy1HRU4nOiAnMScsXG4gICAgICAnWC1CdWlsZGVyLVNESy1WZXJzaW9uJzogQnVpbGRlci5zZGtJbmZvLnZlcnNpb24sXG4gICAgfSBhcyBjb25zdDtcbiAgfVxuXG4gIHByaXZhdGUgYWRkU2RrSGVhZGVycyhmZXRjaE9wdGlvbnM6IGFueSkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5mZXRjaE9wdGlvbnMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLmZldGNoT3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAuLi50aGlzLmdldFNka0hlYWRlcnMoKSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgbWFrZUZldGNoQXBpQ2FsbCh1cmw6IHN0cmluZywgcmVxdWVzdE9wdGlvbnM6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIGdldEZldGNoKCkodXJsLCB0aGlzLmFkZFNka0hlYWRlcnMocmVxdWVzdE9wdGlvbnMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGbGF0dGVuIGEgbmVzdGVkIE1vbmdvREIgcXVlcnkgb2JqZWN0IGludG8gYSBmbGF0IG9iamVjdCB3aXRoIGRvdC1zZXBhcmF0ZWQga2V5cy5cbiAgICogJCBrZXlzIGFyZSBub3QgZmxhdHRlbmVkIGFuZCBhcmUgbGVmdCBhcyBpcy5cbiAgICpcbiAgICogeyBmb286IHsgYmFyOiB7ICRndDogNSB9fX0gLT4geyAnZm9vLmJhcic6IHsgJyRndCc6IDUgfX1cbiAgICogeyBmb286IHsnYmFyLmlkJzogeyAkZWxlbU1hdGNoOiB7ICdiYXouaWQnOiB7ICRpbjogWydhYmMnLCAnYmNkJ10gfX19fX0gLT4geyAnZm9vLmJhci5pZCc6IHsgJyRlbGVtTWF0Y2gnOiB7ICdiYXouaWQnOiB7ICckaW4nOiBbJ2FiYycsICdiY2QnXSB9fX19XG4gICAqL1xuICBwcml2YXRlIGZsYXR0ZW5Nb25nb1F1ZXJ5KG9iajogYW55LCBfY3VycmVudD86IGFueSwgX3JlczogYW55ID0ge30pOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9IHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICBjb25zdCBuZXdLZXkgPSBfY3VycmVudCA/IF9jdXJyZW50ICsgJy4nICsga2V5IDoga2V5O1xuICAgICAgaWYgKFxuICAgICAgICB2YWx1ZSAmJlxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJlxuICAgICAgICAhT2JqZWN0LmtleXModmFsdWUpLmZpbmQoaXRlbSA9PiBpdGVtLnN0YXJ0c1dpdGgoJyQnKSlcbiAgICAgICkge1xuICAgICAgICB0aGlzLmZsYXR0ZW5Nb25nb1F1ZXJ5KHZhbHVlLCBuZXdLZXksIF9yZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3Jlc1tuZXdLZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfcmVzO1xuICB9XG5cbiAgcHJpdmF0ZSBmbHVzaEdldENvbnRlbnRRdWV1ZSh1c2VQYXN0UXVldWUgPSBmYWxzZSwgdXNlUXVldWU/OiBHZXRDb250ZW50T3B0aW9uc1tdKSB7XG4gICAgaWYgKCF0aGlzLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRmV0Y2hpbmcgY29udGVudCBmYWlsZWQsIGV4cGVjdGVkIGFwaUtleSB0byBiZSBkZWZpbmVkIGluc3RlYWQgZ290OiAke3RoaXMuYXBpS2V5fWBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXBpVmVyc2lvbikge1xuICAgICAgaWYgKCFbJ3YxJywgJ3YzJ10uaW5jbHVkZXModGhpcy5hcGlWZXJzaW9uKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXBpVmVyc2lvbjogZXhwZWN0ZWQgJ3YxJyBvciAndjMnLCByZWNlaXZlZCAnJHt0aGlzLmFwaVZlcnNpb259J2ApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFwaVZlcnNpb24gPSBERUZBVUxUX0FQSV9WRVJTSU9OO1xuICAgIH1cblxuICAgIGlmICghdXNlUGFzdFF1ZXVlICYmICF0aGlzLmdldENvbnRlbnRRdWV1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHF1ZXVlID0gdXNlUXVldWUgfHwgKHVzZVBhc3RRdWV1ZSA/IHRoaXMucHJpb3JDb250ZW50UXVldWUgOiB0aGlzLmdldENvbnRlbnRRdWV1ZSkgfHwgW107XG5cbiAgICAvLyBUT0RPOiBkbyB0aGlzIG9uIGV2ZXJ5IHJlcXVlc3Qgc2VuZD9cbiAgICB0aGlzLmdldE92ZXJyaWRlc0Zyb21RdWVyeVN0cmluZygpO1xuXG4gICAgY29uc3QgcXVlcnlQYXJhbXM6IFBhcmFtc01hcCA9IHtcbiAgICAgIC8vIFRPRE86IHdheSB0byBmb3JjZSBhIHJlcXVlc3QgdG8gYmUgaW4gYSBzZXBhcmF0ZSBxdWV1ZS4gb3IganVzdCBsb3dlciBxdWV1ZSBsaW1pdCB0byBiZSAxIGJ5IGRlZmF1bHRcbiAgICAgIG9taXQ6IHF1ZXVlWzBdLm9taXQgPz8gJ21ldGEuY29tcG9uZW50c1VzZWQnLFxuICAgICAgYXBpS2V5OiB0aGlzLmFwaUtleSxcbiAgICAgIC4uLnF1ZXVlWzBdLm9wdGlvbnMsXG4gICAgICAuLi50aGlzLnF1ZXJ5T3B0aW9ucyxcbiAgICB9O1xuXG4gICAgaWYgKHF1ZXVlWzBdLmxvY2FsZSkge1xuICAgICAgcXVlcnlQYXJhbXMubG9jYWxlID0gcXVldWVbMF0ubG9jYWxlO1xuICAgIH1cbiAgICBpZiAocXVldWVbMF0uZmllbGRzKSB7XG4gICAgICBxdWVyeVBhcmFtcy5maWVsZHMgPSBxdWV1ZVswXS5maWVsZHM7XG4gICAgfVxuICAgIGlmIChxdWV1ZVswXS5mb3JtYXQpIHtcbiAgICAgIHF1ZXJ5UGFyYW1zLmZvcm1hdCA9IHF1ZXVlWzBdLmZvcm1hdDtcbiAgICB9XG4gICAgaWYgKCdub1RyYXZlcnNlJyBpbiBxdWV1ZVswXSkge1xuICAgICAgcXVlcnlQYXJhbXMubm9UcmF2ZXJzZSA9IHF1ZXVlWzBdLm5vVHJhdmVyc2U7XG4gICAgfVxuICAgIGlmICgnaW5jbHVkZVVucHVibGlzaGVkJyBpbiBxdWV1ZVswXSkge1xuICAgICAgcXVlcnlQYXJhbXMuaW5jbHVkZVVucHVibGlzaGVkID0gcXVldWVbMF0uaW5jbHVkZVVucHVibGlzaGVkO1xuICAgIH1cbiAgICBpZiAocXVldWVbMF0uc29ydCkge1xuICAgICAgcXVlcnlQYXJhbXMuc29ydCA9IHF1ZXVlWzBdLnNvcnQ7XG4gICAgfVxuXG4gICAgY29uc3QgcGFnZVF1ZXJ5UGFyYW1zOiBQYXJhbXNNYXAgPVxuICAgICAgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBRdWVyeVN0cmluZy5wYXJzZURlZXAobG9jYXRpb24uc2VhcmNoLnN1YnN0cigxKSlcbiAgICAgICAgOiB1bmRlZmluZWQpIHx8IHt9OyAvLyBUT0RPOiBXSEFUIGFib3V0IFNTUiAodGhpcy5yZXF1ZXN0KSA/XG5cbiAgICBjb25zdCB1c2VyQXR0cmlidXRlcyA9XG4gICAgICAvLyBGSVhNRTogSEFDSzogb25seSBjaGVja3MgZmlyc3QgaW4gcXVldWUgZm9yIHVzZXIgYXR0cmlidXRlcyBvdmVycmlkZXMsIHNob3VsZCBjaGVjayBhbGxcbiAgICAgIC8vIFRPRE86IG1lcmdlIHVzZXIgYXR0cmlidXRlcyBwcm92aWRlZCBoZXJlIHdpdGggZGVmYXVsdHMgYW5kIGN1cnJlbnQgdXNlciBhdHRpcmlidXRlcyAoPylcbiAgICAgIHF1ZXVlICYmIHF1ZXVlWzBdLnVzZXJBdHRyaWJ1dGVzXG4gICAgICAgID8gcXVldWVbMF0udXNlckF0dHJpYnV0ZXNcbiAgICAgICAgOiB0aGlzLnRhcmdldENvbnRlbnRcbiAgICAgICAgICA/IHRoaXMuZ2V0VXNlckF0dHJpYnV0ZXMoKVxuICAgICAgICAgIDoge1xuICAgICAgICAgICAgICB1cmxQYXRoOiB0aGlzLmdldExvY2F0aW9uKCkucGF0aG5hbWUsXG4gICAgICAgICAgICB9O1xuXG4gICAgY29uc3QgZnVsbFVybFF1ZXVlSXRlbSA9IHF1ZXVlLmZpbmQoaXRlbSA9PiAhIWl0ZW0uaW5jbHVkZVVybCk7XG4gICAgaWYgKGZ1bGxVcmxRdWV1ZUl0ZW0pIHtcbiAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5nZXRMb2NhdGlvbigpO1xuICAgICAgaWYgKGxvY2F0aW9uLm9yaWdpbikge1xuICAgICAgICBxdWVyeVBhcmFtcy51cmwgPSBgJHtsb2NhdGlvbi5vcmlnaW59JHtsb2NhdGlvbi5wYXRobmFtZX0ke2xvY2F0aW9uLnNlYXJjaH1gO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHVybFF1ZXVlSXRlbSA9IHVzZVF1ZXVlPy5maW5kKGl0ZW0gPT4gaXRlbS51cmwpO1xuICAgIGlmICh1cmxRdWV1ZUl0ZW0/LnVybCkge1xuICAgICAgdXNlckF0dHJpYnV0ZXMudXJsUGF0aCA9IHVybFF1ZXVlSXRlbS51cmwuc3BsaXQoJz8nKVswXTtcbiAgICB9XG4gICAgLy8gVE9ETzogbWVyZ2UgaW4gdGhlIGF0dHJpYnV0ZSBmcm9tIHF1ZXJ5IHN0cmluZyBvbmVzXG4gICAgLy8gVE9ETzogbWFrZSB0aGlzIGFuIG9wdGlvbiBwZXIgY29tcG9uZW50L3JlcXVlc3RcbiAgICBxdWVyeVBhcmFtcy51c2VyQXR0cmlidXRlcyA9IEpTT04uc3RyaW5naWZ5KHVzZXJBdHRyaWJ1dGVzKTtcblxuICAgIGlmICghdXNlUGFzdFF1ZXVlICYmICF1c2VRdWV1ZSkge1xuICAgICAgdGhpcy5wcmlvckNvbnRlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgdGhpcy5nZXRDb250ZW50UXVldWUgPSBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGNhY2hlYnVzdCA9XG4gICAgICB0aGlzLmNhY2hlYnVzdCB8fFxuICAgICAgaXNJZnJhbWUgfHxcbiAgICAgIHBhZ2VRdWVyeVBhcmFtcy5jYWNoZWJ1c3QgfHxcbiAgICAgIHBhZ2VRdWVyeVBhcmFtc1snYnVpbGRlci5jYWNoZWJ1c3QnXTtcblxuICAgIGlmIChjYWNoZWJ1c3QgfHwgdGhpcy5lbnYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcXVlcnlQYXJhbXMuY2FjaGVidXN0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoQnVpbGRlci5pc0VkaXRpbmcpIHtcbiAgICAgIHF1ZXJ5UGFyYW1zLmlzRWRpdGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubm9DYWNoZSB8fCB0aGlzLmVudiAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBxdWVyeVBhcmFtcy5ub0NhY2hlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoc2l6ZSh0aGlzLm92ZXJyaWRlcykpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMub3ZlcnJpZGVzKSB7XG4gICAgICAgIGlmICh0aGlzLm92ZXJyaWRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbXNbYG92ZXJyaWRlcy4ke2tleX1gXSA9IHRoaXMub3ZlcnJpZGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IG9wdGlvbnMgb2YgcXVldWUpIHtcbiAgICAgIGNvbnN0IGZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0O1xuXG4gICAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLmZvcm1hdCA9IGZvcm1hdDtcbiAgICAgIH1cbiAgICAgIC8vIFRPRE86IHJlbW92ZSBtZSBhbmQgbWFrZSBwZXJtb2RlbFxuICAgICAgaWYgKG9wdGlvbnMuc3RhdGljKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLnN0YXRpYyA9IG9wdGlvbnMuc3RhdGljO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5jYWNoZWJ1c3QpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuY2FjaGVidXN0ID0gb3B0aW9ucy5jYWNoZWJ1c3Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1Bvc2l0aXZlTnVtYmVyKG9wdGlvbnMuY2FjaGVTZWNvbmRzKSkge1xuICAgICAgICBxdWVyeVBhcmFtcy5jYWNoZVNlY29uZHMgPSBvcHRpb25zLmNhY2hlU2Vjb25kcztcbiAgICAgIH1cblxuICAgICAgaWYgKGlzUG9zaXRpdmVOdW1iZXIob3B0aW9ucy5zdGFsZUNhY2hlU2Vjb25kcykpIHtcbiAgICAgICAgcXVlcnlQYXJhbXMuc3RhbGVDYWNoZVNlY29uZHMgPSBvcHRpb25zLnN0YWxlQ2FjaGVTZWNvbmRzO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5hcGlFbmRwb2ludCA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLmluY2x1ZGVSZWZzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYXBpRW5kcG9pbnQgPT09ICdxdWVyeScpIHtcbiAgICAgICAgaWYgKCdlbnJpY2gnIGluIG9wdGlvbnMgJiYgb3B0aW9ucy5lbnJpY2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1zLmVucmljaCA9IG9wdGlvbnMuZW5yaWNoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmVucmljaE9wdGlvbnMpIHtcbiAgICAgICAgICB0aGlzLmZsYXR0ZW5FbnJpY2hPcHRpb25zKG9wdGlvbnMuZW5yaWNoT3B0aW9ucywgJ2VucmljaE9wdGlvbnMnLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJvcGVydGllczogKGtleW9mIEdldENvbnRlbnRPcHRpb25zKVtdID0gW1xuICAgICAgICAncHJlcmVuZGVyJyxcbiAgICAgICAgJ2V4dHJhY3RDc3MnLFxuICAgICAgICAnbGltaXQnLFxuICAgICAgICAnb2Zmc2V0JyxcbiAgICAgICAgJ3F1ZXJ5JyxcbiAgICAgICAgJ3ByZXZpZXcnLFxuICAgICAgICAnbW9kZWwnLFxuICAgICAgICAnZW50cnknLFxuICAgICAgICAncmV2JyxcbiAgICAgICAgJ3N0YXRpYycsXG4gICAgICAgICdpbmNsdWRlUmVmcycsXG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1trZXldO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICh0aGlzLmFwaUVuZHBvaW50ID09PSAncXVlcnknKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5vcHRpb25zID0gcXVlcnlQYXJhbXMub3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLm9wdGlvbnNbb3B0aW9ucy5rZXkhXSA9IHF1ZXJ5UGFyYW1zLm9wdGlvbnNbb3B0aW9ucy5rZXkhXSB8fCB7fTtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLm9wdGlvbnNbb3B0aW9ucy5rZXkhXVtrZXldID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtc1trZXldID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgZW5yaWNoIGFuZCBlbnJpY2hPcHRpb25zIGZvciBjb250ZW50IGVuZHBvaW50XG4gICAgICBpZiAodGhpcy5hcGlFbmRwb2ludCA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgIGlmICgnZW5yaWNoJyBpbiBvcHRpb25zICYmIG9wdGlvbnMuZW5yaWNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBxdWVyeVBhcmFtcy5lbnJpY2ggPSBvcHRpb25zLmVucmljaDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5lbnJpY2hPcHRpb25zKSB7XG4gICAgICAgICAgdGhpcy5mbGF0dGVuRW5yaWNoT3B0aW9ucyhvcHRpb25zLmVucmljaE9wdGlvbnMsICdlbnJpY2hPcHRpb25zJywgcXVlcnlQYXJhbXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnByZXZpZXcgJiYgdGhpcy5wcmV2aWV3aW5nTW9kZWwgPT09IHF1ZXVlPy5bMF0/Lm1vZGVsKSB7XG4gICAgICBxdWVyeVBhcmFtcy5wcmV2aWV3ID0gJ3RydWUnO1xuICAgIH1cbiAgICBjb25zdCBoYXNQYXJhbXMgPSBPYmplY3Qua2V5cyhxdWVyeVBhcmFtcykubGVuZ3RoID4gMDtcblxuICAgIC8vIFRPRE86IG9wdGlvbiB0byBmb3JjZSBkZXYgb3IgcWEgYXBpIGhlcmVcbiAgICBjb25zdCBob3N0ID0gdGhpcy5ob3N0O1xuXG4gICAgY29uc3Qga2V5TmFtZXMgPSBxdWV1ZS5tYXAoaXRlbSA9PiBlbmNvZGVVUklDb21wb25lbnQoaXRlbS5rZXkhKSkuam9pbignLCcpO1xuXG4gICAgaWYgKHRoaXMub3ZlcnJpZGVQYXJhbXMpIHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG9taXQoUXVlcnlTdHJpbmcucGFyc2UodGhpcy5vdmVycmlkZVBhcmFtcyksICdhcGlLZXknKTtcbiAgICAgIGFzc2lnbihxdWVyeVBhcmFtcywgcGFyYW1zKTtcbiAgICB9XG5cbiAgICBjb25zdCBmb3JtYXQgPSBxdWVyeVBhcmFtcy5mb3JtYXQ7XG4gICAgY29uc3QgaXNBcGlDYWxsRm9yQ29kZWdlbiA9IGZvcm1hdCA9PT0gJ3NvbGlkJyB8fCBmb3JtYXQgPT09ICdyZWFjdCc7XG4gICAgY29uc3QgaXNBcGlDYWxsRm9yQ29kZWdlbk9yUXVlcnkgPSBpc0FwaUNhbGxGb3JDb2RlZ2VuIHx8IHRoaXMuYXBpRW5kcG9pbnQgPT09ICdxdWVyeSc7XG5cbiAgICBpZiAodGhpcy5hcGlFbmRwb2ludCA9PT0gJ2NvbnRlbnQnKSB7XG4gICAgICBpZiAocXVldWVbMF0ucXVlcnkpIHtcbiAgICAgICAgZGVsZXRlIHF1ZXJ5UGFyYW1zLnF1ZXJ5O1xuICAgICAgICBjb25zdCBvYmplY3RUb0ZsYXR0ZW4gPSB7IHF1ZXJ5OiBxdWV1ZVswXS5xdWVyeSB9O1xuICAgICAgICBjb25zdCBmbGF0dGVuZWQgPSB0aGlzLmZsYXR0ZW5Nb25nb1F1ZXJ5KG9iamVjdFRvRmxhdHRlbik7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGZsYXR0ZW5lZCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1zW2tleV0gPSBKU09OLnN0cmluZ2lmeShmbGF0dGVuZWRba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBxdWVyeVN0ciA9IFF1ZXJ5U3RyaW5nLnN0cmluZ2lmeURlZXAocXVlcnlQYXJhbXMpO1xuXG4gICAgY29uc3QgZmV0Y2hPcHRpb25zID0geyBoZWFkZXJzOiB7fSwgLi4ucXVldWVbMF0uZmV0Y2hPcHRpb25zIH07XG4gICAgaWYgKHRoaXMuYXV0aFRva2VuKSB7XG4gICAgICBmZXRjaE9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgLi4uZmV0Y2hPcHRpb25zLmhlYWRlcnMsXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmF1dGhUb2tlbn1gLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgdXJsO1xuICAgIGlmIChpc0FwaUNhbGxGb3JDb2RlZ2VuKSB7XG4gICAgICB1cmwgPSBgJHtob3N0fS9hcGkvdjEvY29kZWdlbi8ke3RoaXMuYXBpS2V5fS8ke2tleU5hbWVzfWA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmFwaUVuZHBvaW50ID09PSAncXVlcnknKSB7XG4gICAgICB1cmwgPSBgJHtob3N0fS9hcGkvdjMvcXVlcnkvJHt0aGlzLmFwaUtleX0vJHtrZXlOYW1lc31gO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgPSBgJHtob3N0fS9hcGkvdjMvY29udGVudC8ke3F1ZXVlWzBdLm1vZGVsfWA7XG4gICAgfVxuXG4gICAgdXJsID0gdXJsICsgKHF1ZXJ5UGFyYW1zICYmIGhhc1BhcmFtcyA/IGA/JHtxdWVyeVN0cn1gIDogJycpO1xuXG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMubWFrZUZldGNoQXBpQ2FsbCh1cmwsIGZldGNoT3B0aW9ucylcbiAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oXG4gICAgICAgIHJlc3VsdCA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCBvcHRpb25zIG9mIHF1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlOYW1lID0gb3B0aW9ucy5rZXkhO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubW9kZWwgPT09IHRoaXMuYmxvY2tDb250ZW50TG9hZGluZyAmJiAhb3B0aW9ucy5ub0VkaXRvclVwZGF0ZXMpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGlzRWRpdGluZ1RoaXNNb2RlbCA9IHRoaXMuZWRpdGluZ01vZGVsID09PSBvcHRpb25zLm1vZGVsO1xuICAgICAgICAgICAgaWYgKGlzRWRpdGluZ1RoaXNNb2RlbCAmJiBCdWlsZGVyLmlzRWRpdGluZykge1xuICAgICAgICAgICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoeyB0eXBlOiAnYnVpbGRlci51cGRhdGVDb250ZW50JywgZGF0YTogeyBvcHRpb25zIH0gfSwgJyonKTtcbiAgICAgICAgICAgICAgLy8gcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc0J5S2V5W2tleU5hbWVdO1xuICAgICAgICAgICAgaWYgKCFvYnNlcnZlcikge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gaXNBcGlDYWxsRm9yQ29kZWdlbk9yUXVlcnkgPyByZXN1bHRba2V5TmFtZV0gOiByZXN1bHQucmVzdWx0cztcbiAgICAgICAgICAgIGNvbnN0IHNvcnRlZCA9IGRhdGE7IC8vIHNvcnRCeShkYXRhLCBpdGVtID0+IGl0ZW0ucHJpb3JpdHkpO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgY29uc3QgdGVzdE1vZGlmaWVkUmVzdWx0cyA9IEJ1aWxkZXIuaXNTZXJ2ZXJcbiAgICAgICAgICAgICAgICA/IHNvcnRlZFxuICAgICAgICAgICAgICAgIDogdGhpcy5wcm9jZXNzUmVzdWx0c0ZvclRlc3RzKHNvcnRlZCk7XG4gICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodGVzdE1vZGlmaWVkUmVzdWx0cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBzZWFyY2ggPSB0aGlzLmdldExvY2F0aW9uKCkuc2VhcmNoO1xuICAgICAgICAgICAgICBpZiAoKHNlYXJjaCB8fCAnJykuaW5jbHVkZXMoJ2J1aWxkZXIucHJldmlldz0nICsgb3B0aW9ucy5tb2RlbCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgIGlkOiAncHJldmlldycsXG4gICAgICAgICAgICAgICAgICBuYW1lOiAnUHJldmlldycsXG4gICAgICAgICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoW3ByZXZpZXdEYXRhXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9ucyBvZiBxdWV1ZSkge1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVyc0J5S2V5W29wdGlvbnMua2V5IV07XG4gICAgICAgICAgICBpZiAoIW9ic2VydmVyKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBwcml2YXRlIHRlc3RDb29raWVQcmVmaXggPSAnYnVpbGRlci50ZXN0cyc7XG5cbiAgcHJpdmF0ZSBwcm9jZXNzUmVzdWx0c0ZvclRlc3RzKHJlc3VsdHM6IEJ1aWxkZXJDb250ZW50W10pIHtcbiAgICBjb25zdCBtYXBwZWRSZXN1bHRzID0gcmVzdWx0cy5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoIWl0ZW0udmFyaWF0aW9ucykge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvb2tpZVZhbHVlID0gdGhpcy5nZXRUZXN0Q29va2llKGl0ZW0uaWQhKTtcbiAgICAgIGNvbnN0IGNvb2tpZVZhcmlhdGlvbiA9IGNvb2tpZVZhbHVlID09PSBpdGVtLmlkID8gaXRlbSA6IGl0ZW0udmFyaWF0aW9uc1tjb29raWVWYWx1ZV07XG4gICAgICBpZiAoY29va2llVmFyaWF0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICBkYXRhOiBjb29raWVWYXJpYXRpb24uZGF0YSxcbiAgICAgICAgICB2YXJpYXRpb25JZDogY29va2llVmFsdWUsXG4gICAgICAgICAgdGVzdFZhcmlhdGlvbklkOiBjb29raWVWYWx1ZSxcbiAgICAgICAgICB0ZXN0VmFyaWF0aW9uTmFtZTogY29va2llVmFyaWF0aW9uLm5hbWUsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jYW5UcmFjayAmJiBpdGVtLnZhcmlhdGlvbnMgJiYgc2l6ZShpdGVtLnZhcmlhdGlvbnMpKSB7XG4gICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgY29uc3QgcmFuZG9tID0gTWF0aC5yYW5kb20oKTtcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBpdGVtLnZhcmlhdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCB2YXJpYXRpb24gPSBpdGVtLnZhcmlhdGlvbnNbaWRdITtcbiAgICAgICAgICBjb25zdCB0ZXN0UmF0aW8gPSB2YXJpYXRpb24udGVzdFJhdGlvO1xuICAgICAgICAgIG4gKz0gdGVzdFJhdGlvITtcbiAgICAgICAgICBpZiAocmFuZG9tIDwgbikge1xuICAgICAgICAgICAgdGhpcy5zZXRUZXN0Q29va2llKGl0ZW0uaWQhLCB2YXJpYXRpb24uaWQhKTtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbk5hbWUgPVxuICAgICAgICAgICAgICB2YXJpYXRpb24ubmFtZSB8fCAodmFyaWF0aW9uLmlkID09PSBpdGVtLmlkID8gJ0RlZmF1bHQgdmFyaWF0aW9uJyA6ICcnKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgIGRhdGE6IHZhcmlhdGlvbi5kYXRhLFxuICAgICAgICAgICAgICB2YXJpYXRpb25JZDogdmFyaWF0aW9uLmlkLFxuICAgICAgICAgICAgICB0ZXN0VmFyaWF0aW9uSWQ6IHZhcmlhdGlvbi5pZCxcbiAgICAgICAgICAgICAgdmFyaWF0aW9uTmFtZTogdmFyaWF0aW9uTmFtZSxcbiAgICAgICAgICAgICAgdGVzdFZhcmlhdGlvbk5hbWU6IHZhcmlhdGlvbk5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFRlc3RDb29raWUoaXRlbS5pZCEsIGl0ZW0uaWQhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHZhcmlhdGlvbklkOiBpdGVtLmlkLFxuICAgICAgICAuLi4oaXRlbS52YXJpYXRpb25zICYmXG4gICAgICAgICAgc2l6ZShpdGVtLnZhcmlhdGlvbnMpICYmIHtcbiAgICAgICAgICAgIHRlc3RWYXJpYXRpb25JZDogaXRlbS5pZCxcbiAgICAgICAgICAgIHRlc3RWYXJpYXRpb25OYW1lOiAnRGVmYXVsdCB2YXJpYXRpb24nLFxuICAgICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGlmIChpc0lmcmFtZSkge1xuICAgICAgd2luZG93LnBhcmVudD8ucG9zdE1lc3NhZ2UoXG4gICAgICAgIHsgdHlwZTogJ2J1aWxkZXIuY29udGVudFJlc3VsdHMnLCBkYXRhOiB7IHJlc3VsdHM6IG1hcHBlZFJlc3VsdHMgfSB9LFxuICAgICAgICAnKidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcHBlZFJlc3VsdHM7XG4gIH1cblxuICBwcml2YXRlIGdldFRlc3RDb29raWUoY29udGVudElkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb29raWUoYCR7dGhpcy50ZXN0Q29va2llUHJlZml4fS4ke2NvbnRlbnRJZH1gKTtcbiAgfVxuXG4gIHByaXZhdGUgY29va2llUXVldWU6IFtzdHJpbmcsIHN0cmluZ11bXSA9IFtdO1xuXG4gIHByaXZhdGUgc2V0VGVzdENvb2tpZShjb250ZW50SWQ6IHN0cmluZywgdmFyaWF0aW9uSWQ6IHN0cmluZykge1xuICAgIGlmICghdGhpcy5jYW5UcmFjaykge1xuICAgICAgdGhpcy5jb29raWVRdWV1ZS5wdXNoKFtjb250ZW50SWQsIHZhcmlhdGlvbklkXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gMzAgZGF5cyBmcm9tIG5vd1xuICAgIGNvbnN0IGZ1dHVyZSA9IG5ldyBEYXRlKCk7XG4gICAgZnV0dXJlLnNldERhdGUoZnV0dXJlLmdldERhdGUoKSArIDMwKTtcblxuICAgIHJldHVybiB0aGlzLnNldENvb2tpZShgJHt0aGlzLnRlc3RDb29raWVQcmVmaXh9LiR7Y29udGVudElkfWAsIHZhcmlhdGlvbklkLCBmdXR1cmUpO1xuICB9XG5cbiAgZ2V0Q29va2llKG5hbWU6IHN0cmluZyk6IGFueSB7XG4gICAgaWYgKHRoaXMuY29va2llcykge1xuICAgICAgcmV0dXJuIHRoaXMuY29va2llcy5nZXQobmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBCdWlsZGVyLmlzQnJvd3NlciAmJiBnZXRDb29raWUobmFtZSk7XG4gIH1cblxuICBzZXRDb29raWUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCBleHBpcmVzPzogRGF0ZSkge1xuICAgIGlmICh0aGlzLmNvb2tpZXMgJiYgIShCdWlsZGVyLmlzU2VydmVyICYmIEJ1aWxkZXIuaXNTdGF0aWMpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29raWVzLnNldChuYW1lLCB2YWx1ZSwge1xuICAgICAgICBleHBpcmVzLFxuICAgICAgICBzZWN1cmU6IHRoaXMuZ2V0TG9jYXRpb24oKS5wcm90b2NvbCA9PT0gJ2h0dHBzOicsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIEJ1aWxkZXIuaXNCcm93c2VyICYmIHNldENvb2tpZShuYW1lLCB2YWx1ZSwgZXhwaXJlcyk7XG4gIH1cblxuICAvKipcbiAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgZW5yaWNoT3B0aW9ucyBvYmplY3QgaW50byBkb3Qtbm90YXRpb24gcXVlcnkgcGFyYW1ldGVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBmbGF0dGVuRW5yaWNoT3B0aW9ucyhvYmo6IGFueSwgcHJlZml4OiBzdHJpbmcsIHJlc3VsdDogUmVjb3JkPHN0cmluZywgYW55Pik6IHZvaWQge1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9iaikpIHtcbiAgICAgIGNvbnN0IG5ld0tleSA9IGAke3ByZWZpeH0uJHtrZXl9YDtcblxuICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHRoaXMuZmxhdHRlbkVucmljaE9wdGlvbnModmFsdWUsIG5ld0tleSwgcmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtuZXdLZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29udGVudChtb2RlbE5hbWU6IHN0cmluZywgb3B0aW9uczogR2V0Q29udGVudE9wdGlvbnMgPSB7fSkge1xuICAgIGlmICghdGhpcy5hcGlLZXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEZldGNoaW5nIGNvbnRlbnQgZnJvbSBtb2RlbCAke21vZGVsTmFtZX0gZmFpbGVkLCBleHBlY3RlZCBhcGlLZXkgdG8gYmUgZGVmaW5lZCBpbnN0ZWFkIGdvdDogJHt0aGlzLmFwaUtleX1gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5xdWV1ZUdldENvbnRlbnQobW9kZWxOYW1lLCBvcHRpb25zKTtcbiAgfVxuXG4gIGdldEFsbChcbiAgICBtb2RlbE5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zOiBHZXRDb250ZW50T3B0aW9ucyAmIHtcbiAgICAgIHJlcT86IEluY29taW5nTWVzc2FnZTtcbiAgICAgIHJlcz86IFNlcnZlclJlc3BvbnNlO1xuICAgICAgYXBpS2V5Pzogc3RyaW5nO1xuICAgICAgYXV0aFRva2VuPzogc3RyaW5nO1xuICAgIH0gPSB7fVxuICApOiBQcm9taXNlPEJ1aWxkZXJDb250ZW50W10+IHtcbiAgICBsZXQgaW5zdGFuY2U6IEJ1aWxkZXIgPSB0aGlzO1xuICAgIGlmICghQnVpbGRlci5pc0Jyb3dzZXIpIHtcbiAgICAgIGluc3RhbmNlID0gbmV3IEJ1aWxkZXIoXG4gICAgICAgIG9wdGlvbnMuYXBpS2V5IHx8IHRoaXMuYXBpS2V5LFxuICAgICAgICBvcHRpb25zLnJlcSxcbiAgICAgICAgb3B0aW9ucy5yZXMsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBvcHRpb25zLmF1dGhUb2tlbiB8fCB0aGlzLmF1dGhUb2tlbixcbiAgICAgICAgb3B0aW9ucy5hcGlWZXJzaW9uIHx8IHRoaXMuYXBpVmVyc2lvblxuICAgICAgKTtcbiAgICAgIGluc3RhbmNlLnNldFVzZXJBdHRyaWJ1dGVzKHRoaXMuZ2V0VXNlckF0dHJpYnV0ZXMoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5PVEU6IEFsbCB0aGVzZSBhcmUgd2hlbiAuaW5pdCBpcyBub3QgY2FsbGVkIGFuZCB0aGUgY3VzdG9tZXJcbiAgICAgIC8vIGRpcmVjdGx5IGNhbGxzIC5nZXQgb24gdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiBCdWlsZGVyXG4gICAgICBpZiAob3B0aW9ucy5hcGlLZXkgJiYgIXRoaXMuYXBpS2V5KSB7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gb3B0aW9ucy5hcGlLZXk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5hdXRoVG9rZW4gJiYgIXRoaXMuYXV0aFRva2VuKSB7XG4gICAgICAgIHRoaXMuYXV0aFRva2VuID0gb3B0aW9ucy5hdXRoVG9rZW47XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5hcGlWZXJzaW9uICYmICF0aGlzLmFwaVZlcnNpb24pIHtcbiAgICAgICAgdGhpcy5hcGlWZXJzaW9uID0gb3B0aW9ucy5hcGlWZXJzaW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldCBub1RyYXZlcnNlPXRydWUgaWYgTk9UIGFscmVhZHkgcGFzc2VkIGJ5IHVzZXIsIGZvciBxdWVyeSBwZXJmb3JtYW5jZVxuICAgIGlmICghKCdub1RyYXZlcnNlJyBpbiBvcHRpb25zKSkge1xuICAgICAgb3B0aW9ucy5ub1RyYXZlcnNlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2VcbiAgICAgIC5nZXRDb250ZW50KG1vZGVsTmFtZSwge1xuICAgICAgICBsaW1pdDogMzAsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGtleTpcbiAgICAgICAgICBvcHRpb25zLmtleSB8fFxuICAgICAgICAgIC8vIE1ha2UgdGhlIGtleSBpbmNsdWRlIGFsbCBvcHRpb25zLCBzbyB3ZSBkb24ndCByZXVzZSBjYWNoZSBmb3IgdGhlIHNhbWUgY29udGVudCBmZXRjaGVkXG4gICAgICAgICAgLy8gd2l0aCBkaWZmZXJlbnQgb3B0aW9uc1xuICAgICAgICAgIEJ1aWxkZXIuaXNCcm93c2VyXG4gICAgICAgICAgICA/IGAke21vZGVsTmFtZX06JHtoYXNoKG9taXQob3B0aW9ucywgJ2luaXRpYWxDb250ZW50JywgJ3JlcScsICdyZXMnKSl9YFxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICB9KVxuICAgICAgLnByb21pc2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQnVpbGRlciB9IGZyb20gJy4uL2J1aWxkZXIuY2xhc3MnO1xuXG5leHBvcnQgY29uc3QgYnVpbGRlciA9IG5ldyBCdWlsZGVyKG51bGwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlKTtcbkJ1aWxkZXIuc2luZ2xldG9uSW5zdGFuY2UgPSBidWlsZGVyO1xuIl0sIm5hbWVzIjpbIlByb21pc2UiLCJzZXJ2ZXJPbmx5UmVxdWlyZSIsInBhcnNlIiwidXJsUGFyc2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@builder.io/sdk/dist/index.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@builder.io/sdk/node_modules/tslib/tslib.es6.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@builder.io/sdk/node_modules/tslib/tslib.es6.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __assign: () => (/* binding */ __assign),\n/* harmony export */   __asyncDelegator: () => (/* binding */ __asyncDelegator),\n/* harmony export */   __asyncGenerator: () => (/* binding */ __asyncGenerator),\n/* harmony export */   __asyncValues: () => (/* binding */ __asyncValues),\n/* harmony export */   __await: () => (/* binding */ __await),\n/* harmony export */   __awaiter: () => (/* binding */ __awaiter),\n/* harmony export */   __classPrivateFieldGet: () => (/* binding */ __classPrivateFieldGet),\n/* harmony export */   __classPrivateFieldSet: () => (/* binding */ __classPrivateFieldSet),\n/* harmony export */   __createBinding: () => (/* binding */ __createBinding),\n/* harmony export */   __decorate: () => (/* binding */ __decorate),\n/* harmony export */   __exportStar: () => (/* binding */ __exportStar),\n/* harmony export */   __extends: () => (/* binding */ __extends),\n/* harmony export */   __generator: () => (/* binding */ __generator),\n/* harmony export */   __importDefault: () => (/* binding */ __importDefault),\n/* harmony export */   __importStar: () => (/* binding */ __importStar),\n/* harmony export */   __makeTemplateObject: () => (/* binding */ __makeTemplateObject),\n/* harmony export */   __metadata: () => (/* binding */ __metadata),\n/* harmony export */   __param: () => (/* binding */ __param),\n/* harmony export */   __read: () => (/* binding */ __read),\n/* harmony export */   __rest: () => (/* binding */ __rest),\n/* harmony export */   __spread: () => (/* binding */ __spread),\n/* harmony export */   __spreadArrays: () => (/* binding */ __spreadArrays),\n/* harmony export */   __values: () => (/* binding */ __values)\n/* harmony export */ });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJ1aWxkZXIuaW8vc2RrL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ25GLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxjQUFjO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDZDQUE2QyxRQUFRO0FBQ3JEO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1AsY0FBYyw2QkFBNkIsMEJBQTBCLGNBQWMscUJBQXFCO0FBQ3hHLGlCQUFpQixvREFBb0QscUVBQXFFLGNBQWM7QUFDeEosdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsbUNBQW1DLFNBQVM7QUFDNUMsbUNBQW1DLFdBQVcsVUFBVTtBQUN4RCwwQ0FBMEMsY0FBYztBQUN4RDtBQUNBLDhHQUE4RyxPQUFPO0FBQ3JILGlGQUFpRixpQkFBaUI7QUFDbEcseURBQXlELGdCQUFnQixRQUFRO0FBQ2pGLCtDQUErQyxnQkFBZ0IsZ0JBQWdCO0FBQy9FO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxVQUFVLFlBQVksYUFBYSxTQUFTLFVBQVU7QUFDdEQsb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixNQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw2QkFBNkIsc0JBQXNCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrREFBa0QsUUFBUTtBQUMxRCx5Q0FBeUMsUUFBUTtBQUNqRCx5REFBeUQsUUFBUTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsaUJBQWlCLHVGQUF1RixjQUFjO0FBQ3RILHVCQUF1QixnQ0FBZ0MscUNBQXFDLDJDQUEyQztBQUN2SSw0QkFBNEIsTUFBTSxpQkFBaUIsWUFBWTtBQUMvRCx1QkFBdUI7QUFDdkIsOEJBQThCO0FBQzlCLDZCQUE2QjtBQUM3Qiw0QkFBNEI7QUFDNUI7QUFDQTtBQUNPO0FBQ1A7QUFDQSxpQkFBaUIsNkNBQTZDLFVBQVUsc0RBQXNELGNBQWM7QUFDNUksMEJBQTBCLDZCQUE2QixvQkFBb0IsZ0RBQWdELGtCQUFrQjtBQUM3STtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsMkdBQTJHLHVGQUF1RixjQUFjO0FBQ2hOLHVCQUF1Qiw4QkFBOEIsZ0RBQWdELHdEQUF3RDtBQUM3Siw2Q0FBNkMsc0NBQXNDLFVBQVUsbUJBQW1CLElBQUk7QUFDcEg7QUFDQTtBQUNPO0FBQ1AsaUNBQWlDLHVDQUF1QyxZQUFZLEtBQUssT0FBTztBQUNoRztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2JhbmRhcm9mL0dpdGh1Yi9CWk5vbWFkL25vZGVfbW9kdWxlcy9AYnVpbGRlci5pby9zZGsvbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@builder.io/sdk/node_modules/tslib/tslib.es6.js\n");

/***/ })

};
;